{"version":3,"sources":["webpack:///./src/components/Tools/Squads/MultidexSelectors/SphereSelector.vue?5e05","webpack:///src/components/Tools/Squads/MultidexSelectors/SphereSelector.vue","webpack:///./src/components/Tools/Squads/MultidexSelectors/SphereSelector.vue?62cc","webpack:///./src/components/Tools/Squads/MultidexSelectors/SphereSelector.vue","webpack:///./src/components/Multidex/ExtraSkills/EntryCard.vue?3f0e","webpack:///src/components/Multidex/ExtraSkills/EntryCard.vue","webpack:///./src/components/Multidex/ExtraSkills/EntryCard.vue?bbd1","webpack:///./src/components/Multidex/ExtraSkills/EntryCard.vue","webpack:///./src/views/Tools/Compare.vue?59e1","webpack:///./src/components/Tools/Compare/Main.vue?797b","webpack:///./src/components/Tools/Compare/EntryCard.vue?c769","webpack:///src/components/Tools/Compare/EntryCard.vue","webpack:///./src/components/Tools/Compare/EntryCard.vue?baa6","webpack:///./src/components/Tools/Compare/EntryCard.vue","webpack:///./src/components/Tools/Compare/AddCompareEntry.vue?2301","webpack:///./src/components/Tools/Squads/MultidexSelectors/BurstSelector.vue?a5a4","webpack:///src/components/Tools/Squads/MultidexSelectors/BurstSelector.vue","webpack:///./src/components/Tools/Squads/MultidexSelectors/BurstSelector.vue?807f","webpack:///./src/components/Tools/Squads/MultidexSelectors/BurstSelector.vue","webpack:///./src/components/Tools/Squads/MultidexSelectors/LeaderSkillSelector.vue?d9c7","webpack:///src/components/Tools/Squads/MultidexSelectors/LeaderSkillSelector.vue","webpack:///./src/components/Tools/Squads/MultidexSelectors/LeaderSkillSelector.vue?e22e","webpack:///./src/components/Tools/Squads/MultidexSelectors/LeaderSkillSelector.vue","webpack:///src/components/Tools/Compare/AddCompareEntry.vue","webpack:///./src/components/Tools/Compare/AddCompareEntry.vue?8def","webpack:///./src/components/Tools/Compare/AddCompareEntry.vue","webpack:///src/components/Tools/Compare/Main.vue","webpack:///./src/components/Tools/Compare/Main.vue?df10","webpack:///./src/components/Tools/Compare/Main.vue","webpack:///src/views/Tools/Compare.vue","webpack:///./src/views/Tools/Compare.vue?36b4","webpack:///./src/views/Tools/Compare.vue","webpack:///./src/components/Tools/Squads/MultidexSelectors/ExtraSkillSelector.vue?6a6a","webpack:///src/components/Tools/Squads/MultidexSelectors/ExtraSkillSelector.vue","webpack:///./src/components/Tools/Squads/MultidexSelectors/ExtraSkillSelector.vue?d0c5","webpack:///./src/components/Tools/Squads/MultidexSelectors/ExtraSkillSelector.vue","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableListView.vue?3ef2","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/ValueSubgrid.vue?f451","webpack:///./src/components/Tools/Compare/Main.vue?1ff1","webpack:///./src/components/Multidex/LeaderSkills/EntryCard.vue?0e48","webpack:///src/components/Multidex/LeaderSkills/EntryCard.vue","webpack:///./src/components/Multidex/LeaderSkills/EntryCard.vue?9045","webpack:///./src/components/Multidex/LeaderSkills/EntryCard.vue","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableList.vue?e69f","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/ValueSubgrid.vue?4d9f","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/SourcePathCell.vue?7724","webpack:///src/components/Multidex/BuffList/GenericBuffExpandableList/SourcePathCell.vue","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/SourcePathCell.vue?1673","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/SourcePathCell.vue","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/TriggeredOnCell.vue?d080","webpack:///src/components/Multidex/BuffList/GenericBuffExpandableList/TriggeredOnCell.vue","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/TriggeredOnCell.vue?fffe","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/TriggeredOnCell.vue","webpack:///src/components/Multidex/BuffList/GenericBuffExpandableList/ValueSubgrid.vue","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/ValueSubgrid.vue?69ba","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/ValueSubgrid.vue","webpack:///./src/components/Multidex/BuffList/DelayedVForExpansionPanel.vue?e27a","webpack:///src/components/Multidex/BuffList/DelayedVForExpansionPanel.vue","webpack:///./src/components/Multidex/BuffList/DelayedVForExpansionPanel.vue?85c1","webpack:///./src/components/Multidex/BuffList/DelayedVForExpansionPanel.vue","webpack:///src/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableList.vue","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableList.vue?41c5","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableList.vue","webpack:///./src/components/Multidex/Items/EntryCard.vue?7a3c","webpack:///src/components/Multidex/Items/EntryCard.vue","webpack:///./src/components/Multidex/Items/EntryCard.vue?6c52","webpack:///./src/components/Multidex/Items/EntryCard.vue","webpack:///./src/modules/core/leader-skills.js","webpack:///./src/modules/core/extra-skills.js","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/SourcePathCell.vue?a7fa","webpack:///./src/components/Tools/Squads/MultidexSelectors/UnitSelector.vue?8284","webpack:///src/components/Tools/Squads/MultidexSelectors/UnitSelector.vue","webpack:///./src/components/Tools/Squads/MultidexSelectors/UnitSelector.vue?e70a","webpack:///./src/components/Tools/Squads/MultidexSelectors/UnitSelector.vue","webpack:///./src/components/Multidex/Bursts/AttackChip.vue?a4ec","webpack:///src/components/Multidex/Bursts/AttackChip.vue","webpack:///./src/components/Multidex/Bursts/AttackChip.vue?8720","webpack:///./src/components/Multidex/Bursts/AttackChip.vue","webpack:///./src/modules/core/compare.js","webpack:///./src/components/Tools/Compare/AddCompareEntry.vue?f4fb","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableList.vue?936f","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/TriggeredOnCell.vue?3034","webpack:///./src/components/Multidex/Bursts/EntryCard.vue?1fdd","webpack:///src/components/Multidex/Bursts/EntryCard.vue","webpack:///./src/components/Multidex/Bursts/EntryCard.vue?aa2e","webpack:///./src/components/Multidex/Bursts/EntryCard.vue","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableListView.vue?7ee9","webpack:///./src/components/OrderConfigurator.vue?1d5d","webpack:///src/components/OrderConfigurator.vue","webpack:///./src/components/OrderConfigurator.vue?3d50","webpack:///./src/components/OrderConfigurator.vue","webpack:///src/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableListView.vue","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableListView.vue?a61d","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableListView.vue","webpack:///./src/components/OrderConfigurator.vue?d917","webpack:///./src/modules/CompareInputManager.js","webpack:///./src/components/Tools/Squads/MultidexSelectors/BaseSelector.vue?9c8c","webpack:///src/components/Tools/Squads/MultidexSelectors/BaseSelector.vue","webpack:///./src/components/Tools/Squads/MultidexSelectors/BaseSelector.vue?4b16","webpack:///./src/components/Tools/Squads/MultidexSelectors/BaseSelector.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","showCancelButton","nameFilter","hasSelection","requiredModules","allIds","on","$i","toLowerCase","$event","$emit","scopedSlots","_u","key","fn","ref","entries","_l","entry","staticClass","staticStyle","pageDb","nativeOn","sendEntry","staticRenderFns","props","type","Boolean","default","components","BaseSelector","EntryCard","computed","$store","state","items","Object","keys","filter","isSphere","hasName","data","methods","name","includes","query","component","to","domProps","_s","rarity","_v","_e","class","desc","showAssociatedUnits","associated_units","unit","i","getImageUrls","ills_thum","getUnit","thumbnailSize","mixins","RarityIcon","UnitThumbnail","breakpoint","xlOnly","id","compareInput","dbLoadPromise","slot","dbLoadMessage","dbLoadProgress","tabs","model","value","callback","$$v","currentTabIndex","expression","showPickerDialog","activePickerType","pickerStep","addCompareInput","$s","showClearDialog","typeToClear","clearEntries","length","section","getEntriesForMultidexKey","allMultidexKeys","COMPARE_KEY_ORDER","removeCompareInput","viewMode","getEffectsFromSource","topNavbarHeight","getTextForSource","$v","effectId","getCompareInputKey","source","sourcePath","getChipConfig","backgroundColor","textColor","outline","avatar","getHeaderCardConfig","tag","unitChipViewModeIsOutlined","entryCard","multidexLink","_t","required","String","useMultidexLink","UnitEntryCard","ItemEntryCard","ExtraSkillEntryCard","LeaderSkillEntryCard","BurstEntryCard","BaseEntryCard","multidexModule","currentStep","validTypeSelected","pairing","selectType","selectedTypeName","activeSelectorComponent","onEntrySelect","selectedType","bursts","leaderSkills","step","Number","UnitSelector","ExtraSkillSelector","SphereSelector","BurstSelector","LeaderSkillSelector","allTypePairings","watch","immediate","handler","newType","Math","max","newValue","Array","PromiseWait","LoadingIndicator","CardTabsContainer","AddCompareEntry","BuffExpandableListView","sections","unitsDb","itemsDb","extraSkillsDb","burstsDb","leaderSkillsDb","Promise","resolve","beforeMount","onNewInput","getMultidexDatabaseIdsFromCompareInput","acc","inputs","forEach","mapping","associatedMultidexKey","push","input","getLocalDbForMultidexKey","values","localDb","getDataForCompareEntry","updatePageDbForInput","replaceRouteWithInput","inputList","map","result","target","effectType","item","skill","burst","logger","warn","updateTopNavbarHeight","avatarIsUrl","undefined","getters","ills_battle","colorConfig","background","text","initialValue","getColorMappingForSourcePath","disableHtmlOverflow","commit","ModuleChecker","ComparePage","freeze","sanitizedCompareInput","extraSkills","loadProgress","isVisuallyLoadingList","sortedEffectIds","directives","rawName","handleLoadStart","handleLoadEnd","$p","arrayEntry","getEntryHeaderClasses","effectNameById","getSourcesForEffectId","index","viewedTables","expandedTables","propsById","e","getValueSubgridEntry","identifier","style","lockPropertyColumn","convertNumberToColumnSpanStyle","columnCountMappingByValueEntry","get","prop","p","getClassForProperty","valueEntry","v","getClassForValue","getPropertyValue","displayValue","Function","materialColor","SOURCE_PATH_TO_MATERIAL_COLOR_MAPPING","hexColor","primaryColor","colorSplit","slice","capitalize","join","accent","replace","cellStyle","bb","sbb","ubb","BURST_TYPE_TO_MATERIAL_COLOR_MAPPING","BURST_TYPE_TO_TEXT_MAPPING","properties","showHeaders","allowOverflow","minValueColumnWidth","freezePropertyColumn","SourcePathCell","TriggeredOnCell","numValueColumns","set","columnCount","mainValueGridStyle","numColumns","columnConfig","valueSubgridWidth","overflow","customCellsByPropertyName","mounted","isProcBuffList","isCustomCell","isArray","_b","$attrs","getKeyFunction","DelayedVForMixin","sources","inputEffectMappingBySource","WeakMap","highlightedBuffIds","ValueSubgrid","DelayedVForExpansionPanel","blacklistedKeys","weightedCompareOptions","effectsById","effects","effectDetails","effectEntry","effect","add","from","sort","valueSubgridEntryByEntryByEffectId","loadStartToken","loadingList","loadingDebouncer","highlightCheckerTimeout","beforeDestroy","dispose","getEffectDetails","processedEffect","startToken","endToken","valueSubgridCache","has","subgridEntry","toggleEffectView","toggleAllEffectViews","isEmptyArray","obj","effectList","sourcePaths","sourcePathsBySource","isHighlightedHeader","highlightHeaders","allHighlightedHeaders","header","classList","ensureHeadersAreHighlighted","hasUnhighlightedHeader","noActionNecessaryCount","runCheck","doShow","LoadingDebouncer","setValue","isLoading","getImageUrl","raid","itemType","max_stack","SphereTypeIcon","ItemThumbnail","hasSphereType","getLeaderSkillEffects","getEffectsListForLeaderSkill","targetTypes","PARTY","squadBuffTypes","PROC","getEffectsList","leaderSkillEffects","parseExtraSkillConditions","parsedConditions","sphereType","conditions","condition","unknown","conditionHelperGetUnitNames","units","unitById","names","toString","getHighestRarityUnit","reduce","val","concat","conditionHelperGetItemNames","itemById","convertParsedConditionsToMessage","c","getSphereCategory","splitEffectsByCondition","conditionDictionary","message","parsedEffects","isValidSkill","expectedFields","every","f","getEmptySkill","getExtraSkillEffects","getEffectsListForExtraSkill","elgifEffects","dbClient","getById","server","settings","activeServer","$vuetify","theme","dark","hits","label","attack","convertCompareCodeToInput","split","idAndOptions","options","convertCompareInputToCode","baseCode","generateCompareInput","getEntryCardType","COMPARE_KEY_MAPPING","es","ls","attackInfo","AttackChip","TARGET_VIEW_TYPE","emitNewViewMode","OVERVIEW_VIEW_TYPE","configIndex","possibleTables","defaultBuffTables","buffTables","_","activeSelector","filterHelper","$show","filterOptions","hasPassives","hasProcs","procs","passives","missingProcs","proc","getEffectNameForIdAndType","missingPassives","passive","tableConfigIndex","buffListTitleClass","getEffectTypeKey","effectMappingByTable","getTableKey","targetType","getHighlightedBuffListForTable","tableConfig","mappingKey","getValueOfEntry","moveEntryUp","moveEntryDown","getEntryName","hideEntry","showEntry","getEntryValue","fullValueSet","remainingValues","emitValue","indexOfEntryToMove","newOrder","currentEntry","otherEntry","indexOfEntry","titleTopOffset","inputFilterOptions","POSSIBLE_VIEW_TYPES","stickyTitles","BuffExpandableList","OrderConfigurator","ProcSelector","PassiveSelector","overviewTables","allProcIds","currentProcAggregate","allPassiveIds","currentPassiveAggregate","effectMappingBySource","allProcsBySource","allPassivesBySource","tableMapping","hasBuffFilters","FilterOptionsHelper","created","list","viewType","CompareInputManager","compareInputStorageKey","_compareInputStorageKey","sessionStorage","getItem","newString","setItem","inputString","compareInputString","code","searchHint","indexOf","_k","keyCode","sendQuery","hasDirtyQuery","entriesToShow","numPages","mdAndUp","currentPage","allEntryIds","entriesPerPage","ceil","startIndex"],"mappings":"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","file":"js/compare.2cc5f658.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-selector',{attrs:{\"showCancelButton\":_vm.showCancelButton,\"value\":_vm.nameFilter,\"hasSelection\":_vm.hasSelection,\"requiredModules\":_vm.requiredModules,\"allEntryIds\":_vm.allIds},on:{\"input\":function ($i) { return _vm.nameFilter = ($i || '').toLowerCase(); },\"cancel\":function($event){return _vm.$emit('cancel')}},scopedSlots:_vm._u([{key:\"entries\",fn:function(ref){\nvar entries = ref.entries;\nreturn _c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((entries),function(entry){return _c('v-flex',{key:entry,attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\",\"xl3\":\"\"}},[_c('entry-card',{staticClass:\"ma-2\",staticStyle:{\"background\":\"var(--background-color)\",\"cursor\":\"pointer\",\"height\":\"auto\"},attrs:{\"entry\":_vm.pageDb[entry]},nativeOn:{\"click\":function($event){return _vm.sendEntry(entry)}}})],1)}),1)}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <base-selector\r\n    :showCancelButton=\"showCancelButton\"\r\n    :value=\"nameFilter\"\r\n    :hasSelection=\"hasSelection\"\r\n    @input=\"$i => nameFilter = ($i || '').toLowerCase()\"\r\n    @cancel=\"$emit('cancel')\"\r\n    :requiredModules=\"requiredModules\"\r\n    :allEntryIds=\"allIds\">\r\n    <v-layout row wrap slot=\"entries\" slot-scope=\"{ entries }\">\r\n      <v-flex\r\n        v-for=\"entry in entries\"\r\n        :key=\"entry\"\r\n        xs12 sm6 md4 xl3>\r\n        <entry-card\r\n          class=\"ma-2\"\r\n          style=\"background: var(--background-color); cursor: pointer; height: auto;\"\r\n          @click.native=\"sendEntry(entry)\"\r\n          :entry=\"pageDb[entry]\"/>\r\n      </v-flex>\r\n    </v-layout>\r\n  </base-selector>\r\n</template>\r\n\r\n<script>\r\nimport BaseSelector from '@/components/Tools/Squads/MultidexSelectors/BaseSelector';\r\nimport EntryCard from '@/components/Multidex/Items/EntryCard';\r\n\r\nexport default {\r\n  props: {\r\n    showCancelButton: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  components: {\r\n    BaseSelector,\r\n    EntryCard,\r\n  },\r\n  computed: {\r\n    requiredModules () {\r\n      return ['items'];\r\n    },\r\n    pageDb () {\r\n      return this.$store.state.items.pageDb;\r\n    },\r\n    allIds () {\r\n      return Object.keys(this.pageDb).filter(k => {\r\n        const isSphere = this.pageDb[k].type === 'sphere';\r\n        const hasName = !this.nameFilter || this.hasName(this.pageDb[k].name, this.nameFilter);\r\n        return isSphere && hasName;\r\n      });\r\n    },\r\n  },\r\n  data () {\r\n    return {\r\n      nameFilter: '',\r\n      hasSelection: false,\r\n    };\r\n  },\r\n  methods: {\r\n    hasName (name = '', query = '') {\r\n      return name.toLowerCase().includes(query);\r\n    },\r\n    sendEntry (id) {\r\n      this.hasSelection = true;\r\n      this.$emit('input', { id });\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SphereSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SphereSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SphereSelector.vue?vue&type=template&id=5bac2ab3&\"\nimport script from \"./SphereSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./SphereSelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-entry-card',{staticStyle:{\"height\":\"100%\"},attrs:{\"to\":_vm.to}},[_c('v-container',{staticClass:\"pa-3\",attrs:{\"fluid\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs9\":\"\"}},[_c('div',{staticClass:\"d-flex-container items-center\"},[_c('h1',{staticClass:\"subheading d-inline-block\",staticStyle:{\"word-break\":\"break-word\"}},[_c('b',{domProps:{\"textContent\":_vm._s(_vm.entry.name || 'No Name')}})])])]),_c('v-flex',{staticClass:\"test-xs-right\",attrs:{\"xs3\":\"\"}},[_c('div',{staticClass:\"d-flex-container items-center content-flex-end\"},[(_vm.rarity < 8)?_c('span',[_vm._v(_vm._s(_vm.rarity))]):_vm._e(),_c('rarity-icon',{class:{ 'ml-1': _vm.rarity !== 8 },attrs:{\"rarity\":_vm.rarity,\"displaySize\":18}})],1)])],1),_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{staticStyle:{\"word-break\":\"break-word\"}},[(_vm.entry.desc && _vm.entry.desc !== 'None' && _vm.entry.desc !== '0')?_c('span',[_vm._v(_vm._s(_vm.entry.desc))]):_c('span',[_vm._v(\"No description.\")])])],1),(_vm.showAssociatedUnits && _vm.entry.associated_units)?_c('v-layout',{staticClass:\"d-align-items-center\",attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs5\":\"\",\"sm4\":\"\"}},[_vm._v(\"\\n        Associated Units:\\n      \")]),_c('v-flex',{staticClass:\"text-xs-left\",attrs:{\"xs7\":\"\"}},_vm._l((_vm.entry.associated_units),function(unit,i){return _c('unit-thumbnail',{key:i,attrs:{\"src\":_vm.getImageUrls(unit).ills_thum,\"rarity\":_vm.getUnit(unit).rarity,\"imageTitle\":_vm.getUnit(unit).name,\"displayWidth\":_vm.thumbnailSize,\"displayHeight\":_vm.thumbnailSize}})}),1)],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <base-entry-card :to=\"to\" style=\"height: 100%;\">\r\n    <v-container fluid class=\"pa-3\">\r\n      <v-layout row>\r\n        <v-flex xs9>\r\n          <div class=\"d-flex-container items-center\">\r\n            <h1 class=\"subheading d-inline-block\" style=\"word-break: break-word;\">\r\n              <b v-text=\"entry.name || 'No Name'\"/>\r\n            </h1>\r\n          </div>\r\n        </v-flex>\r\n        <v-flex xs3 class=\"test-xs-right\">\r\n          <div class=\"d-flex-container items-center content-flex-end\">\r\n            <span v-if=\"rarity < 8\">{{ rarity }}</span>\r\n            <rarity-icon :class=\"{ 'ml-1': rarity !== 8 }\" :rarity=\"rarity\" :displaySize=\"18\"/>\r\n          </div>\r\n        </v-flex>\r\n      </v-layout>\r\n      <v-layout row>\r\n        <v-flex style=\"word-break: break-word;\">\r\n          <span v-if=\"entry.desc && entry.desc !== 'None' && entry.desc !== '0'\">{{ entry.desc }}</span>\r\n          <span v-else>No description.</span>\r\n        </v-flex>\r\n      </v-layout>\r\n      <v-layout row wrap v-if=\"showAssociatedUnits && entry.associated_units\" class=\"d-align-items-center\">\r\n        <v-flex xs5 sm4 class=\"text-xs-center\">\r\n          Associated Units:\r\n        </v-flex>\r\n        <v-flex xs7 class=\"text-xs-left\">\r\n          <unit-thumbnail\r\n            v-for=\"(unit, i) in entry.associated_units\"\r\n            :key=\"i\"\r\n            :src=\"getImageUrls(unit).ills_thum\"\r\n            :rarity=\"getUnit(unit).rarity\"\r\n            :imageTitle=\"getUnit(unit).name\"\r\n            :displayWidth=\"thumbnailSize\" :displayHeight=\"thumbnailSize\"/>\r\n        </v-flex>\r\n      </v-layout>\r\n    </v-container>\r\n  </base-entry-card>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapState } from 'vuex';\r\nimport EntryCardMixin from '@/components/Multidex/BaseEntryCardMixin';\r\nimport RarityIcon from '@/components/Multidex/RarityIcon';\r\nimport UnitThumbnail from '@/components/Multidex/Units/UnitThumbnail';\r\n\r\nexport default {\r\n  mixins: [EntryCardMixin],\r\n  props: {\r\n    showAssociatedUnits: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  components: {\r\n    RarityIcon,\r\n    UnitThumbnail,\r\n  },\r\n  computed: {\r\n    ...mapState('units', ['pageDb']),\r\n    ...mapGetters('units', ['getImageUrls']),\r\n    rarity () {\r\n      return +this.entry.rarity;\r\n    },\r\n    thumbnailSize () {\r\n      const breakpoint = this.$vuetify.breakpoint;\r\n      if (breakpoint.xlOnly) {\r\n        return 64;\r\n      } else if (breakpoint.mdAndUp) {\r\n        return 56;\r\n      } else {\r\n        return 48;\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    getUnit (id) {\r\n      return this.pageDb[id] || {};\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EntryCard.vue?vue&type=template&id=2c82a878&\"\nimport script from \"./EntryCard.vue?vue&type=script&lang=js&\"\nexport * from \"./EntryCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('module-checker',{attrs:{\"requiredModules\":_vm.requiredModules}},[_c('compare-page',{attrs:{\"compareInput\":_vm.compareInput}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('promise-wait',{attrs:{\"promise\":_vm.dbLoadPromise,\"loadingMessage\":\"Loading data from database...\"}},[_c('template',{slot:\"loading\"},[_c('div',{staticStyle:{\"height\":\"100%\"}},[_c('v-container',{attrs:{\"fill-height\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{staticClass:\"text-xs-center\",staticStyle:{\"flex-grow\":\"0\"}},[_c('loading-indicator',{attrs:{\"loadingMessage\":_vm.dbLoadMessage || 'Loading data from database...',\"progress\":_vm.dbLoadProgress}})],1)],1)],1)]),_c('card-tabs-container',{staticClass:\"compare-page\",attrs:{\"tabs\":_vm.tabs,\"containerClass\":'pt-1'},model:{value:(_vm.currentTabIndex),callback:function ($$v) {_vm.currentTabIndex=$$v},expression:\"currentTabIndex\"}},[_c('div',{attrs:{\"slot\":\"input\"},slot:\"input\"},[_c('v-dialog',{attrs:{\"persistent\":\"\",\"lazy\":\"\"},model:{value:(_vm.showPickerDialog),callback:function ($$v) {_vm.showPickerDialog=$$v},expression:\"showPickerDialog\"}},[_c('v-card',[_c('add-compare-entry',{attrs:{\"type\":_vm.activePickerType,\"step\":_vm.pickerStep},on:{\"input\":_vm.addCompareInput,\"step\":function ($s) { return _vm.pickerStep = $s; },\"cancel\":function($event){_vm.showPickerDialog = false}}})],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"400px\"},model:{value:(_vm.showClearDialog),callback:function ($$v) {_vm.showClearDialog=$$v},expression:\"showClearDialog\"}},[_c('v-card',[_c('v-card-text',[_vm._v(\"\\n            Clear all \"+_vm._s(_vm.typeToClear)+\" entries?\\n          \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"outline\":\"\"},on:{\"click\":function () { return _vm.clearEntries(_vm.typeToClear); }}},[_vm._v(\"\\n              Yes\\n            \")]),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.showClearDialog = false}}},[_vm._v(\"\\n              No\\n            \")])],1)],1)],1),_c('v-btn',{attrs:{\"color\":\"primary\",\"fab\":\"\",\"fixed\":\"\",\"right\":\"\",\"bottom\":\"\"},on:{\"click\":function($event){_vm.showPickerDialog = true}}},[_c('v-icon',[_vm._v(\"add\")])],1),(_vm.compareInput.length > 25)?_c('section',[_c('v-alert',{attrs:{\"value\":true,\"type\":\"warning\"}},[_vm._v(\"\\n          Comparing too many entries may lead to performance and memory issues.\\n        \")])],1):_vm._e(),_vm._l((_vm.sections),function(section,i){return _c('section',{key:section,staticClass:\"mb-3\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"\\n          \"+_vm._s((section + \"s\"))+\"\\n          \"),(_vm.getEntriesForMultidexKey(_vm.allMultidexKeys[i]).length > 0)?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function () { _vm.typeToClear = section; _vm.showClearDialog = true; }}},[_c('v-icon',[_vm._v(\"highlight_off\")])],1):_vm._e()],1),(_vm.getEntriesForMultidexKey(_vm.allMultidexKeys[i]).length > 0)?[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.getEntriesForMultidexKey(_vm.allMultidexKeys[i])),function(entry){return _c('v-flex',{key:entry.id,staticClass:\"pa-2\",attrs:{\"xs12\":\"\",\"sm6\":\"\",\"lg4\":\"\"}},[_c('entry-card',{attrs:{\"entry\":entry,\"type\":_vm.COMPARE_KEY_ORDER[i]},on:{\"remove\":function () { return _vm.removeCompareInput({ type: _vm.COMPARE_KEY_ORDER[i], id: entry.id }); }}})],1)}),1)]:_c('v-layout',[_vm._v(\"\\n          No entries input for \"+_vm._s(section)+\".\\n        \")])],2)})],2),_c('div',{attrs:{\"slot\":\"compare\"},slot:\"compare\"},[_c('v-card',{staticClass:\"pa-2\"},[_c('buff-expandable-list-view',{attrs:{\"viewMode\":_vm.viewMode,\"sources\":_vm.compareInput,\"getEffectsFromSource\":_vm.getEffectsFromSource,\"titleTopOffset\":_vm.topNavbarHeight,\"getTextForSource\":_vm.getTextForSource},on:{\"viewmode\":function ($v) { return _vm.viewMode = $v; }},scopedSlots:_vm._u([{key:\"allentrypreview\",fn:function(ref){\nvar entries = ref.entries;\nvar effectId = ref.effectId;\nreturn _c('span',{},_vm._l((entries),function(entry){return _c('span',{key:_vm.getCompareInputKey(entry.source)},[_vm._l((entry.sourcePaths),function(sourcePath){return [_c('v-chip',{key:((_vm.getCompareInputKey(entry.source)) + \"-\" + effectId + \"-\" + sourcePath),attrs:{\"color\":_vm.getChipConfig(entry.source, sourcePath).backgroundColor,\"text-color\":_vm.getChipConfig(entry.source, sourcePath).textColor,\"outline\":_vm.getChipConfig(entry.source, sourcePath).outline,\"small\":\"\"}},[(_vm.getChipConfig(entry.source).avatar)?_c('v-avatar',{attrs:{\"size\":\"64\",\"color\":\"grey darken-1\",\"tabindex\":\"-1\"}},[(_vm.getChipConfig(entry.source).avatarIsUrl)?_c('img',{attrs:{\"src\":_vm.getChipConfig(entry.source).avatar}}):_c('span',{staticClass:\"font-weight-bold\",domProps:{\"textContent\":_vm._s(_vm.getChipConfig(entry.source).avatar)}})]):_vm._e(),_vm._v(\"\\n                  \"+_vm._s(_vm.getChipConfig(entry.source, sourcePath).name)+\"\\n                \")],1)]})],2)}),0)}},{key:\"value-header\",fn:function(ref){\nvar entry = ref.entry;\nreturn _c('span',{staticStyle:{\"max-width\":\"500px\",\"width\":\"100%\",\"min-width\":\"300px\"}},[_c(_vm.getHeaderCardConfig(entry).type,{tag:\"component\",staticClass:\"no-highlight v-card--flat px-2\",staticStyle:{\"width\":\"100%\",\"background-color\":\"transparent\"},attrs:{\"entry\":_vm.getHeaderCardConfig(entry).entry}})],1)}}])},[_c('template',{slot:\"view-config-extra\"},[_c('section',[_c('v-layout',{staticClass:\"pl-2\",attrs:{\"row\":\"\",\"justify-center\":\"\",\"align-center\":\"\"}},[_c('v-flex',{attrs:{\"xs2\":\"\"}},[_vm._v(\"\\n                  Unit Chip View\\n                \")]),_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs5\":\"\"}},[_c('v-btn',{attrs:{\"flat\":\"\",\"outline\":!_vm.unitChipViewModeIsOutlined},on:{\"click\":function($event){_vm.unitChipViewModeIsOutlined = false}}},[_vm._v(\"\\n                    Filled\\n                  \")])],1),_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs5\":\"\"}},[_c('v-btn',{attrs:{\"flat\":\"\",\"outline\":_vm.unitChipViewModeIsOutlined},on:{\"click\":function($event){_vm.unitChipViewModeIsOutlined = true}}},[_vm._v(\"\\n                    Outlined\\n                  \")])],1)],1)],1)])],2)],1)],1)])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c(_vm.entryCard,{tag:\"component\",attrs:{\"entry\":_vm.entry,\"to\":_vm.multidexLink}}),_c('v-card-actions',[_vm._t(\"actions\",[_c('v-spacer'),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){return _vm.$emit('remove')}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"\\n          clear\\n        \")]),_vm._v(\"\\n        Remove\\n      \")],1)])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card>\r\n    <component\r\n      :is=\"entryCard\"\r\n      :entry=\"entry\"\r\n      :to=\"multidexLink\"\r\n    />\r\n    <v-card-actions>\r\n      <slot name=\"actions\">\r\n        <v-spacer/>\r\n        <v-btn flat @click=\"$emit('remove')\">\r\n          <v-icon left>\r\n            clear\r\n          </v-icon>\r\n          Remove\r\n        </v-btn>\r\n      </slot>\r\n    </v-card-actions>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport { COMPARE_KEY_MAPPING } from '@/modules/constants';\r\nimport { getEntryCardType } from '@/modules/core/compare';\r\nimport UnitEntryCard from '@/components/Multidex/Units/EntryCard';\r\nimport ItemEntryCard from '@/components/Multidex/Items/EntryCard';\r\nimport ExtraSkillEntryCard from '@/components/Multidex/ExtraSkills/EntryCard';\r\nimport LeaderSkillEntryCard from '@/components/Multidex/LeaderSkills/EntryCard';\r\nimport BurstEntryCard from '@/components/Multidex/Bursts/EntryCard';\r\nimport BaseEntryCard from '@/components/Multidex/BaseEntryCard';\r\n\r\nexport default {\r\n  props: {\r\n    entry: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    type: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    useMultidexLink: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  components: {\r\n    UnitEntryCard,\r\n    ItemEntryCard,\r\n    ExtraSkillEntryCard,\r\n    LeaderSkillEntryCard,\r\n    BurstEntryCard,\r\n    BaseEntryCard,\r\n  },\r\n  computed: {\r\n    entryCard () {\r\n      return getEntryCardType(this.type);\r\n    },\r\n    multidexLink () {\r\n      const multidexModule = (COMPARE_KEY_MAPPING[this.type] || {}).multidexKey;\r\n      return multidexModule && this.useMultidexLink\r\n        ? this.$store.getters[`${multidexModule}/getMultidexPathTo`](this.entry.id)\r\n        : '';\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EntryCard.vue?vue&type=template&id=8500af20&\"\nimport script from \"./EntryCard.vue?vue&type=script&lang=js&\"\nexport * from \"./EntryCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-stepper',{staticClass:\"add-compare-entry-area\",attrs:{\"vertical\":\"\"},model:{value:(_vm.currentStep),callback:function ($$v) {_vm.currentStep=$$v},expression:\"currentStep\"}},[_c('v-stepper-step',{attrs:{\"step\":\"1\",\"editable\":\"\",\"complete\":_vm.validTypeSelected}},[_vm._v(\"\\n    Select Entry Type\\n  \")]),_c('v-stepper-content',{attrs:{\"step\":\"1\"}},[_c('section',{staticClass:\"entry-type-selector-area\"},[_vm._l((_vm.allTypePairings),function(pairing){return _c('v-btn',{key:pairing.value,attrs:{\"outline\":\"\"},on:{\"click\":function($event){return _vm.selectType(pairing.value)}}},[_vm._v(\"\\n        \"+_vm._s(pairing.name)+\"\\n      \")])}),_c('div',{staticStyle:{\"width\":\"100%\",\"display\":\"flex\",\"justify-content\":\"flex-end\"}},[_c('v-btn',{staticStyle:{\"flex\":\"none\"},attrs:{\"flat\":\"\"},on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_vm._v(\"\\n          Cancel\\n        \")])],1)],2)]),_c('v-stepper-step',{attrs:{\"step\":\"2\"}},[_vm._v(\"\\n    Select \"+_vm._s(_vm.selectedTypeName || 'Entry')+\"\\n  \")]),_c('v-stepper-content',{attrs:{\"step\":\"2\"}},[(_vm.activeSelectorComponent)?[_c(_vm.activeSelectorComponent,{tag:\"component\",on:{\"input\":_vm.onEntrySelect,\"cancel\":function($event){return _vm.$emit('cancel')}}})]:_c('span',[_vm._v(\"\\n      Selector of type [\"+_vm._s(_vm.selectedTypeName || _vm.selectedType)+\"] is not supported.\\n    \")])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-selector',{attrs:{\"showCancelButton\":_vm.showCancelButton,\"value\":_vm.nameFilter,\"hasSelection\":_vm.hasSelection,\"requiredModules\":_vm.requiredModules,\"allEntryIds\":_vm.allIds},on:{\"input\":function ($i) { return _vm.nameFilter = ($i || '').toLowerCase(); },\"cancel\":function($event){return _vm.$emit('cancel')}},scopedSlots:_vm._u([{key:\"entries\",fn:function(ref){\nvar entries = ref.entries;\nreturn _c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((entries),function(entry){return _c('v-flex',{key:entry,attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\",\"xl3\":\"\"}},[_c('entry-card',{staticClass:\"ma-2\",staticStyle:{\"background\":\"var(--background-color)\",\"cursor\":\"pointer\",\"height\":\"auto\"},attrs:{\"entry\":_vm.pageDb[entry]},nativeOn:{\"click\":function($event){return _vm.sendEntry(entry)}}})],1)}),1)}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <base-selector\r\n    :showCancelButton=\"showCancelButton\"\r\n    :value=\"nameFilter\"\r\n    :hasSelection=\"hasSelection\"\r\n    @input=\"$i => nameFilter = ($i || '').toLowerCase()\"\r\n    @cancel=\"$emit('cancel')\"\r\n    :requiredModules=\"requiredModules\"\r\n    :allEntryIds=\"allIds\">\r\n    <v-layout row wrap slot=\"entries\" slot-scope=\"{ entries }\">\r\n      <v-flex\r\n        v-for=\"entry in entries\"\r\n        :key=\"entry\"\r\n        xs12 sm6 md4 xl3>\r\n        <entry-card\r\n          class=\"ma-2\"\r\n          style=\"background: var(--background-color); cursor: pointer; height: auto;\"\r\n          @click.native=\"sendEntry(entry)\"\r\n          :entry=\"pageDb[entry]\"/>\r\n      </v-flex>\r\n    </v-layout>\r\n  </base-selector>\r\n</template>\r\n\r\n<script>\r\nimport BaseSelector from '@/components/Tools/Squads/MultidexSelectors/BaseSelector';\r\nimport EntryCard from '@/components/Multidex/Bursts/EntryCard';\r\n\r\nexport default {\r\n  props: {\r\n    showCancelButton: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  components: {\r\n    BaseSelector,\r\n    EntryCard,\r\n  },\r\n  computed: {\r\n    requiredModules () {\r\n      return ['bursts', 'units'];\r\n    },\r\n    pageDb () {\r\n      return this.$store.state.bursts.pageDb;\r\n    },\r\n    allIds () {\r\n      return Object.keys(this.pageDb).filter(k => {\r\n        const hasName = !this.nameFilter || this.hasName(this.pageDb[k].name, this.nameFilter);\r\n        return hasName;\r\n      });\r\n    },\r\n  },\r\n  data () {\r\n    return {\r\n      nameFilter: '',\r\n      hasSelection: false,\r\n    };\r\n  },\r\n  methods: {\r\n    hasName (name = '', query = '') {\r\n      return name.toLowerCase().includes(query);\r\n    },\r\n    sendEntry (id) {\r\n      this.hasSelection = true;\r\n      this.$emit('input', { id });\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BurstSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BurstSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BurstSelector.vue?vue&type=template&id=8eaeb0e8&\"\nimport script from \"./BurstSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./BurstSelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-selector',{attrs:{\"showCancelButton\":_vm.showCancelButton,\"value\":_vm.nameFilter,\"hasSelection\":_vm.hasSelection,\"requiredModules\":_vm.requiredModules,\"allEntryIds\":_vm.allIds},on:{\"input\":function ($i) { return _vm.nameFilter = ($i || '').toLowerCase(); },\"cancel\":function($event){return _vm.$emit('cancel')}},scopedSlots:_vm._u([{key:\"entries\",fn:function(ref){\nvar entries = ref.entries;\nreturn _c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((entries),function(entry){return _c('v-flex',{key:entry,attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\",\"xl3\":\"\"}},[_c('entry-card',{staticClass:\"ma-2\",staticStyle:{\"background\":\"var(--background-color)\",\"cursor\":\"pointer\",\"height\":\"auto\"},attrs:{\"entry\":_vm.pageDb[entry]},nativeOn:{\"click\":function($event){return _vm.sendEntry(entry)}}})],1)}),1)}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <base-selector\r\n    :showCancelButton=\"showCancelButton\"\r\n    :value=\"nameFilter\"\r\n    :hasSelection=\"hasSelection\"\r\n    @input=\"$i => nameFilter = ($i || '').toLowerCase()\"\r\n    @cancel=\"$emit('cancel')\"\r\n    :requiredModules=\"requiredModules\"\r\n    :allEntryIds=\"allIds\">\r\n    <v-layout row wrap slot=\"entries\" slot-scope=\"{ entries }\">\r\n      <v-flex\r\n        v-for=\"entry in entries\"\r\n        :key=\"entry\"\r\n        xs12 sm6 md4 xl3>\r\n        <entry-card\r\n          class=\"ma-2\"\r\n          style=\"background: var(--background-color); cursor: pointer; height: auto;\"\r\n          @click.native=\"sendEntry(entry)\"\r\n          :entry=\"pageDb[entry]\"/>\r\n      </v-flex>\r\n    </v-layout>\r\n  </base-selector>\r\n</template>\r\n\r\n<script>\r\nimport BaseSelector from '@/components/Tools/Squads/MultidexSelectors/BaseSelector';\r\nimport EntryCard from '@/components/Multidex/LeaderSkills/EntryCard';\r\n\r\nexport default {\r\n  props: {\r\n    showCancelButton: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  components: {\r\n    BaseSelector,\r\n    EntryCard,\r\n  },\r\n  computed: {\r\n    requiredModules () {\r\n      return ['leaderSkills', 'units'];\r\n    },\r\n    pageDb () {\r\n      return this.$store.state.leaderSkills.pageDb;\r\n    },\r\n    allIds () {\r\n      return Object.keys(this.pageDb).filter(k => {\r\n        const hasName = !this.nameFilter || this.hasName(this.pageDb[k].name, this.nameFilter);\r\n        return hasName;\r\n      });\r\n    },\r\n  },\r\n  data () {\r\n    return {\r\n      nameFilter: '',\r\n      hasSelection: false,\r\n    };\r\n  },\r\n  methods: {\r\n    hasName (name = '', query = '') {\r\n      return name.toLowerCase().includes(query);\r\n    },\r\n    sendEntry (id) {\r\n      this.hasSelection = true;\r\n      this.$emit('input', { id });\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LeaderSkillSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LeaderSkillSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LeaderSkillSelector.vue?vue&type=template&id=3b9b8d3c&\"\nimport script from \"./LeaderSkillSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./LeaderSkillSelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <v-stepper vertical v-model=\"currentStep\" class=\"add-compare-entry-area\">\r\n    <v-stepper-step\r\n      step=\"1\"\r\n      editable\r\n      :complete=\"validTypeSelected\"\r\n    >\r\n      Select Entry Type\r\n    </v-stepper-step>\r\n    <v-stepper-content step=\"1\">\r\n      <section class=\"entry-type-selector-area\">\r\n        <v-btn\r\n          v-for=\"pairing in allTypePairings\"\r\n          :key=\"pairing.value\"\r\n          outline\r\n          @click=\"selectType(pairing.value)\"\r\n        >\r\n          {{ pairing.name }}\r\n        </v-btn>\r\n        <div style=\"width: 100%; display: flex; justify-content: flex-end;\">\r\n          <v-btn\r\n            flat\r\n            style=\"flex: none;\"\r\n            @click=\"$emit('cancel')\"\r\n          >\r\n            Cancel\r\n          </v-btn>\r\n        </div>\r\n      </section>\r\n    </v-stepper-content>\r\n\r\n    <v-stepper-step step=\"2\">\r\n      Select {{ selectedTypeName || 'Entry' }}\r\n    </v-stepper-step>\r\n\r\n    <v-stepper-content step=\"2\">\r\n      <template v-if=\"activeSelectorComponent\">\r\n        <component\r\n          :is=\"activeSelectorComponent\"\r\n          @input=\"onEntrySelect\"\r\n          @cancel=\"$emit('cancel')\"\r\n        />\r\n      </template>\r\n      <span v-else>\r\n        Selector of type [{{ selectedTypeName || selectedType }}] is not supported.\r\n      </span>\r\n    </v-stepper-content>\r\n  </v-stepper>\r\n</template>\r\n\r\n<script>\r\nimport { COMPARE_KEY_ORDER, COMPARE_KEY_MAPPING } from '@/modules/constants';\r\nimport UnitSelector from '@/components/Tools/Squads/MultidexSelectors/UnitSelector';\r\nimport ExtraSkillSelector from '@/components/Tools/Squads/MultidexSelectors/ExtraSkillSelector';\r\nimport SphereSelector from '@/components/Tools/Squads/MultidexSelectors/SphereSelector';\r\nimport BurstSelector from '@/components/Tools/Squads/MultidexSelectors/BurstSelector';\r\nimport LeaderSkillSelector from '@/components/Tools/Squads/MultidexSelectors/LeaderSkillSelector';\r\n\r\nexport default {\r\n  props: {\r\n    type: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    step: {\r\n      type: Number,\r\n      default: 1,\r\n    },\r\n  },\r\n  components: {\r\n    UnitSelector,\r\n    ExtraSkillSelector,\r\n    SphereSelector,\r\n    BurstSelector,\r\n    LeaderSkillSelector,\r\n  },\r\n  computed: {\r\n    validTypeSelected () {\r\n      return COMPARE_KEY_ORDER.includes(this.selectedType);\r\n    },\r\n    allTypePairings () {\r\n      return COMPARE_KEY_ORDER.map(value => ({ value, name: COMPARE_KEY_MAPPING[value].name }));\r\n    },\r\n    selectedTypeName () {\r\n      return (COMPARE_KEY_MAPPING[this.selectedType] || '').name;\r\n    },\r\n    activeSelectorComponent () {\r\n      switch (this.selectedTypeName) {\r\n        case COMPARE_KEY_MAPPING.unit.name: return 'UnitSelector';\r\n        case COMPARE_KEY_MAPPING.item.name: return 'SphereSelector';\r\n        case COMPARE_KEY_MAPPING.es.name: return 'ExtraSkillSelector';\r\n        case COMPARE_KEY_MAPPING.bb.name: return 'BurstSelector';\r\n        case COMPARE_KEY_MAPPING.ls.name: return 'LeaderSkillSelector';\r\n        default: return '';\r\n      }\r\n    },\r\n  },\r\n  data () {\r\n    return {\r\n      selectedType: '',\r\n      currentStep: 1,\r\n    };\r\n  },\r\n  methods: {\r\n    selectType (value) {\r\n      this.selectedType = value;\r\n      this.currentStep = 2;\r\n    },\r\n    onEntrySelect (selection) {\r\n      this.$emit('input', { id: selection.id, type: this.selectedType });\r\n    },\r\n  },\r\n  watch: {\r\n    type: {\r\n      immediate: true,\r\n      handler (newType) {\r\n        this.selectedType = newType || '';\r\n      },\r\n    },\r\n    step: {\r\n      immediate: true,\r\n      handler (newValue) {\r\n        this.currentStep = Math.max(1, +newValue);\r\n      },\r\n    },\r\n    currentStep (newValue) {\r\n      if (+newValue !== +this.step) {\r\n        this.$emit('step', +newValue);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.add-compare-entry-area {\r\n  .entry-type-selector-area {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    button {\r\n      flex: auto;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCompareEntry.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCompareEntry.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddCompareEntry.vue?vue&type=template&id=626baf2f&\"\nimport script from \"./AddCompareEntry.vue?vue&type=script&lang=js&\"\nexport * from \"./AddCompareEntry.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddCompareEntry.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <promise-wait\r\n    :promise=\"dbLoadPromise\"\r\n    loadingMessage=\"Loading data from database...\"\r\n  >\r\n    <template slot=\"loading\">\r\n      <div style=\"height: 100%\">\r\n        <v-container fill-height justify-center>\r\n          <v-flex class=\"text-xs-center\" style=\"flex-grow: 0;\">\r\n            <loading-indicator\r\n              :loadingMessage=\"dbLoadMessage || 'Loading data from database...'\"\r\n              :progress=\"dbLoadProgress\"\r\n            />\r\n          </v-flex>\r\n        </v-container>\r\n      </div>\r\n    </template>\r\n    <card-tabs-container\r\n      v-model=\"currentTabIndex\"\r\n      :tabs=\"tabs\"\r\n      class=\"compare-page\"\r\n      :containerClass=\"'pt-1'\"\r\n    >\r\n      <div slot=\"input\">\r\n        <v-dialog\r\n          v-model=\"showPickerDialog\"\r\n          persistent lazy\r\n        >\r\n          <v-card>\r\n            <add-compare-entry\r\n              :type=\"activePickerType\"\r\n              :step=\"pickerStep\"\r\n              @input=\"addCompareInput\"\r\n              @step=\"$s => pickerStep = $s\"\r\n              @cancel=\"showPickerDialog = false\"\r\n            />\r\n          </v-card>\r\n        </v-dialog>\r\n        <v-dialog\r\n          v-model=\"showClearDialog\"\r\n          persistent\r\n          max-width=\"400px\"\r\n        >\r\n          <v-card>\r\n            <v-card-text>\r\n              Clear all {{ typeToClear }} entries?\r\n            </v-card-text>\r\n            <v-card-actions>\r\n              <v-spacer/>\r\n              <v-btn outline @click=\"() => clearEntries(typeToClear)\">\r\n                Yes\r\n              </v-btn>\r\n              <v-btn flat @click=\"showClearDialog = false\">\r\n                No\r\n              </v-btn>\r\n            </v-card-actions>\r\n          </v-card>\r\n        </v-dialog>\r\n        <v-btn\r\n          color=\"primary\"\r\n          fab fixed\r\n          right bottom\r\n          @click=\"showPickerDialog = true\"\r\n        >\r\n          <v-icon>add</v-icon>\r\n        </v-btn>\r\n        <section v-if=\"compareInput.length > 25\">\r\n          <v-alert :value=\"true\" type=\"warning\">\r\n            Comparing too many entries may lead to performance and memory issues.\r\n          </v-alert>\r\n        </section>\r\n        <section v-for=\"(section, i) in sections\" :key=\"section\" class=\"mb-3\">\r\n          <div class=\"title\">\r\n            {{ `${section}s` }}\r\n            <v-btn\r\n              v-if=\"getEntriesForMultidexKey(allMultidexKeys[i]).length > 0\"\r\n              @click=\"() => { typeToClear = section; showClearDialog = true; }\"\r\n              icon\r\n            >\r\n            <v-icon>highlight_off</v-icon>\r\n          </v-btn>\r\n          </div>\r\n          <template v-if=\"getEntriesForMultidexKey(allMultidexKeys[i]).length > 0\">\r\n            <v-layout row wrap>\r\n              <v-flex\r\n                v-for=\"entry in getEntriesForMultidexKey(allMultidexKeys[i])\"\r\n                :key=\"entry.id\"\r\n                class=\"pa-2\"\r\n                xs12 sm6 lg4\r\n              >\r\n                <entry-card\r\n                  :entry=\"entry\"\r\n                  :type=\"COMPARE_KEY_ORDER[i]\"\r\n                  @remove=\"() => removeCompareInput({ type: COMPARE_KEY_ORDER[i], id: entry.id })\"\r\n                />\r\n              </v-flex>\r\n            </v-layout>\r\n          </template>\r\n          <v-layout v-else>\r\n            No entries input for {{ section }}.\r\n          </v-layout>\r\n        </section>\r\n      </div>\r\n      <div slot=\"compare\">\r\n        <v-card class=\"pa-2\">\r\n          <buff-expandable-list-view\r\n            :viewMode=\"viewMode\"\r\n            @viewmode=\"$v => viewMode = $v\"\r\n            :sources=\"compareInput\"\r\n            :getEffectsFromSource=\"getEffectsFromSource\"\r\n            :titleTopOffset=\"topNavbarHeight\"\r\n            :getTextForSource=\"getTextForSource\"\r\n          >\r\n            <template slot=\"view-config-extra\">\r\n              <section>\r\n                <v-layout row justify-center align-center class=\"pl-2\">\r\n                  <v-flex xs2>\r\n                    Unit Chip View\r\n                  </v-flex>\r\n                  <v-flex xs5 class=\"text-xs-center\">\r\n                    <v-btn\r\n                      flat\r\n                      :outline=\"!unitChipViewModeIsOutlined\"\r\n                      @click=\"unitChipViewModeIsOutlined = false\"\r\n                    >\r\n                      Filled\r\n                    </v-btn>\r\n                  </v-flex>\r\n                  <v-flex xs5 class=\"text-xs-center\">\r\n                    <v-btn\r\n                      flat\r\n                      :outline=\"unitChipViewModeIsOutlined\"\r\n                      @click=\"unitChipViewModeIsOutlined = true\"\r\n                    >\r\n                      Outlined\r\n                    </v-btn>\r\n                  </v-flex>\r\n                </v-layout>\r\n              </section>\r\n            </template>\r\n            <span slot=\"allentrypreview\" slot-scope=\"{ entries, effectId }\">\r\n              <span v-for=\"entry in entries\" :key=\"getCompareInputKey(entry.source)\">\r\n                <template v-for=\"sourcePath in entry.sourcePaths\">\r\n                  <v-chip\r\n                    :key=\"`${getCompareInputKey(entry.source)}-${effectId}-${sourcePath}`\"\r\n                    :color=\"getChipConfig(entry.source, sourcePath).backgroundColor\"\r\n                    :text-color=\"getChipConfig(entry.source, sourcePath).textColor\"\r\n                    :outline=\"getChipConfig(entry.source, sourcePath).outline\"\r\n                    small\r\n                  >\r\n                    <v-avatar\r\n                      v-if=\"getChipConfig(entry.source).avatar\"\r\n                      size=\"64\"\r\n                      color=\"grey darken-1\"\r\n                      tabindex=\"-1\"\r\n                    >\r\n                      <img\r\n                        v-if=\"getChipConfig(entry.source).avatarIsUrl\"\r\n                        :src=\"getChipConfig(entry.source).avatar\"\r\n                      />\r\n                      <span\r\n                        v-else\r\n                        class=\"font-weight-bold\"\r\n                        v-text=\"getChipConfig(entry.source).avatar\"\r\n                      />\r\n                    </v-avatar>\r\n                    {{ getChipConfig(entry.source, sourcePath).name }}\r\n                  </v-chip>\r\n                </template>\r\n              </span>\r\n            </span>\r\n            <span\r\n              slot=\"value-header\"\r\n              slot-scope=\"{ entry }\"\r\n              style=\"max-width: 500px; width: 100%; min-width: 300px;\"\r\n            >\r\n              <component\r\n                :is=\"getHeaderCardConfig(entry).type\"\r\n                :entry=\"getHeaderCardConfig(entry).entry\"\r\n                class=\"no-highlight v-card--flat px-2\"\r\n                style=\"width: 100%; background-color: transparent;\"\r\n              />\r\n            </span>\r\n          </buff-expandable-list-view>\r\n        </v-card>\r\n      </div>\r\n    </card-tabs-container>\r\n  </promise-wait>\r\n</template>\r\n\r\n<script>\r\nimport { Logger } from '@/modules/Logger';\r\nimport { COMPARE_KEY_ORDER, COMPARE_KEY_MAPPING, MATERIAL_COLOR_MAPPING, multidexModuleInfo } from '@/modules/constants';\r\nimport { convertCompareInputToCode, generateCompareInput, getEntryCardType } from '@/modules/core/compare';\r\nimport { getEffectsListForUnit } from '@/modules/core/units';\r\nimport { getEffectsListForItem } from '@/modules/core/items';\r\nimport { getEffectsListForExtraSkill } from '@/modules/core/extra-skills';\r\nimport { getEffectsListForBurst } from '@/modules/core/bursts';\r\nimport { getEffectsListForLeaderSkill } from '@/modules/core/leader-skills';\r\nimport PromiseWait from '@/components/PromiseWait';\r\nimport LoadingIndicator from '@/components/LoadingIndicator';\r\nimport CardTabsContainer from '@/components/CardTabsContainer';\r\nimport EntryCard from './EntryCard';\r\nimport AddCompareEntry from './AddCompareEntry';\r\nimport BuffExpandableListView from '@/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableListView';\r\nimport UnitEntryCard from '@/components/Multidex/Units/EntryCard';\r\nimport ItemEntryCard from '@/components/Multidex/Items/EntryCard';\r\nimport ExtraSkillEntryCard from '@/components/Multidex/ExtraSkills/EntryCard';\r\nimport LeaderSkillEntryCard from '@/components/Multidex/LeaderSkills/EntryCard';\r\nimport BurstEntryCard from '@/components/Multidex/Bursts/EntryCard';\r\nimport BaseEntryCard from '@/components/Multidex/BaseEntryCard';\r\n\r\nconst logger = new Logger({ prefix: '[Compare]' });\r\nexport default {\r\n  props: {\r\n    compareInput: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n  },\r\n  components: {\r\n    PromiseWait,\r\n    LoadingIndicator,\r\n    CardTabsContainer,\r\n    EntryCard,\r\n    AddCompareEntry,\r\n    BuffExpandableListView,\r\n    UnitEntryCard,\r\n    ItemEntryCard,\r\n    ExtraSkillEntryCard,\r\n    LeaderSkillEntryCard,\r\n    BurstEntryCard,\r\n    BaseEntryCard,\r\n  },\r\n  computed: {\r\n    tabs: () => Object.freeze(['Input', 'Compare'].map(name => ({ name, slot: name.toLowerCase() }))),\r\n    sections () {\r\n      return COMPARE_KEY_ORDER.map(k => COMPARE_KEY_MAPPING[k].name);\r\n    },\r\n    allMultidexKeys () {\r\n      return COMPARE_KEY_ORDER.map(k => COMPARE_KEY_MAPPING[k].multidexKey);\r\n    },\r\n    COMPARE_KEY_ORDER: () => COMPARE_KEY_ORDER,\r\n  },\r\n  data () {\r\n    return {\r\n      unitsDb: {},\r\n      itemsDb: {},\r\n      extraSkillsDb: {},\r\n      burstsDb: {},\r\n      leaderSkillsDb: {},\r\n      dbLoadPromise: Promise.resolve(),\r\n      dbLoadProgress: -1,\r\n      dbLoadMessage: '',\r\n      showPickerDialog: false,\r\n      activePickerType: '',\r\n      pickerStep: 1,\r\n      viewMode: '',\r\n      topNavbarHeight: 56,\r\n      currentTabIndex: 0,\r\n      unitChipViewModeIsOutlined: false,\r\n      showClearDialog: false,\r\n      typeToClear: '',\r\n    };\r\n  },\r\n  beforeMount () {\r\n    this.onNewInput();\r\n  },\r\n  methods: {\r\n    getMultidexDatabaseIdsFromCompareInput (inputs = []) {\r\n      const mapping = COMPARE_KEY_ORDER.reduce((acc, val) => {\r\n        acc[COMPARE_KEY_MAPPING[val].multidexKey] = [];\r\n        return acc;\r\n      }, {});\r\n      inputs.forEach(input => {\r\n        const associatedMultidexKey = (COMPARE_KEY_MAPPING[input.type] || {}).multidexKey;\r\n        if (mapping[associatedMultidexKey]) {\r\n          mapping[associatedMultidexKey].push(input.id);\r\n        }\r\n      });\r\n      return mapping;\r\n    },\r\n    async updatePageDbForInput (inputs = []) {\r\n      const currentServer = this.$store.state.settings.activeServer;\r\n      const databaseIds = this.getMultidexDatabaseIdsFromCompareInput(inputs);\r\n      const databaseIdsKeys = Object.keys(databaseIds);\r\n      const numKeys = Math.max(databaseIdsKeys.length, 1);\r\n      logger.debug({ databaseIds });\r\n      this.dbLoadProgress = 0;\r\n      try {\r\n        await databaseIdsKeys.reduce((acc, multidexKey) => {\r\n          const entriesToGet = [];\r\n          const pageDb = this[`${multidexKey}Db`];\r\n          const neededKeys = databaseIds[multidexKey];\r\n          const allKeys = Object.keys(pageDb).concat(neededKeys);\r\n          const newDb = {};\r\n          allKeys.forEach(id => {\r\n            if (neededKeys.includes(id)) {\r\n              if (!pageDb[id]) {\r\n                entriesToGet.push(id);\r\n              } else {\r\n                newDb[id] = pageDb[id];\r\n              }\r\n            }\r\n          });\r\n\r\n          return acc.then(async () => {\r\n            const moduleName = (multidexModuleInfo.find(m => m.name === multidexKey) || {}).fullName || multidexKey;\r\n            this.dbLoadProgress = Math.max((databaseIdsKeys.indexOf(multidexKey) / numKeys) * 100, 0);\r\n            this.dbLoadMessage = `Loading entries for ${moduleName}`;\r\n            if (entriesToGet.length > 0) {\r\n              const retrievedEntries = await this.$store.dispatch(`${multidexKey}/getByIds`, {\r\n                ids: entriesToGet,\r\n                server: currentServer,\r\n                extractedFields: [],\r\n              });\r\n              this[`${multidexKey}Db`] = Object.freeze({ ...newDb, ...retrievedEntries });\r\n            } else {\r\n              this[`${multidexKey}Db`] = Object.freeze(newDb);\r\n            }\r\n          });\r\n        }, Promise.resolve());\r\n      } catch (err) {\r\n        logger.error('error updating page db', err);\r\n      }\r\n      this.dbLoadProgress = 100;\r\n    },\r\n    getLocalDbForMultidexKey (multidexKey) {\r\n      return (this.allMultidexKeys.includes(multidexKey) && this[`${multidexKey}Db`]) || {};\r\n    },\r\n    getEntriesForMultidexKey (multidexKey) {\r\n      const localDb = this.getLocalDbForMultidexKey(multidexKey);\r\n      return Object.values(localDb);\r\n    },\r\n    getDataForCompareEntry (entry) {\r\n      const localDb = this.getLocalDbForMultidexKey(COMPARE_KEY_MAPPING[entry.type].multidexKey);\r\n      return localDb[entry.id];\r\n    },\r\n    onNewInput () {\r\n      this.dbLoadPromise = this.updatePageDbForInput(this.compareInput);\r\n    },\r\n    replaceRouteWithInput (inputList = []) {\r\n      return new Promise((fulfill, reject) => {\r\n        this.$router.replace({\r\n          ...this.$route,\r\n          query: {\r\n            ...this.$route.query,\r\n            input: inputList.map(convertCompareInputToCode).join(','),\r\n          },\r\n        }, fulfill, reject);\r\n      });\r\n    },\r\n    async removeCompareInput ({ type, id } = {}) {\r\n      const associatedInput = this.compareInput.find(i => i.type === type && (i.id === id || i.id === (id || '').toString()));\r\n      const newInputList = this.compareInput.filter(i => i !== associatedInput);\r\n      if (newInputList.length !== this.compareInput.length) {\r\n        await this.replaceRouteWithInput(newInputList);\r\n      }\r\n    },\r\n    async addCompareInput ({ type, id } = {}) {\r\n      logger.debug('received input to add', { type, id });\r\n      const associatedInput = this.compareInput.find(i => i.type === type && (i.id === id || i.id === (id || '').toString()));\r\n      if (!associatedInput) {\r\n        const newInputList = this.compareInput.concat([generateCompareInput({ type, id })]);\r\n        await this.replaceRouteWithInput(newInputList);\r\n      }\r\n      this.showPickerDialog = false;\r\n    },\r\n    getEffectsFromSource ({ type, id } = {}, target, effectType) {\r\n      let result;\r\n      if (COMPARE_KEY_ORDER.includes(type)) {\r\n        if (type === COMPARE_KEY_MAPPING.unit.key && this.unitsDb[id]) {\r\n          result = getEffectsListForUnit({\r\n            unit: this.unitsDb[id],\r\n            target,\r\n            effectType,\r\n          });\r\n        } else if (type === COMPARE_KEY_MAPPING.item.key && this.itemsDb[id]) {\r\n          result = getEffectsListForItem({\r\n            item: this.itemsDb[id],\r\n            target,\r\n            effectType,\r\n          });\r\n        } else if (type === COMPARE_KEY_MAPPING.es.key && this.extraSkillsDb[id]) {\r\n          result = getEffectsListForExtraSkill({\r\n            skill: this.extraSkillsDb[id],\r\n            target,\r\n            effectType,\r\n          });\r\n        } else if (type === COMPARE_KEY_MAPPING.bb.key && this.burstsDb[id]) {\r\n          result = getEffectsListForBurst({\r\n            burst: this.burstsDb[id],\r\n            target,\r\n            effectType,\r\n          });\r\n        } else if (type === COMPARE_KEY_MAPPING.ls.key && this.leaderSkillsDb[id]) {\r\n          result = getEffectsListForLeaderSkill({\r\n            skill: this.leaderSkillsDb[id],\r\n            target,\r\n            effectType,\r\n          });\r\n        } else {\r\n          logger.warn('getEffectsFromSource: setting empty entry', { type, id, target, effectType });\r\n          result = [];\r\n        }\r\n      } else {\r\n        logger.warn('source type not supported', type);\r\n        result = [];\r\n      }\r\n      return result;\r\n    },\r\n    updateTopNavbarHeight () {\r\n      const topNavbar = document.querySelector('nav.v-toolbar');\r\n      this.topNavbarHeight = (topNavbar && topNavbar.offsetHeight) || 56;\r\n    },\r\n    getCompareInputKey ({ type, id } = {}) {\r\n      return `${type}-${id}`;\r\n    },\r\n    getHeaderCardConfig ({ type, id } = {}) {\r\n      let entry;\r\n      if (COMPARE_KEY_ORDER.includes(type)) {\r\n        if (type === COMPARE_KEY_MAPPING.unit.key && this.unitsDb[id]) {\r\n          entry = this.unitsDb[id];\r\n        } else if (type === COMPARE_KEY_MAPPING.item.key && this.itemsDb[id]) {\r\n          entry = this.itemsDb[id];\r\n        } else if (type === COMPARE_KEY_MAPPING.es.key && this.extraSkillsDb[id]) {\r\n          entry = this.extraSkillsDb[id];\r\n        } else if (type === COMPARE_KEY_MAPPING.bb.key && this.burstsDb[id]) {\r\n          entry = this.burstsDb[id];\r\n        } else if (type === COMPARE_KEY_MAPPING.ls.key && this.leaderSkillsDb[id]) {\r\n          entry = this.leaderSkillsDb[id];\r\n        }\r\n      } else {\r\n        logger.warn('getHeaderCardConfig: source type not supported', type);\r\n      }\r\n\r\n      if (!entry) {\r\n        entry = {};\r\n      }\r\n      return {\r\n        entry,\r\n        type: getEntryCardType(type),\r\n      };\r\n    },\r\n    getChipConfig ({ type, id } = {}, sourcePath) {\r\n      let result = {\r\n        name: id,\r\n        avatar: '',\r\n        avatarIsUrl: false,\r\n        backgroundColor: undefined,\r\n        textColor: undefined,\r\n        outline: false,\r\n      };\r\n      if (COMPARE_KEY_ORDER.includes(type)) {\r\n        if (type === COMPARE_KEY_MAPPING.unit.key && this.unitsDb[id]) {\r\n          result.name = this.unitsDb[id].name || id;\r\n          result.avatar = this.$store.getters['units/getImageUrls'](id).ills_battle;\r\n          result.avatarIsUrl = true;\r\n\r\n          const colorConfig = this.getColorMappingForSourcePath(sourcePath);\r\n          if (colorConfig) {\r\n            result.backgroundColor = colorConfig.background;\r\n            result.textColor = colorConfig.text;\r\n            result.name = `${result.name} (${sourcePath.split('.')[1].toUpperCase()})`;\r\n            result.outline = !!this.unitChipViewModeIsOutlined;\r\n          }\r\n        } else if (type === COMPARE_KEY_MAPPING.item.key && this.itemsDb[id]) {\r\n          result.name = this.itemsDb[id].name || id;\r\n          result.avatar = this.$store.getters['items/getImageUrl'](id, this.itemsDb[id]);\r\n          result.avatarIsUrl = true;\r\n        } else if (type === COMPARE_KEY_MAPPING.es.key && this.extraSkillsDb[id]) {\r\n          result.name = this.extraSkillsDb[id].name || id;\r\n          result.avatar = 'ES';\r\n        } else if (type === COMPARE_KEY_MAPPING.bb.key && this.burstsDb[id]) {\r\n          result.name = this.burstsDb[id].name || id;\r\n          result.avatar = 'BB';\r\n        } else if (type === COMPARE_KEY_MAPPING.ls.key && this.leaderSkillsDb[id]) {\r\n          result.name = this.leaderSkillsDb[id].name || id;\r\n          result.avatar = 'LS';\r\n        }\r\n      }\r\n      return result;\r\n    },\r\n    getTextForSource (sourcePath, source, initialValue) {\r\n      let result;\r\n      if (sourcePath === 'es' && this.extraSkillsDb[source.id]) {\r\n        const name = (this.extraSkillsDb[source.id] && this.extraSkillsDb[source.id].name) || source.id;\r\n        result = `Extra Skill: ${name}`;\r\n      }\r\n      return result || initialValue || sourcePath;\r\n    },\r\n    getColorMappingForSourcePath (sourcePath = '') {\r\n      return (sourcePath.startsWith('unit.') && MATERIAL_COLOR_MAPPING.unit[sourcePath.split('.')[1]]) || undefined;\r\n    },\r\n    async clearEntries (sectionName) {\r\n      const associatedType = COMPARE_KEY_ORDER.find(k => COMPARE_KEY_MAPPING[k].name === sectionName);\r\n      if (associatedType) {\r\n        const newInputList = this.compareInput.filter(i => i.type !== associatedType);\r\n        await this.replaceRouteWithInput(newInputList);\r\n      }\r\n      this.showClearDialog = false;\r\n    },\r\n  },\r\n  watch: {\r\n    compareInput () {\r\n      this.onNewInput();\r\n    },\r\n    showPickerDialog () {\r\n      this.pickerStep = 1;\r\n    },\r\n    currentTabIndex: {\r\n      immediate: true,\r\n      handler () {\r\n        this.updateTopNavbarHeight();\r\n        if (this.$store.state.disableHtmlOverflow) {\r\n          this.$store.commit('setHtmlOverflowDisableState', false);\r\n        }\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.compare-page {\r\n  .v-tabs__bar {\r\n    background-color: transparent;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Main.vue?vue&type=template&id=1dcdf7e1&\"\nimport script from \"./Main.vue?vue&type=script&lang=js&\"\nexport * from \"./Main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Main.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <module-checker :requiredModules=\"requiredModules\">\r\n    <compare-page :compareInput=\"compareInput\"/>\r\n  </module-checker>\r\n</template>\r\n\r\n<script>\r\nimport { convertCompareCodeToInput, convertCompareInputToCode } from '@/modules/core/compare';\r\nimport { Logger } from '@/modules/Logger';\r\nimport ModuleChecker from '@/components/ModuleChecker';\r\nimport ComparePage from '@/components/Tools/Compare/Main';\r\nimport compareInputManager from '@/modules/CompareInputManager';\r\n\r\nconst logger = new Logger({ prefix: '[Compare]' });\r\nexport default {\r\n  props: {\r\n    input: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n  },\r\n  components: {\r\n    ModuleChecker,\r\n    ComparePage,\r\n  },\r\n  computed: {\r\n    requiredModules: () => Object.freeze([\r\n      'units',\r\n      'items',\r\n      'bursts',\r\n      'extraSkills',\r\n      'leaderSkills',\r\n    ]),\r\n    compareInput () {\r\n      // format: <type>-<id>_options~by~tilde\r\n      const result = Array.from(new Set(this.input.split(','))).map(input => {\r\n        try {\r\n          return convertCompareCodeToInput(input);\r\n        } catch (err) {\r\n          logger.warn('error parsing input', { input, err });\r\n        }\r\n      }).filter(v => v);\r\n      return Object.freeze(result);\r\n    },\r\n    sanitizedCompareInput () {\r\n      return this.compareInput.map(convertCompareInputToCode).join(',');\r\n    },\r\n  },\r\n  watch: {\r\n    input: {\r\n      immediate: true,\r\n      async handler (newValue) {\r\n        if (newValue || this.$route.query.hasOwnProperty('input')) {\r\n          if (this.sanitizedCompareInput === this.input) {\r\n            compareInputManager.compareInputString = newValue;\r\n          } else {\r\n            await new Promise((fulfill, reject) => {\r\n              this.$router.replace({\r\n                ...this.$route,\r\n                query: {\r\n                  ...this.$route.query,\r\n                  input: this.sanitizedCompareInput,\r\n                },\r\n              }, fulfill, reject);\r\n            });\r\n          }\r\n        } else if (compareInputManager.compareInputString) {\r\n          await new Promise((fulfill, reject) => {\r\n            this.$router.replace({\r\n              ...this.$route,\r\n              query: {\r\n                ...this.$route.query,\r\n                input: compareInputManager.compareInputString,\r\n              },\r\n            }, fulfill, reject);\r\n          });\r\n        }\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Compare.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Compare.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Compare.vue?vue&type=template&id=3b426590&\"\nimport script from \"./Compare.vue?vue&type=script&lang=js&\"\nexport * from \"./Compare.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-selector',{attrs:{\"showCancelButton\":_vm.showCancelButton,\"value\":_vm.nameFilter,\"hasSelection\":_vm.hasSelection,\"requiredModules\":_vm.requiredModules,\"allEntryIds\":_vm.allIds},on:{\"input\":function ($i) { return _vm.nameFilter = ($i || '').toLowerCase(); },\"cancel\":function($event){return _vm.$emit('cancel')}},scopedSlots:_vm._u([{key:\"entries\",fn:function(ref){\nvar entries = ref.entries;\nreturn _c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((entries),function(entry){return _c('v-flex',{key:entry,attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\",\"xl3\":\"\"}},[_c('entry-card',{staticClass:\"ma-2\",staticStyle:{\"background\":\"var(--background-color)\",\"cursor\":\"pointer\",\"height\":\"auto\"},attrs:{\"entry\":_vm.pageDb[entry]},nativeOn:{\"click\":function($event){return _vm.sendEntry(entry)}}})],1)}),1)}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <base-selector\r\n    :showCancelButton=\"showCancelButton\"\r\n    :value=\"nameFilter\"\r\n    :hasSelection=\"hasSelection\"\r\n    @input=\"$i => nameFilter = ($i || '').toLowerCase()\"\r\n    @cancel=\"$emit('cancel')\"\r\n    :requiredModules=\"requiredModules\"\r\n    :allEntryIds=\"allIds\">\r\n    <v-layout row wrap slot=\"entries\" slot-scope=\"{ entries }\">\r\n      <v-flex\r\n        v-for=\"entry in entries\"\r\n        :key=\"entry\"\r\n        xs12 sm6 md4 xl3>\r\n        <entry-card\r\n          class=\"ma-2\"\r\n          style=\"background: var(--background-color); cursor: pointer; height: auto;\"\r\n          @click.native=\"sendEntry(entry)\"\r\n          :entry=\"pageDb[entry]\"/>\r\n      </v-flex>\r\n    </v-layout>\r\n  </base-selector>\r\n</template>\r\n\r\n<script>\r\nimport BaseSelector from '@/components/Tools/Squads/MultidexSelectors/BaseSelector';\r\nimport EntryCard from '@/components/Multidex/ExtraSkills/EntryCard';\r\n\r\nexport default {\r\n  props: {\r\n    showCancelButton: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  components: {\r\n    BaseSelector,\r\n    EntryCard,\r\n  },\r\n  computed: {\r\n    requiredModules () {\r\n      return ['extraSkills', 'units'];\r\n    },\r\n    pageDb () {\r\n      return this.$store.state.extraSkills.pageDb;\r\n    },\r\n    allIds () {\r\n      return Object.keys(this.pageDb).filter(k => {\r\n        const hasName = !this.nameFilter || this.hasName(this.pageDb[k].name, this.nameFilter);\r\n        return hasName;\r\n      });\r\n    },\r\n  },\r\n  data () {\r\n    return {\r\n      nameFilter: '',\r\n      hasSelection: false,\r\n    };\r\n  },\r\n  methods: {\r\n    hasName (name = '', query = '') {\r\n      return name.toLowerCase().includes(query);\r\n    },\r\n    sendEntry (id) {\r\n      this.hasSelection = true;\r\n      this.$emit('input', { id });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExtraSkillSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExtraSkillSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExtraSkillSelector.vue?vue&type=template&id=70d17c82&\"\nimport script from \"./ExtraSkillSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./ExtraSkillSelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuffExpandableListView.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuffExpandableListView.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValueSubgrid.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValueSubgrid.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-entry-card',{staticStyle:{\"height\":\"100%\"},attrs:{\"to\":_vm.to}},[_c('v-container',{staticClass:\"pa-3\",attrs:{\"fluid\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',[_c('div',{staticClass:\"d-flex-container items-center\"},[_c('h1',{staticClass:\"subheading d-inline-block\",staticStyle:{\"word-break\":\"break-word\"}},[_c('b',{domProps:{\"textContent\":_vm._s(_vm.entry.name || 'No Name')}})])])])],1),_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{staticStyle:{\"word-break\":\"break-word\"}},[(_vm.entry.desc && _vm.entry.desc !== 'None' && _vm.entry.desc !== '0')?_c('span',[_vm._v(_vm._s(_vm.entry.desc))]):_c('span',[_vm._v(\"No description.\")])])],1),(_vm.entry.associated_units)?_c('v-layout',{staticClass:\"d-align-items-center\",attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs5\":\"\",\"sm4\":\"\"}},[_vm._v(\"\\n        Associated Units:\\n      \")]),_c('v-flex',{staticClass:\"text-xs-left\",attrs:{\"xs7\":\"\"}},_vm._l((_vm.entry.associated_units),function(unit,i){return _c('unit-thumbnail',{key:i,attrs:{\"src\":_vm.getImageUrls(unit).ills_thum,\"rarity\":_vm.getUnit(unit).rarity,\"imageTitle\":_vm.getUnit(unit).name,\"displayWidth\":_vm.thumbnailSize,\"displayHeight\":_vm.thumbnailSize}})}),1)],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <base-entry-card :to=\"to\" style=\"height: 100%;\">\r\n    <v-container fluid class=\"pa-3\">\r\n      <v-layout row>\r\n        <v-flex>\r\n          <div class=\"d-flex-container items-center\">\r\n            <h1 class=\"subheading d-inline-block\" style=\"word-break: break-word;\">\r\n              <b v-text=\"entry.name || 'No Name'\"/>\r\n            </h1>\r\n          </div>\r\n        </v-flex>\r\n      </v-layout>\r\n      <v-layout row>\r\n        <v-flex style=\"word-break: break-word;\">\r\n          <span v-if=\"entry.desc && entry.desc !== 'None' && entry.desc !== '0'\">{{ entry.desc }}</span>\r\n          <span v-else>No description.</span>\r\n        </v-flex>\r\n      </v-layout>\r\n      <v-layout row wrap v-if=\"entry.associated_units\" class=\"d-align-items-center\">\r\n        <v-flex xs5 sm4 class=\"text-xs-center\">\r\n          Associated Units:\r\n        </v-flex>\r\n        <v-flex xs7 class=\"text-xs-left\">\r\n          <unit-thumbnail\r\n            v-for=\"(unit, i) in entry.associated_units\"\r\n            :key=\"i\"\r\n            :src=\"getImageUrls(unit).ills_thum\"\r\n            :rarity=\"getUnit(unit).rarity\"\r\n            :imageTitle=\"getUnit(unit).name\"\r\n            :displayWidth=\"thumbnailSize\" :displayHeight=\"thumbnailSize\"/>\r\n        </v-flex>\r\n      </v-layout>\r\n    </v-container>\r\n  </base-entry-card>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapState } from 'vuex';\r\nimport EntryCardMixin from '@/components/Multidex/BaseEntryCardMixin';\r\nimport UnitThumbnail from '@/components/Multidex/Units/UnitThumbnail';\r\n\r\nexport default {\r\n  mixins: [EntryCardMixin],\r\n  components: {\r\n    UnitThumbnail,\r\n  },\r\n  computed: {\r\n    ...mapState('units', ['pageDb']),\r\n    ...mapGetters('units', ['getImageUrls']),\r\n    thumbnailSize () {\r\n      const breakpoint = this.$vuetify.breakpoint;\r\n      if (breakpoint.xlOnly) {\r\n        return 64;\r\n      } else if (breakpoint.mdAndUp) {\r\n        return 56;\r\n      } else {\r\n        return 48;\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    getUnit (id) {\r\n      return this.pageDb[id] || {};\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EntryCard.vue?vue&type=template&id=26b45739&\"\nimport script from \"./EntryCard.vue?vue&type=script&lang=js&\"\nexport * from \"./EntryCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"buff-expandable-list\"},[(_vm.isVisuallyLoadingList)?_c('loading-indicator',{attrs:{\"progress\":_vm.loadProgress,\"loadingMessage\":\"Loading list...\"}}):_vm._e(),(!_vm.isVisuallyLoadingList && _vm.sortedEffectIds.length === 0)?_c('div',{staticClass:\"my-2\"},[_vm._t(\"noentries\",[_c('span',[_vm._v(\"No entries of type [\"+_vm._s(_vm.effectType)+\"] were found.\")])])],2):_vm._e(),_c('delayed-v-for-expansion-panel',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isVisuallyLoadingList),expression:\"!isVisuallyLoadingList\"}],attrs:{\"entries\":_vm.sortedEffectIds,\"expand\":\"\",\"focusable\":\"\"},on:{\"start\":_vm.handleLoadStart,\"end\":_vm.handleLoadEnd,\"progress\":function ($p) { return _vm.loadProgress = $p; }},scopedSlots:_vm._u([{key:\"header\",fn:function(ref){\nvar arrayEntry = ref.arrayEntry;\nreturn [_c('div',{class:_vm.getEntryHeaderClasses(arrayEntry)},[_c('span',{staticClass:\"expandable-list-entry--title subheading\",domProps:{\"textContent\":_vm._s((arrayEntry + \": \" + (_vm.effectNameById[arrayEntry])))}}),_vm._t(\"allentrypreview\",_vm._l((_vm.getSourcesForEffectId(arrayEntry)),function(entry,i){return _c('div',{key:i},[_vm._v(\"\\n            \"+_vm._s(entry)+\"\\n          \")])}),{\"entries\":_vm.getSourcesForEffectId(arrayEntry),\"effectId\":arrayEntry})],2)]}},{key:\"default\",fn:function(ref){\nvar arrayEntry = ref.arrayEntry;\nvar index = ref.index;\nreturn [(_vm.viewedTables[index])?[_c('value-subgrid',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expandedTables[index]),expression:\"expandedTables[index]\"}],attrs:{\"properties\":_vm.propsById[arrayEntry],\"values\":_vm.getSourcesForEffectId(arrayEntry).map(function (e) { return _vm.getValueSubgridEntry(e.source, arrayEntry); }),\"allowOverflow\":true,\"minValueColumnWidth\":'300px',\"getTextForSource\":_vm.getTextForSource},scopedSlots:_vm._u([{key:\"value-header\",fn:function(ref){\nvar entry = ref.entry;\nreturn [_vm._t(\"value-header\",[_c('span',[_vm._v(_vm._s(entry.identifier))])],{\"entry\":entry.identifier})]}}],null,true)})]:_vm._e()]}}],null,true),model:{value:(_vm.expandedTables),callback:function ($$v) {_vm.expandedTables=$$v},expression:\"expandedTables\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"generic-value-subgrid\",style:(_vm.mainValueGridStyle)},[(_vm.showHeaders)?[_c('span',{staticClass:\"property-cell header-cell\"},[_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.lockPropertyColumn = !_vm.lockPropertyColumn}}},[_c('span',{staticStyle:{\"text-transform\":\"capitalize\"}},[_vm._v(\"Buff Property\")]),_c('v-icon',[_vm._v(_vm._s(_vm.lockPropertyColumn ? 'lock' : 'lock_open'))])],1)],1),_vm._l((_vm.values),function(entry,i){return _c('span',{key:i,staticClass:\"value-cell header-cell\",style:(_vm.convertNumberToColumnSpanStyle(_vm.columnCountMappingByValueEntry.get(entry)))},[_vm._t(\"value-header\",[_vm._v(\"\\n        \"+_vm._s(entry.identifier)+\"\\n      \")],{\"entry\":entry})],2)})]:_vm._e(),_vm._l((_vm.properties),function(prop,p){return [_c('span',{key:(prop + \"-\" + p + \"-property\"),class:_vm.getClassForProperty(prop, p),domProps:{\"textContent\":_vm._s(prop)}}),_vm._l((_vm.values),function(entry,e){return [_vm._l((entry.values),function(valueEntry,v){return [(prop === 'sourcePath')?_c('source-path-cell',{key:(prop + \"-\" + p + \"-\" + e + \"-\" + v + \"-custom-value\"),class:_vm.getClassForValue(v, entry.values, p, prop),attrs:{\"value\":_vm.getPropertyValue(prop, valueEntry),\"source\":entry.identifier,\"getTextForSource\":_vm.getTextForSource}}):(prop === 'triggeredOn')?_c('triggered-on-cell',{key:(prop + \"-\" + p + \"-\" + e + \"-\" + v + \"-custom-value\"),class:_vm.getClassForValue(v, entry.values, p, prop),attrs:{\"value\":_vm.getPropertyValue(prop, valueEntry)}}):_c('span',{key:(prop + \"-\" + p + \"-\" + e + \"-\" + v + \"-value\"),class:_vm.getClassForValue(v, entry.values, p, prop),domProps:{\"textContent\":_vm._s(_vm.getPropertyValue(prop, valueEntry))}})]})]})]})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"generic-source-path-cell\"},[_c('span',{style:(_vm.cellStyle),domProps:{\"textContent\":_vm._s(_vm.displayValue)}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <span class=\"generic-source-path-cell\">\r\n    <span v-text=\"displayValue\" :style=\"cellStyle\"/>\r\n  </span>\r\n</template>\r\n\r\n<script>\r\nimport colors from 'vuetify/es5/util/colors';\r\nimport { safeGet } from '@/modules/utils';\r\n\r\nconst SOURCE_PATH_TO_MATERIAL_COLOR_MAPPING = Object.freeze({\r\n  'unit.ls': 'green darken-3',\r\n  'unit.es': 'orange darken-4',\r\n  'unit.bb': 'blue-grey',\r\n  'unit.sbb': 'yellow darken-3',\r\n  'unit.ubb': 'red darken-3',\r\n  'unit.sp': 'light-green darken-3',\r\n  'es': 'purple lighten-1',\r\n  'sphere': 'grey',\r\n});\r\n\r\nconst SOURCE_PATH_TO_TEXT_MAPPING = Object.freeze({\r\n  'unit.ls': 'Leader Skill',\r\n  'unit.es': 'Extra Skill',\r\n  'unit.bb': 'Brave Burst',\r\n  'unit.sbb': 'Super Brave Burst',\r\n  'unit.ubb': 'Ultimate Brave Burst',\r\n  'unit.sp': 'SP Enhancement',\r\n});\r\n\r\nexport default {\r\n  props: {\r\n    value: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    source: { // squad unit entry\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n    getTextForSource: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n  },\r\n  computed: {\r\n    materialColor () {\r\n      return SOURCE_PATH_TO_MATERIAL_COLOR_MAPPING[this.value] || 'grey';\r\n    },\r\n    hexColor () {\r\n      let [primaryColor, accent] = this.materialColor.split(' ');\r\n      if (primaryColor.includes('-')) {\r\n        const capitalize = str => [str[0].toUpperCase(), str.slice(1)].join('');\r\n        const colorSplit = primaryColor.split('-');\r\n        primaryColor = [colorSplit[0], colorSplit.slice(1).map(capitalize)].join('');\r\n      }\r\n      if (accent) {\r\n        accent = accent.replace(/-/g, '');\r\n      }\r\n      return safeGet(colors, [primaryColor, accent || 'base']);\r\n    },\r\n    cellStyle () {\r\n      return {\r\n        'border-color': this.hexColor,\r\n      };\r\n    },\r\n    displayValue () {\r\n      let displayValue = SOURCE_PATH_TO_TEXT_MAPPING[this.value];\r\n      displayValue = this.getTextForSource(this.value, this.source, displayValue) || displayValue;\r\n      return displayValue || this.value;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.generic-source-path-cell {\r\n  display: flex;\r\n  span {\r\n    height: 100%;\r\n    flex: auto;\r\n    border: 4px solid grey;\r\n    padding: 0 1px;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SourcePathCell.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SourcePathCell.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SourcePathCell.vue?vue&type=template&id=c92cc4ba&\"\nimport script from \"./SourcePathCell.vue?vue&type=script&lang=js&\"\nexport * from \"./SourcePathCell.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SourcePathCell.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"generic-triggered-on-cell\"},[_c('span',{style:(_vm.cellStyle),domProps:{\"textContent\":_vm._s(_vm.displayValue)}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <span class=\"generic-triggered-on-cell\">\r\n    <span v-text=\"displayValue\" :style=\"cellStyle\"/>\r\n  </span>\r\n</template>\r\n\r\n<script>\r\nimport colors from 'vuetify/es5/util/colors';\r\nimport { safeGet } from '@/modules/utils';\r\n\r\nconst BURST_TYPE_TO_MATERIAL_COLOR_MAPPING = Object.freeze({\r\n  bb: 'blue-grey',\r\n  sbb: 'yellow darken-3',\r\n  ubb: 'red darken-3',\r\n});\r\n\r\nconst BURST_TYPE_TO_TEXT_MAPPING = Object.freeze({\r\n  bb: 'Brave Burst',\r\n  sbb: 'Super Brave Burst',\r\n  ubb: 'Ultimate Brave Burst',\r\n});\r\n\r\nexport default {\r\n  props: {\r\n    value: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n  },\r\n  computed: {\r\n    materialColor () {\r\n      return BURST_TYPE_TO_MATERIAL_COLOR_MAPPING[this.value];\r\n    },\r\n    hexColor () {\r\n      if (!this.materialColor) {\r\n        return 'transparent';\r\n      }\r\n      let [primaryColor, accent] = this.materialColor.split(' ');\r\n      if (primaryColor.includes('-')) {\r\n        const capitalize = str => [str[0].toUpperCase(), str.slice(1)].join('');\r\n        const colorSplit = primaryColor.split('-');\r\n        primaryColor = [colorSplit[0], colorSplit.slice(1).map(capitalize)].join('');\r\n      }\r\n      if (accent) {\r\n        accent = accent.replace(/-/g, '');\r\n      }\r\n      return safeGet(colors, [primaryColor, accent || 'base']);\r\n    },\r\n    cellStyle () {\r\n      return {\r\n        'border-color': this.hexColor,\r\n      };\r\n    },\r\n    displayValue () {\r\n      return BURST_TYPE_TO_TEXT_MAPPING[this.value] || this.value;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.generic-triggered-on-cell {\r\n  display: flex;\r\n  span {\r\n    height: 100%;\r\n    flex: auto;\r\n    border-width: 4px;\r\n    border-style: solid;\r\n    padding: 0 1px;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TriggeredOnCell.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TriggeredOnCell.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TriggeredOnCell.vue?vue&type=template&id=f9d7ab6c&\"\nimport script from \"./TriggeredOnCell.vue?vue&type=script&lang=js&\"\nexport * from \"./TriggeredOnCell.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TriggeredOnCell.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"generic-value-subgrid\" :style=\"mainValueGridStyle\">\r\n    <template v-if=\"showHeaders\">\r\n      <span class=\"property-cell header-cell\">\r\n        <v-btn flat @click=\"lockPropertyColumn = !lockPropertyColumn\">\r\n          <span style=\"text-transform: capitalize;\">Buff Property</span>\r\n          <v-icon>{{ lockPropertyColumn ? 'lock' : 'lock_open' }}</v-icon>\r\n        </v-btn>\r\n      </span>\r\n      <span\r\n        v-for=\"(entry, i) in values\" :key=\"i\"\r\n        :style=\"convertNumberToColumnSpanStyle(columnCountMappingByValueEntry.get(entry))\"\r\n        class=\"value-cell header-cell\"\r\n      >\r\n        <slot name=\"value-header\" :entry=\"entry\">\r\n          {{ entry.identifier }}\r\n        </slot>\r\n      </span>\r\n    </template>\r\n\r\n    <template v-for=\"(prop, p) in properties\">\r\n      <span\r\n        :class=\"getClassForProperty(prop, p)\"\r\n        :key=\"`${prop}-${p}-property`\"\r\n        v-text=\"prop\"\r\n      />\r\n      <template v-for=\"(entry, e) in values\">\r\n        <template v-for=\"(valueEntry, v) in entry.values\">\r\n          <source-path-cell\r\n            v-if=\"prop === 'sourcePath'\"\r\n            :key=\"`${prop}-${p}-${e}-${v}-custom-value`\"\r\n            :class=\"getClassForValue(v, entry.values, p, prop)\"\r\n            :value=\"getPropertyValue(prop, valueEntry)\"\r\n            :source=\"entry.identifier\"\r\n            :getTextForSource=\"getTextForSource\"\r\n          />\r\n          <triggered-on-cell\r\n            v-else-if=\"prop === 'triggeredOn'\"\r\n            :key=\"`${prop}-${p}-${e}-${v}-custom-value`\"\r\n            :class=\"getClassForValue(v, entry.values, p, prop)\"\r\n            :value=\"getPropertyValue(prop, valueEntry)\"\r\n          />\r\n          <span\r\n            v-else\r\n            :key=\"`${prop}-${p}-${e}-${v}-value`\"\r\n            :class=\"getClassForValue(v, entry.values, p, prop)\"\r\n            v-text=\"getPropertyValue(prop, valueEntry)\"\r\n          />\r\n        </template>\r\n      </template>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SourcePathCell from './SourcePathCell';\r\nimport TriggeredOnCell from './TriggeredOnCell';\r\n\r\nexport default {\r\n  props: {\r\n    properties: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    values: { // each value is an object with properties; takes up at least one column\r\n      type: Array,\r\n      default: () => [\r\n        {\r\n          identifier: {},\r\n          values: [],\r\n        },\r\n      ],\r\n    },\r\n    showHeaders: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    allowOverflow: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    minValueColumnWidth: {\r\n      type: String,\r\n      default: '5em',\r\n    },\r\n    freezePropertyColumn: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    getTextForSource: {\r\n      type: Function,\r\n      // eslint-disable-next-line no-unused-vars\r\n      default: (path, source, initial) => initial || path,\r\n    },\r\n  },\r\n  components: {\r\n    SourcePathCell,\r\n    TriggeredOnCell,\r\n  },\r\n  computed: {\r\n    numValueColumns () {\r\n      const columnCountMapping = this.columnCountMappingByValueEntry;\r\n      return this.values\r\n        .reduce((acc, entry) => acc + columnCountMapping.get(entry), 0);\r\n    },\r\n    columnCountMappingByValueEntry () {\r\n      const mapping = new WeakMap();\r\n      const { properties } = this;\r\n      this.values.forEach(entry => {\r\n        const valuesWithApplicableProperties = entry.values.filter(v => properties.some(p => v.hasOwnProperty(p)));\r\n        const columnCount = Math.max(1, valuesWithApplicableProperties.length);\r\n        mapping.set(entry, columnCount);\r\n      });\r\n      return mapping;\r\n    },\r\n    mainValueGridStyle () {\r\n      const propertyColumnWidth = this.$vuetify.breakpoint.smAndDown ? '10em' : '17.5em';\r\n      const valueSubgridWidth = `minmax(${this.minValueColumnWidth}, 1fr)`;\r\n      const columnConfig = [propertyColumnWidth];\r\n      this.values.forEach(entry => {\r\n        const numColumns = this.columnCountMappingByValueEntry.get(entry);\r\n        if (numColumns > 1) {\r\n          columnConfig.push(`repeat(${numColumns}, minmax(calc(${this.minValueColumnWidth} / ${numColumns}), 1fr))`);\r\n        } else {\r\n          columnConfig.push(valueSubgridWidth);\r\n        }\r\n      });\r\n      return {\r\n        'grid-template-columns': columnConfig.join(' '),\r\n        overflow: (this.allowOverflow && 'auto') || undefined,\r\n      };\r\n    },\r\n    customCellsByPropertyName: () => [\r\n      'sourcePath',\r\n      'triggeredOn',\r\n    ],\r\n  },\r\n  data () {\r\n    return {\r\n      lockPropertyColumn: false,\r\n    };\r\n  },\r\n  mounted () {\r\n    this.lockPropertyColumn = this.freezePropertyColumn;\r\n  },\r\n  methods: {\r\n    getClassForProperty (property, index) {\r\n      return {\r\n        'property-cell': true,\r\n        [index % 2 === 0 ? 'even-row' : 'odd-row']: true,\r\n        'only-row': this.properties.length === 0,\r\n        'sticky-property-cell': this.lockPropertyColumn,\r\n      };\r\n    },\r\n    getClassForValue (valueEntryIndex, parentValuesArray, propertyIndex, propertyName) {\r\n      return {\r\n        'value-cell': true,\r\n        [propertyIndex % 2 === 0 ? 'even-row' : 'odd-row']: true,\r\n        'is-last-value-cell': valueEntryIndex === parentValuesArray.length - 1,\r\n        'is-custom-cell': this.isCustomCell(propertyName),\r\n      };\r\n    },\r\n    convertNumberToColumnSpanStyle (numColumns) {\r\n      return {\r\n        'grid-column-start': `span ${numColumns}`,\r\n      };\r\n    },\r\n    isProcBuffList (prop) {\r\n      return prop === 'triggered effect';\r\n    },\r\n    isCustomCell (prop) {\r\n      return this.customCellsByPropertyName.includes(prop);\r\n    },\r\n    getPropertyValue (prop, valueEntry) {\r\n      const value = valueEntry[prop] !== undefined ? valueEntry[prop] : '-';\r\n      const result = typeof value === 'object' ? JSON.stringify(value) : value;\r\n      return Array.isArray(value) && value.length === 0\r\n        ? `${result} (None)`\r\n        : result;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.generic-value-subgrid {\r\n  --table-border-color: hsl(0, 0, 35%);\r\n  --table-background-color: var(--background-color-alt--lighten-1);\r\n  --table-border-settings: 1px solid var(--table-border-color);\r\n\r\n  width: 100%;\r\n  height: 100%;\r\n  display: grid;\r\n  grid-template-columns: 17.5em 1fr;\r\n  grid-auto-flow: stretch;\r\n  background-color: inherit;\r\n\r\n  // nested table\r\n  .generic-value-subgrid {\r\n    grid-template-columns: minmax(17.5em, auto) 1fr;\r\n  }\r\n\r\n  .even-row:not(.value-cell), .even-row.value-cell:not(:hover) {\r\n    &:not(.only-row) {\r\n      background-color: var(--table-border-color);\r\n    }\r\n  }\r\n\r\n  .odd-row:not(.value-cell), .odd-row.value-cell:not(:hover) {\r\n    background-color: inherit;\r\n  }\r\n\r\n  .value-cell:not(.header-cell):hover {\r\n    background-color: var(--background-color--card);\r\n  }\r\n\r\n  .value-cell.has-table:not(.header-cell):hover {\r\n    background-color: var(--background-color);\r\n  }\r\n\r\n  .header-cell {\r\n    font-weight: bold;\r\n    border-bottom: var(--table-border-settings);\r\n  }\r\n\r\n  .property-cell, .value-cell {\r\n    padding: 0.5em;\r\n    word-break: break-word;\r\n    hyphens: auto;\r\n    text-align: center;\r\n  }\r\n\r\n  .property-cell, .header-cell {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  .value-cell.header-cell {\r\n    flex-direction: column;\r\n  }\r\n\r\n  .value-cell.is-custom-cell {\r\n    padding: 0;\r\n  }\r\n\r\n  .value-cell:not(.is-custom-cell) {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  .property-cell span {\r\n    flex: 1 0 100%;\r\n    text-align: center;\r\n  }\r\n\r\n  .is-last-value-cell, .property-cell {\r\n    border-right: 2px solid var(--table-background-color);\r\n  }\r\n\r\n  .sticky-property-cell {\r\n    position: sticky;\r\n    left: 0;\r\n    border-right-color: white;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValueSubgrid.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValueSubgrid.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ValueSubgrid.vue?vue&type=template&id=25124256&\"\nimport script from \"./ValueSubgrid.vue?vue&type=script&lang=js&\"\nexport * from \"./ValueSubgrid.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ValueSubgrid.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-expansion-panel',_vm._b({attrs:{\"value\":_vm.value},on:{\"input\":function ($v) { return _vm.$emit('input', $v); }}},'v-expansion-panel',_vm.$attrs,false),_vm._l((_vm.internalEntries),function(entry,i){return _c('v-expansion-panel-content',{key:_vm.getKeyFunction(entry, i)},[_c('template',{slot:\"header\"},[_vm._t(\"header\",[_vm._v(\"\\n        Header\\n      \")],{\"arrayEntry\":entry,\"index\":i})],2),_vm._t(\"default\",[_c('div',[_vm._v(_vm._s(entry))])],{\"arrayEntry\":entry,\"index\":i})],2)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-expansion-panel v-bind=\"$attrs\" :value=\"value\" @input=\"$v => $emit('input', $v)\">\r\n    <v-expansion-panel-content v-for=\"(entry, i) in internalEntries\" :key=\"getKeyFunction(entry, i)\">\r\n      <template slot=\"header\">\r\n        <slot name=\"header\" :arrayEntry=\"entry\" :index=\"i\">\r\n          Header\r\n        </slot>\r\n      </template>\r\n      <slot name=\"default\" :arrayEntry=\"entry\" :index=\"i\">\r\n        <div>{{ entry }}</div>\r\n      </slot>\r\n    </v-expansion-panel-content>\r\n  </v-expansion-panel>\r\n</template>\r\n\r\n<script>\r\nimport DelayedVForMixin from '@/components/DelayedVForMixin';\r\nexport default {\r\n  mixins: [DelayedVForMixin],\r\n  props: {\r\n    value: {\r\n      required: false,\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DelayedVForExpansionPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DelayedVForExpansionPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DelayedVForExpansionPanel.vue?vue&type=template&id=a30d57ba&\"\nimport script from \"./DelayedVForExpansionPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./DelayedVForExpansionPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <section class=\"buff-expandable-list\">\r\n    <loading-indicator\r\n      v-if=\"isVisuallyLoadingList\"\r\n      :progress=\"loadProgress\"\r\n      loadingMessage=\"Loading list...\"\r\n    />\r\n    <div v-if=\"!isVisuallyLoadingList && sortedEffectIds.length === 0\" class=\"my-2\">\r\n      <slot name=\"noentries\">\r\n        <span>No entries of type [{{ effectType }}] were found.</span>\r\n      </slot>\r\n    </div>\r\n    <delayed-v-for-expansion-panel\r\n      v-show=\"!isVisuallyLoadingList\"\r\n      v-model=\"expandedTables\"\r\n      @start=\"handleLoadStart\"\r\n      @end=\"handleLoadEnd\"\r\n      @progress=\"$p => loadProgress = $p\"\r\n      :entries=\"sortedEffectIds\"\r\n      expand focusable\r\n    >\r\n      <template slot=\"header\" slot-scope=\"{ arrayEntry }\">\r\n        <div :class=\"getEntryHeaderClasses(arrayEntry)\">\r\n          <span class=\"expandable-list-entry--title subheading\" v-text=\"`${arrayEntry}: ${effectNameById[arrayEntry] }`\"/>\r\n          <slot\r\n            name=\"allentrypreview\"\r\n            :entries=\"getSourcesForEffectId(arrayEntry)\"\r\n            :effectId=\"arrayEntry\"\r\n          >\r\n            <div v-for=\"(entry, i) in getSourcesForEffectId(arrayEntry)\" :key=\"i\">\r\n              {{ entry }}\r\n            </div>\r\n          </slot>\r\n        </div>\r\n      </template>\r\n      <template slot-scope=\"{ arrayEntry, index }\">\r\n        <template v-if=\"viewedTables[index]\">\r\n          <value-subgrid\r\n            v-show=\"expandedTables[index]\"\r\n            :properties=\"propsById[arrayEntry]\"\r\n            :values=\"getSourcesForEffectId(arrayEntry).map(e => getValueSubgridEntry(e.source, arrayEntry))\"\r\n            :allowOverflow=\"true\"\r\n            :minValueColumnWidth=\"'300px'\"\r\n            :getTextForSource=\"getTextForSource\"\r\n          >\r\n            <template slot=\"value-header\" slot-scope=\"{ entry }\">\r\n              <slot name=\"value-header\" :entry=\"entry.identifier\">\r\n                <span>{{ entry.identifier }}</span>\r\n              </slot>\r\n            </template>\r\n          </value-subgrid>\r\n        </template>\r\n      </template>\r\n    </delayed-v-for-expansion-panel>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport LoadingDebouncer from '@/modules/LoadingDebouncer';\r\nimport { getEffectId } from '@/modules/EffectProcessor/processor-helper';\r\nimport { getEffectName, handleUnknownParams } from '@/modules/core/buffs';\r\nimport { weightedStringSort } from '@/modules/utils';\r\nimport { Logger } from '@/modules/Logger';\r\nimport ValueSubgrid from './ValueSubgrid';\r\nimport DelayedVForExpansionPanel from '@/components/Multidex/BuffList/DelayedVForExpansionPanel';\r\nimport LoadingIndicator from '@/components/LoadingIndicator';\r\n\r\nconst logger = new Logger({ prefix: '[BuffExpandableList]' });\r\nexport default {\r\n  props: {\r\n    sources: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    getEffectsFromSource: {\r\n      type: Function,\r\n      default: () => [],\r\n    },\r\n    inputEffectMappingBySource: {\r\n      type: WeakMap,\r\n      default: () => new WeakMap(),\r\n    },\r\n    highlightedBuffIds: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    effectType: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    getTextForSource: {\r\n      type: Function,\r\n      // eslint-disable-next-line no-unused-vars\r\n      default: (path, source) => path,\r\n    },\r\n  },\r\n  components: {\r\n    ValueSubgrid,\r\n    DelayedVForExpansionPanel,\r\n    LoadingIndicator,\r\n  },\r\n  computed: {\r\n    blacklistedKeys: () => Object.freeze([\r\n      'passive id',\r\n      'unknown passive id',\r\n      'proc id',\r\n      'unknown proc id',\r\n      'add to bb',\r\n      'add to sbb',\r\n      'add to ubb',\r\n      'trigger on bb',\r\n      'trigger on sbb',\r\n      'trigger on ubb',\r\n    ]),\r\n    weightedCompareOptions: () => Object.freeze({\r\n      beginning: [\r\n        'conditions',\r\n        'esConditions',\r\n        'effect delay time(ms)/frame',\r\n      ],\r\n      end: [\r\n        'passive target',\r\n        'target area',\r\n        'target type',\r\n        'buff turns',\r\n        'sp_type',\r\n        'sourceSpCode',\r\n        'triggeredOn',\r\n        'sourcePath',\r\n      ],\r\n    }),\r\n    // assumption: all effects are of the same type (passive, proc, etc)\r\n    effectsById () {\r\n      const { getEffectsFromSource, getEffectDetails, inputEffectMappingBySource } = this;\r\n      const mapping = this.sources.reduce((acc, entry) => {\r\n        const effects = inputEffectMappingBySource.get(entry) || getEffectsFromSource(entry);\r\n        effects.forEach(effect => {\r\n          const effectDetails = getEffectDetails(effect);\r\n          effectDetails.source = entry;\r\n          if (!acc[effectDetails.id]) {\r\n            acc[effectDetails.id] = [];\r\n          }\r\n          acc[effectDetails.id].push(Object.freeze(effectDetails));\r\n        });\r\n        return acc;\r\n      }, {});\r\n      return Object.freeze(mapping);\r\n    },\r\n    propsById () {\r\n      const { effectsById, weightedCompareOptions } = this;\r\n      const mapping = Object.keys(effectsById).reduce((acc, key) => {\r\n        const props = new Set();\r\n\r\n        const effects = effectsById[key];\r\n        effects.forEach(effectEntry => {\r\n          Object.keys(effectEntry.effect).forEach(prop => {\r\n            props.add(prop);\r\n          });\r\n        });\r\n        acc[key] = Object.freeze(Array.from(props).sort((a, b) => weightedStringSort(a, b, weightedCompareOptions)));\r\n        return acc;\r\n      }, {});\r\n      return Object.freeze(mapping);\r\n    },\r\n    sortedEffectIds () {\r\n      return Object.freeze(Object.keys(this.effectsById).sort((a, b) => +a - +b));\r\n    },\r\n    effectNameById () {\r\n      const idKey = `${this.effectType} id`;\r\n      const mapping = this.sortedEffectIds.reduce((acc, id) => {\r\n        acc[id] = getEffectName({ [idKey]: id });\r\n        return acc;\r\n      }, {});\r\n      return Object.freeze(mapping);\r\n    },\r\n  },\r\n  data () {\r\n    return {\r\n      expandedTables: [],\r\n      viewedTables: {},\r\n      valueSubgridEntryByEntryByEffectId: {},\r\n      loadStartToken: 0,\r\n      loadingList: true,\r\n      isVisuallyLoadingList: true,\r\n      loadingDebouncer: null,\r\n      highlightCheckerTimeout: null,\r\n      loadProgress: -1,\r\n    };\r\n  },\r\n  beforeDestroy () {\r\n    if (this.loadingDebouncer) {\r\n      this.loadingDebouncer.dispose();\r\n    }\r\n  },\r\n  methods: {\r\n    getEffectDetails (effect) {\r\n      const id = getEffectId(effect);\r\n      const filteredEffect = {};\r\n      const processedEffect = handleUnknownParams(effect);\r\n      Object.keys(processedEffect)\r\n        .filter(key => !this.blacklistedKeys.includes(key)) // get everything but the blacklisted keys\r\n        .forEach(key => {\r\n          filteredEffect[key] = processedEffect[key];\r\n        });\r\n      return { id, effect: filteredEffect };\r\n    },\r\n    handleLoadStart (startToken) {\r\n      this.loadStartToken = startToken;\r\n      this.loadingList = true;\r\n      this.loadProgress = -1;\r\n    },\r\n    handleLoadEnd (endToken) {\r\n      if (this.loadStartToken === endToken) {\r\n        this.loadingList = false;\r\n      }\r\n    },\r\n    getValueSubgridEntry (entry, effectId) {\r\n      if (!this.valueSubgridEntryByEntryByEffectId[effectId]) {\r\n        this.valueSubgridEntryByEntryByEffectId[effectId] = new WeakMap();\r\n      }\r\n      const valueSubgridCache = this.valueSubgridEntryByEntryByEffectId[effectId];\r\n      if (!valueSubgridCache.has(entry)) {\r\n        const subgridEntry = {\r\n          identifier: entry,\r\n          values: this.effectsById[effectId]\r\n            .filter(effect => effect.source === entry)\r\n            .map(e => e.effect),\r\n        };\r\n        valueSubgridCache.set(entry, subgridEntry);\r\n      }\r\n      return valueSubgridCache.get(entry);\r\n    },\r\n    toggleEffectView (i) {\r\n      this.expandedTables[i] = !this.expandedTables[i];\r\n    },\r\n    toggleAllEffectViews () {\r\n      if (this.expandedTables.length === this.sortedEffectIds.length) {\r\n        this.expandedTables = [];\r\n      } else {\r\n        this.expandedTables = this.sortedEffectIds.map((val, i) => i);\r\n      }\r\n    },\r\n    isEmptyArray (obj) {\r\n      return Array.isArray(obj) && obj.length === 0;\r\n    },\r\n    getSourcesForEffectId (id) {\r\n      const effectList = this.effectsById[id];\r\n      const sourcePathsBySource = new Map();\r\n      if (!effectList) {\r\n        logger.warn(`Missing effect id array [${id}]`, this.effectsById);\r\n      }\r\n      (effectList || []).forEach(entry => {\r\n        const sourcePaths = sourcePathsBySource.get(entry.source) || new Set();\r\n        sourcePaths.add(entry.effect.sourcePath);\r\n        sourcePathsBySource.set(entry.source, sourcePaths);\r\n      });\r\n      return Array.from(sourcePathsBySource.entries()).map(([source, sourcePaths]) => ({ source, sourcePaths: Array.from(sourcePaths) }));\r\n    },\r\n    isHighlightedHeader (id) {\r\n      return this.highlightedBuffIds.includes(id);\r\n    },\r\n    highlightHeaders () {\r\n      const allHighlightedHeaders = Array.from(this.$el.querySelectorAll('.highlighted-header'));\r\n      const isLightMode = !!this.$store.state.settings.lightMode;\r\n      const classesToAdd = ['blue', isLightMode ? 'lighten-4' : 'darken-4'];\r\n      allHighlightedHeaders.forEach(header => {\r\n        const expansionPanelWrapper = header.parentNode;\r\n        expansionPanelWrapper.classList.add(...classesToAdd);\r\n        header.classList.add('is-highlighted');\r\n      });\r\n    },\r\n    ensureHeadersAreHighlighted () {\r\n      if (!this.highlightCheckerTimeout) {\r\n        let noActionNecessaryCount = 0;\r\n        const runCheck = () => {\r\n          const hasUnhighlightedHeader = !!this.$el.querySelector('.highlighted-header:not(.is-highlighted)');\r\n          if (hasUnhighlightedHeader && !this.isVisuallyLoadingList) {\r\n            noActionNecessaryCount = 0;\r\n            this.highlightHeaders();\r\n            this.highlightCheckerTimeout = setTimeout(runCheck, 1000);\r\n          } else if (noActionNecessaryCount < 3) {\r\n            noActionNecessaryCount++;\r\n            this.highlightCheckerTimeout = setTimeout(runCheck, 1000);\r\n          } else {\r\n            this.highlightCheckerTimeout = null;\r\n          }\r\n        };\r\n        runCheck();\r\n      }\r\n    },\r\n    getEntryHeaderClasses (effectId) {\r\n      return {\r\n        'expandable-list-entry--header': true,\r\n        'highlighted-header': this.isHighlightedHeader(effectId),\r\n      };\r\n    },\r\n  },\r\n  watch: {\r\n    expandedTables (newValue) {\r\n      newValue.forEach((doShow, index) => {\r\n        if (doShow && this.viewedTables[index] !== true) {\r\n          this.viewedTables[index] = true;\r\n        }\r\n      });\r\n    },\r\n    loadingList (isLoading) {\r\n      if (!this.loadingDebouncer) {\r\n        this.loadingDebouncer = new LoadingDebouncer(val => {\r\n          this.isVisuallyLoadingList = val;\r\n        });\r\n      }\r\n      this.loadingDebouncer.setValue(() => this.loadingList);\r\n      this.$emit('loadstatechange', isLoading);\r\n    },\r\n    isVisuallyLoadingList (isLoading) {\r\n      if (!isLoading) {\r\n        this.ensureHeadersAreHighlighted();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.buff-expandable-list {\r\n  .loading-indicator {\r\n    margin: 2em 0;\r\n  }\r\n\r\n  .v-expansion-panel__header {\r\n    padding-left: 8px;\r\n    padding-right: 8px;\r\n  }\r\n\r\n  .v-expansion-panel__body {\r\n    background-color: inherit;\r\n  }\r\n\r\n  .expandable-list-entry--header {\r\n    display: flex;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .expandable-list-entry--title {\r\n    font-weight: bold;\r\n    word-break: break-word;\r\n  }\r\n\r\n  .expandable-list-entry--columns-preview {\r\n    display: flex;\r\n    margin-left: 1em;\r\n    justify-content: flex-end;\r\n    flex-wrap: wrap;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuffExpandableList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuffExpandableList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BuffExpandableList.vue?vue&type=template&id=ac6e52de&\"\nimport script from \"./BuffExpandableList.vue?vue&type=script&lang=js&\"\nexport * from \"./BuffExpandableList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BuffExpandableList.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-entry-card',{staticStyle:{\"height\":\"100%\"},attrs:{\"to\":_vm.to}},[_c('v-container',{staticClass:\"pa-3\",attrs:{\"fluid\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',[_c('div',{staticClass:\"d-flex-container items-center\"},[(_vm.hasSphereType)?_c('sphere-type-icon',{staticClass:\"mr-1\",attrs:{\"category\":_vm.entry['sphere type'],\"displaySize\":24}}):_vm._e(),_c('h1',{staticClass:\"subheading d-inline-block\",staticStyle:{\"word-break\":\"break-word\"}},[_c('b',{domProps:{\"textContent\":_vm._s(_vm.entry.name)}})])],1)])],1),_c('v-layout',{staticClass:\"d-align-items-center\",attrs:{\"row\":\"\"}},[_c('v-flex',{staticClass:\"text-xs-center pb-0\",attrs:{\"xs3\":\"\"}},[_c('item-thumbnail',{attrs:{\"src\":_vm.getImageUrl(_vm.entry.id, _vm.entry),\"rarity\":_vm.rarity,\"type\":_vm.entry.type,\"isRaidItem\":!!_vm.entry.raid,\"imageTitle\":_vm.entry.name,\"displayWidth\":_vm.thumbnailSize,\"displayHeight\":_vm.thumbnailSize}})],1),_c('v-flex',{staticClass:\"pb-0\",staticStyle:{\"word-break\":\"break-word\"},attrs:{\"xs9\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.entry.desc)+\"\\n      \")])],1),_c('v-layout',{staticClass:\"d-align-items-center\",attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('h2',{staticClass:\"subheading\"},[_vm._v(_vm._s(_vm.itemType))])]),_c('v-flex',{attrs:{\"xs3\":\"\"}},[_vm._v(\"\\n        x\"+_vm._s(_vm.entry.max_stack)+\"\\n      \")]),_c('v-flex',{attrs:{\"xs3\":\"\"}},[_c('div',{staticClass:\"d-flex-container items-center content-flex-end\"},[(_vm.rarity < 8)?_c('span',[_vm._v(_vm._s(_vm.rarity))]):_vm._e(),_c('rarity-icon',{class:{ 'ml-1': _vm.rarity !== 8 },attrs:{\"rarity\":_vm.rarity,\"displaySize\":18}})],1)])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <base-entry-card :to=\"to\" style=\"height: 100%;\">\r\n    <v-container fluid class=\"pa-3\">\r\n      <v-layout row>\r\n        <v-flex>\r\n          <div class=\"d-flex-container items-center\">\r\n            <sphere-type-icon\r\n              v-if=\"hasSphereType\"\r\n              :category=\"entry['sphere type']\"\r\n              :displaySize=\"24\"\r\n              class=\"mr-1\"/>\r\n            <h1 class=\"subheading d-inline-block\" style=\"word-break: break-word;\">\r\n              <b v-text=\"entry.name\"/>\r\n            </h1>\r\n          </div>\r\n        </v-flex>\r\n      </v-layout>\r\n      <v-layout row class=\"d-align-items-center\">\r\n        <v-flex xs3 class=\"text-xs-center pb-0\">\r\n          <item-thumbnail\r\n            :src=\"getImageUrl(entry.id, entry)\"\r\n            :rarity=\"rarity\"\r\n            :type=\"entry.type\"\r\n            :isRaidItem=\"!!entry.raid\"\r\n            :imageTitle=\"entry.name\"\r\n            :displayWidth=\"thumbnailSize\" :displayHeight=\"thumbnailSize\"/>\r\n        </v-flex>\r\n        <v-flex xs9 class=\"pb-0\" style=\"word-break: break-word;\">\r\n          {{ entry.desc }}\r\n        </v-flex>\r\n      </v-layout>\r\n      <v-layout row class=\"d-align-items-center\">\r\n        <v-flex xs6>\r\n          <h2 class=\"subheading\">{{ itemType }}</h2>\r\n        </v-flex>\r\n        <v-flex xs3>\r\n          x{{ entry.max_stack }}\r\n        </v-flex>\r\n        <v-flex xs3>\r\n          <div class=\"d-flex-container items-center content-flex-end\">\r\n            <span v-if=\"rarity < 8\">{{ rarity }}</span>\r\n            <rarity-icon :class=\"{ 'ml-1': rarity !== 8 }\" :rarity=\"rarity\" :displaySize=\"18\"/>\r\n          </div>\r\n        </v-flex>\r\n      </v-layout>\r\n    </v-container>\r\n  </base-entry-card>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nimport EntryCardMixin from '@/components/Multidex/BaseEntryCardMixin';\r\nimport SphereTypeIcon from '@/components/Multidex/Items/SphereTypeIcon';\r\nimport RarityIcon from '@/components/Multidex/RarityIcon';\r\nimport ItemThumbnail from '@/components/Multidex/Items/ItemThumbnail';\r\nimport { getItemType, isSphere } from '@/modules/core/items';\r\n\r\nexport default {\r\n  mixins: [EntryCardMixin],\r\n  components: {\r\n    SphereTypeIcon,\r\n    RarityIcon,\r\n    ItemThumbnail,\r\n  },\r\n  computed: {\r\n    ...mapGetters('items', ['getImageUrl']),\r\n    rarity () {\r\n      return this.entry.rarity;\r\n    },\r\n    hasSphereType () {\r\n      return isSphere(this.entry);\r\n    },\r\n    itemType () {\r\n      return getItemType(this.entry);\r\n    },\r\n    thumbnailSize () {\r\n      const breakpoint = this.$vuetify.breakpoint;\r\n      if (breakpoint.xlOnly) {\r\n        return 64;\r\n      } else if (breakpoint.mdAndUp) {\r\n        return 56;\r\n      } else {\r\n        return 48;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EntryCard.vue?vue&type=template&id=4c59c848&\"\nimport script from \"./EntryCard.vue?vue&type=script&lang=js&\"\nexport * from \"./EntryCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { getEffectsList } from './buffs';\r\nimport { targetTypes, squadBuffTypes } from '@/modules/constants';\r\n\r\nexport function getLeaderSkillEffects (skill = {}) {\r\n  return skill && Array.isArray(skill.effects) ?\r\n    Array.from(skill.effects) :\r\n    [];\r\n}\r\n\r\nexport function getEffectsListForLeaderSkill ({\r\n  skill = {},\r\n  target = targetTypes.PARTY,\r\n  effectType = squadBuffTypes.PROC,\r\n}) {\r\n  const effects = getLeaderSkillEffects(skill)\r\n    .map(e => ({ ...e, sourcePath: `Leader Skill: ${skill.name || '(No name found)'} (${skill.id})`}));\r\n  return getEffectsList({\r\n    leaderSkillEffects: effects,\r\n    target,\r\n    effectType,\r\n  });\r\n}\r\n","import { getHighestRarityUnit } from './units';\r\nimport { getSphereCategory } from './items';\r\nimport { targetTypes, squadBuffTypes } from '@/modules/constants';\r\nimport { getEffectsList } from './buffs';\r\n\r\nexport function parseExtraSkillConditions (effect) {\r\n  const parsedConditions = { unit: [], item: [], sphereType: [] };\r\n  if (!effect.conditions || effect.conditions.length === 0) {\r\n    return parsedConditions;\r\n  }\r\n\r\n  effect.conditions.forEach(condition => {\r\n    if (condition['sphere category required'] !== undefined) {\r\n      // parsedConditions.sphereType.push(`${condition['sphere category required']} sphere`);\r\n      parsedConditions.sphereType.push(condition['sphere category required (raw)']);\r\n    } else if (condition['item required'] !== undefined) {\r\n      if (Array.isArray(condition['item required']) && condition['item required'].length > 0) {\r\n        condition['item required'].forEach(item => {\r\n          if (!parsedConditions.item.includes(item)) {\r\n            parsedConditions.item.push(item);\r\n          }\r\n        });\r\n      } else {\r\n        parsedConditions.item.push(condition['item required']);\r\n      }\r\n    } else if (condition['unit required'] !== undefined) {\r\n      if (Array.isArray(condition['unit required']) && condition['unit required'].length > 0) {\r\n        condition['unit required'].forEach(unit => {\r\n          if (!parsedConditions.unit.includes(unit)) {\r\n            parsedConditions.unit.push(unit);\r\n          }\r\n        });\r\n      } else {\r\n        parsedConditions.unit.push(condition['unit required']);\r\n      }\r\n    } else if (condition.unknown !== undefined) {\r\n      parsedConditions.item.push(`unknown sphere type ${condition['unknown']}`);\r\n    }\r\n  });\r\n\r\n  return parsedConditions;\r\n}\r\n\r\nexport function conditionHelperGetUnitNames (units = [], unitById = (id) => ({ name: id, id })) {\r\n  return units.map(entry => {\r\n    const names = [];\r\n    if (entry.name) {\r\n      names.push(entry.name);\r\n    } else {\r\n      const id = (entry.id) ? entry.id.toString() : entry.toString();\r\n      if (+id % 10 === 0) {\r\n        const unit = getHighestRarityUnit(+id, unitById) || {};\r\n        names.push(`any evolution of ${unit.name || id}`);\r\n      } else {\r\n        // specify a specific unit\r\n        const unit = unitById(id) || {};\r\n        names.push(unit.name || id);\r\n      }\r\n    }\r\n    return names;\r\n  }).reduce((acc, val) => acc.concat(val), []);\r\n}\r\n\r\nexport function conditionHelperGetItemNames (items = [], itemById = (id) => ({ name: id, id })) {\r\n  return items.map(id => {\r\n    const item = itemById(id.toString()) || {};\r\n    return item.name || id;\r\n  });\r\n}\r\n\r\nexport function convertParsedConditionsToMessage ({ unit = [], item = [], sphereType = [] }, { unitById, itemById }) {\r\n  const conditions = [];\r\n\r\n  if (unit.length > 0) {\r\n    const names = conditionHelperGetUnitNames(unit, unitById);\r\n    if (unit.length === 1 && names.length === 1) {\r\n      conditions.push(`${names[0]} is in squad`);\r\n    } else {\r\n      conditions.push(`${names.join(' or ')} are in squad`);\r\n    }\r\n  }\r\n\r\n  if (item.length > 0) {\r\n    const names = conditionHelperGetItemNames(item, itemById);\r\n    if (item.length === 1) {\r\n      conditions.push(`${names[0]} is equipped`);\r\n    } else {\r\n      conditions.push(`${names.join(' or ')} are equipped`);\r\n    }\r\n  }\r\n\r\n  if (sphereType.length > 0) {\r\n    const names = sphereType.map(c => getSphereCategory(+c));\r\n    if (sphereType.length === 1) {\r\n      conditions.push(`${names[0]} sphere is equipped`);\r\n    } else {\r\n      conditions.push(`${names.join(' or ')} spheres are equipped`);\r\n    }\r\n  }\r\n\r\n  return conditions.join(' or ');\r\n}\r\n\r\nexport function splitEffectsByCondition (effects = [], { unitById, itemById }) {\r\n  const conditionDictionary = {};\r\n  conditionDictionary['No Condition'] = effects.filter(e => e.conditions.length === 0);\r\n\r\n  // parse conditional effects\r\n  effects.filter(e => e.conditions.length > 0)\r\n    .forEach(effect => {\r\n      const message = convertParsedConditionsToMessage(parseExtraSkillConditions(effect), { unitById, itemById });\r\n      if (!conditionDictionary[message]) {\r\n        conditionDictionary[message] = [];\r\n      }\r\n      conditionDictionary[message].push(effect);\r\n    });\r\n\r\n  return Object.entries(conditionDictionary)\r\n    .map(([condition, parsedEffects]) => ({\r\n      condition,\r\n      // remove conditions field from effect entry\r\n      // eslint-disable-next-line\r\n      effects: parsedEffects.map(({ conditions, ...effect }) => effect),\r\n    }))\r\n    .filter(({ effects }) => effects.length > 0);\r\n}\r\n\r\nexport function isValidSkill (skill) {\r\n  const expectedFields = ['rarity', 'name', 'id', 'desc'];\r\n  return typeof skill === 'object' && expectedFields.every(f => skill[f] !== undefined);\r\n}\r\n\r\nexport function getEmptySkill () {\r\n  return {\r\n    id: 0,\r\n    name: 'None',\r\n    desc: 'No Extra Skill selected',\r\n    rarity: 0,\r\n  };\r\n}\r\n\r\nexport function getExtraSkillEffects (skill = {}) {\r\n  return skill && Array.isArray(skill.effects)\r\n    ? Array.from(skill.effects)\r\n    : [];\r\n}\r\n\r\nexport function getEffectsListForExtraSkill ({\r\n  skill = {},\r\n  target = targetTypes.PARTY,\r\n  effectType = squadBuffTypes.PROC,\r\n}) {\r\n  const effects = getExtraSkillEffects(skill)\r\n    .map(e => ({ ...e, sourcePath: 'es' }));\r\n  return getEffectsList({\r\n    elgifEffects: effects,\r\n    target,\r\n    effectType,\r\n  });\r\n}\r\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SourcePathCell.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SourcePathCell.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-selector',{attrs:{\"showCancelButton\":_vm.showCancelButton,\"value\":_vm.nameFilter,\"hasSelection\":_vm.hasSelection,\"requiredModules\":_vm.requiredModules,\"allEntryIds\":_vm.allIds},on:{\"input\":function ($i) { return _vm.nameFilter = ($i || '').toLowerCase(); },\"cancel\":function($event){return _vm.$emit('cancel')}},scopedSlots:_vm._u([{key:\"entries\",fn:function(ref){\nvar entries = ref.entries;\nreturn _c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((entries),function(entry){return _c('v-flex',{key:entry,attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\",\"xl3\":\"\"}},[_c('entry-card',{staticClass:\"ma-2\",staticStyle:{\"background\":\"var(--background-color)\",\"cursor\":\"pointer\"},attrs:{\"entry\":_vm.pageDb[entry]},nativeOn:{\"click\":function($event){return _vm.sendEntry(entry)}}})],1)}),1)}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <base-selector\r\n    :showCancelButton=\"showCancelButton\"\r\n    :value=\"nameFilter\"\r\n    :hasSelection=\"hasSelection\"\r\n    @input=\"$i => nameFilter = ($i || '').toLowerCase()\"\r\n    @cancel=\"$emit('cancel')\"\r\n    :requiredModules=\"requiredModules\"\r\n    :allEntryIds=\"allIds\">\r\n    <v-layout row wrap slot=\"entries\" slot-scope=\"{ entries }\">\r\n      <v-flex\r\n        v-for=\"entry in entries\"\r\n        :key=\"entry\"\r\n        xs12 sm6 md4 xl3>\r\n        <entry-card\r\n          class=\"ma-2\"\r\n          style=\"background: var(--background-color); cursor: pointer;\"\r\n          @click.native=\"sendEntry(entry)\"\r\n          :entry=\"pageDb[entry]\"/>\r\n      </v-flex>\r\n    </v-layout>\r\n  </base-selector>\r\n</template>\r\n\r\n<script>\r\nimport BaseSelector from '@/components/Tools/Squads/MultidexSelectors/BaseSelector';\r\nimport EntryCard from '@/components/Multidex/Units/EntryCard';\r\nimport { makeMultidexTableInstance } from '@/modules/BfmtDatabase/client';\r\n\r\nconst dbClient = makeMultidexTableInstance('units');\r\nexport default {\r\n  props: {\r\n    showCancelButton: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  components: {\r\n    BaseSelector,\r\n    EntryCard,\r\n  },\r\n  computed: {\r\n    requiredModules () {\r\n      return ['units'];\r\n    },\r\n    pageDb () {\r\n      return this.$store.state.units.pageDb;\r\n    },\r\n    allIds () {\r\n      const allKeys = Object.keys(this.pageDb);\r\n      return !this.nameFilter\r\n        ? allKeys\r\n        : allKeys.filter(k => this.hasName(this.pageDb[k].name, this.nameFilter));\r\n    },\r\n  },\r\n  data () {\r\n    return {\r\n      nameFilter: '',\r\n      hasSelection: false,\r\n    };\r\n  },\r\n  methods: {\r\n    hasName (name = '', query = '') {\r\n      return name.toLowerCase().includes(query);\r\n    },\r\n    sendEntry (id) {\r\n      this.hasSelection = true;\r\n      this.$emit('input', {\r\n        id,\r\n        data: dbClient.getById({\r\n          server: this.$store.state.settings.activeServer,\r\n          id,\r\n        }).catch(() => ({})),\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UnitSelector.vue?vue&type=template&id=29d9591d&\"\nimport script from \"./UnitSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./UnitSelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-chip',_vm._b({staticStyle:{\"pointer-events\":\"none\"},attrs:{\"small\":\"\",\"outline\":\"\",\"color\":!_vm.$vuetify.theme.dark ? 'white' : 'black',\"text-color\":!_vm.$vuetify.theme.dark ? 'white' : 'black'}},'v-chip',_vm.$attrs,false),[_c('v-avatar',{class:{ 'grey': true, 'darken-2': !_vm.$vuetify.theme.dark, 'lighten-2': _vm.$vuetify.theme.dark }},[_vm._v(\"\\n    \"+_vm._s(_vm.hits)+\"\\n  \")]),_vm._v(\"\\n  \"+_vm._s(_vm.label)+\"\\n\")],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-chip\r\n    v-bind=\"$attrs\"\r\n    small\r\n    outline\r\n    style=\"pointer-events: none;\"\r\n    :color=\"!$vuetify.theme.dark ? 'white' : 'black'\"\r\n    :text-color=\"!$vuetify.theme.dark ? 'white' : 'black'\"\r\n  >\r\n    <v-avatar :class=\"{ 'grey': true, 'darken-2': !$vuetify.theme.dark, 'lighten-2': $vuetify.theme.dark }\">\r\n      {{ hits }}\r\n    </v-avatar>\r\n    {{ label }}\r\n  </v-chip>\r\n</template>\r\n\r\n<script>\r\nimport { getEffectName } from '@/modules/core/buffs';\r\n\r\nexport default {\r\n  props: {\r\n    attack: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  computed: {\r\n    hits () {\r\n      return this.attack.hits;\r\n    },\r\n    label () {\r\n      const { id, target } = this.attack;\r\n      const buffName = (getEffectName({ 'proc id': id }) || '').replace(/ Damage$/, '');\r\n      return `${buffName ? `${buffName} ` : ''}${target !== 'RT' ? target : ''}`;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttackChip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttackChip.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AttackChip.vue?vue&type=template&id=5225dae9&\"\nimport script from \"./AttackChip.vue?vue&type=script&lang=js&\"\nexport * from \"./AttackChip.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { COMPARE_KEY_ORDER, COMPARE_KEY_MAPPING } from '@/modules/constants';\r\n\r\nexport function convertCompareCodeToInput (input = '') {\r\n  const [type, idAndOptions] = input.split('-');\r\n  const [id, options] = (idAndOptions || '').split('_');\r\n\r\n  return COMPARE_KEY_ORDER.includes(type)\r\n    ? { type, id, options }\r\n    : undefined;\r\n}\r\n\r\nexport function convertCompareInputToCode ({ type = '', id = '', options = '' } = {}) {\r\n  const baseCode = `${type}-${id}`;\r\n  return options\r\n    ? `${baseCode}_${Array.isArray(options) ? options.join('~') : options}`\r\n    : baseCode;\r\n}\r\n\r\nexport function generateCompareInput ({ type = '', id = '', options }) {\r\n  return { type, id, options };\r\n}\r\n\r\nexport function getEntryCardType (type) {\r\n  switch(type) {\r\n    case COMPARE_KEY_MAPPING.unit.key: return 'UnitEntryCard';\r\n    case COMPARE_KEY_MAPPING.item.key: return 'ItemEntryCard';\r\n    case COMPARE_KEY_MAPPING.es.key: return 'ExtraSkillEntryCard';\r\n    case COMPARE_KEY_MAPPING.ls.key: return 'LeaderSkillEntryCard';\r\n    case COMPARE_KEY_MAPPING.bb.key: return 'BurstEntryCard';\r\n    default: return 'BaseEntryCard';\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCompareEntry.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCompareEntry.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuffExpandableList.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuffExpandableList.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TriggeredOnCell.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TriggeredOnCell.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-entry-card',{staticStyle:{\"height\":\"100%\"},attrs:{\"to\":_vm.to}},[_c('v-container',{staticClass:\"pa-3\",attrs:{\"fluid\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',[_c('div',{staticClass:\"d-flex-container items-center\"},[_c('h1',{staticClass:\"subheading d-inline-block\",staticStyle:{\"word-break\":\"break-word\"}},[_c('b',{domProps:{\"textContent\":_vm._s(_vm.entry.name || 'No Name')}})])])])],1),_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{staticStyle:{\"word-break\":\"break-word\"}},[(_vm.entry.desc && _vm.entry.desc !== 'None' && _vm.entry.desc !== '0')?_c('span',[_vm._v(_vm._s(_vm.entry.desc))]):_c('span',[_vm._v(\"No description.\")])])],1),(_vm.entry.associated_units)?_c('v-layout',{staticClass:\"d-align-items-center\",attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs5\":\"\",\"sm4\":\"\"}},[_vm._v(\"\\n        Associated Units:\\n      \")]),_c('v-flex',{staticClass:\"text-xs-left\",attrs:{\"xs7\":\"\"}},_vm._l((_vm.entry.associated_units),function(unit,i){return _c('unit-thumbnail',{key:i,attrs:{\"src\":_vm.getImageUrls(unit).ills_thum,\"rarity\":_vm.getUnit(unit).rarity,\"imageTitle\":_vm.getUnit(unit).name,\"displayWidth\":_vm.thumbnailSize,\"displayHeight\":_vm.thumbnailSize}})}),1)],1):_vm._e(),(_vm.entry.attackInfo && _vm.entry.attackInfo.length > 0)?_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.entry.attackInfo),function(attack,i){return _c('attack-chip',{key:i,attrs:{\"attack\":attack}})}),1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <base-entry-card :to=\"to\" style=\"height: 100%;\">\r\n    <v-container fluid class=\"pa-3\">\r\n      <v-layout row>\r\n        <v-flex>\r\n          <div class=\"d-flex-container items-center\">\r\n            <h1 class=\"subheading d-inline-block\" style=\"word-break: break-word;\">\r\n              <b v-text=\"entry.name || 'No Name'\"/>\r\n            </h1>\r\n          </div>\r\n        </v-flex>\r\n      </v-layout>\r\n      <v-layout row>\r\n        <v-flex style=\"word-break: break-word;\">\r\n          <span v-if=\"entry.desc && entry.desc !== 'None' && entry.desc !== '0'\">{{ entry.desc }}</span>\r\n          <span v-else>No description.</span>\r\n        </v-flex>\r\n      </v-layout>\r\n      <v-layout row wrap v-if=\"entry.associated_units\" class=\"d-align-items-center\">\r\n        <v-flex xs5 sm4 class=\"text-xs-center\">\r\n          Associated Units:\r\n        </v-flex>\r\n        <v-flex xs7 class=\"text-xs-left\">\r\n          <unit-thumbnail\r\n            v-for=\"(unit, i) in entry.associated_units\"\r\n            :key=\"i\"\r\n            :src=\"getImageUrls(unit).ills_thum\"\r\n            :rarity=\"getUnit(unit).rarity\"\r\n            :imageTitle=\"getUnit(unit).name\"\r\n            :displayWidth=\"thumbnailSize\" :displayHeight=\"thumbnailSize\"/>\r\n        </v-flex>\r\n      </v-layout>\r\n      <v-layout v-if=\"entry.attackInfo && entry.attackInfo.length > 0\" row wrap>\r\n        <attack-chip\r\n          v-for=\"(attack, i) in entry.attackInfo\"\r\n          :key=\"i\"\r\n          :attack=\"attack\"\r\n        />\r\n      </v-layout>\r\n    </v-container>\r\n  </base-entry-card>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapState } from 'vuex';\r\nimport EntryCardMixin from '@/components/Multidex/BaseEntryCardMixin';\r\nimport UnitThumbnail from '@/components/Multidex/Units/UnitThumbnail';\r\nimport AttackChip from './AttackChip';\r\n\r\nexport default {\r\n  mixins: [EntryCardMixin],\r\n  components: {\r\n    AttackChip,\r\n    UnitThumbnail,\r\n  },\r\n  computed: {\r\n    ...mapState('units', ['pageDb']),\r\n    ...mapGetters('units', ['getImageUrls']),\r\n    thumbnailSize () {\r\n      const breakpoint = this.$vuetify.breakpoint;\r\n      if (breakpoint.xlOnly) {\r\n        return 64;\r\n      } else if (breakpoint.mdAndUp) {\r\n        return 56;\r\n      } else {\r\n        return 48;\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    getUnit (id) {\r\n      return this.pageDb[id] || {};\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EntryCard.vue?vue&type=template&id=3c03fcce&\"\nimport script from \"./EntryCard.vue?vue&type=script&lang=js&\"\nexport * from \"./EntryCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"buff-expandable-list-view\"},[_c('v-expansion-panel',{staticClass:\"order-configuration-panel\"},[_c('v-expansion-panel-content',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"\\n        Configure Buff List View\\n      \")]),_c('section',[_c('v-layout',{staticClass:\"pl-2\",attrs:{\"row\":\"\",\"justify-center\":\"\",\"align-center\":\"\"}},[_c('v-flex',{attrs:{\"xs2\":\"\"}},[_vm._v(\"\\n            View Mode\\n          \")]),_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs5\":\"\"}},[_c('v-btn',{attrs:{\"flat\":\"\",\"outline\":_vm.viewMode === _vm.TARGET_VIEW_TYPE},on:{\"click\":function($event){return _vm.emitNewViewMode(_vm.TARGET_VIEW_TYPE)}}},[_vm._v(\"\\n              Target\\n            \")])],1),_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs5\":\"\"}},[_c('v-btn',{attrs:{\"flat\":\"\",\"outline\":_vm.viewMode === _vm.OVERVIEW_VIEW_TYPE},on:{\"click\":function($event){return _vm.emitNewViewMode(_vm.OVERVIEW_VIEW_TYPE)}}},[_vm._v(\"\\n              Overview\\n            \")])],1)],1),_c('order-configurator',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.viewMode === 'target'),expression:\"viewMode === 'target'\"}],attrs:{\"getEntryName\":function (configIndex) { return _vm.possibleTables[configIndex].name; },\"fullValueSet\":_vm.defaultBuffTables},model:{value:(_vm.buffTables),callback:function ($$v) {_vm.buffTables=$$v},expression:\"buffTables\"}}),_c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.viewMode === 'target'),expression:\"viewMode === 'target'\"}]},[_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.buffTables = _vm.buffTables.concat(_vm.defaultBuffTables.filter(function (_, i) { return !_vm.buffTables.includes(i); }))}}},[_vm._v(\"Show All\")]),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.buffTables = []}}},[_vm._v(\"Hide All\")]),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.buffTables = _vm.defaultBuffTables.slice()}}},[_vm._v(\"Reset to Default\")])],1)],1),_vm._t(\"view-config-extra\")],2)],1),_c('section',{staticClass:\"buff-configuration-area my-2\"},[_c('proc-selector',{attrs:{\"showSelector\":_vm.activeSelector === 'procs',\"filterHelper\":_vm.filterHelper},on:{\"toggleview\":function ($show) { return _vm.activeSelector = $show ? 'procs' : ''; }},model:{value:(_vm.filterOptions),callback:function ($$v) {_vm.filterOptions=$$v},expression:\"filterOptions\"}}),_c('passive-selector',{attrs:{\"showSelector\":_vm.activeSelector === 'passives',\"filterHelper\":_vm.filterHelper},on:{\"toggleview\":function ($show) { return _vm.activeSelector = $show ? 'passives' : ''; }},model:{value:(_vm.filterOptions),callback:function ($$v) {_vm.filterOptions=$$v},expression:\"filterOptions\"}}),_c('div',{staticClass:\"px-2\",staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"Buff Highlighting\")]),(_vm.hasPassives || _vm.hasProcs)?[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[(_vm.hasProcs)?_c('v-flex',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"xs12\":\"\",\"md6\":_vm.hasPassives},on:{\"click\":function($event){_vm.activeSelector = 'procs'}}},[_c('v-combobox',{staticClass:\"mx-2\",attrs:{\"value\":_vm.filterOptions.procs,\"disabled\":\"\",\"label\":\"Highlight Active Buffs\",\"hint\":\"Empty selection is equivalent to showing all.\",\"multiple\":\"\",\"persistent-hint\":\"\"}})],1):_vm._e(),(_vm.hasPassives)?_c('v-flex',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"xs12\":\"\",\"md6\":_vm.hasProcs},on:{\"click\":function($event){_vm.activeSelector = 'passives'}}},[_c('v-combobox',{staticClass:\"mx-2\",attrs:{\"value\":_vm.filterOptions.passives,\"disabled\":\"\",\"label\":\"Highlight Passive Buffs\",\"hint\":\"Empty selection is equivalent to showing all.\",\"multiple\":\"\",\"persistent-hint\":\"\"}})],1):_vm._e()],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[(_vm.hasProcs)?_c('v-flex',{attrs:{\"xs12\":\"\",\"md6\":_vm.hasPassives}},[_c('v-alert',{staticClass:\"mx-2\",attrs:{\"value\":true,\"type\":(_vm.missingProcs.length > 0 && 'warning') || 'info'}},[(_vm.missingProcs.length > 0)?[_c('p',[_vm._v(\"The following active buffs are missing from the current squad.\")]),_c('ul',_vm._l((_vm.missingProcs),function(proc){return _c('li',{key:proc,domProps:{\"textContent\":_vm._s(_vm.getEffectNameForIdAndType(proc, 'proc'))}})}),0)]:(_vm.filterOptions.procs.length > 0)?_c('span',[_vm._v(\"All specified active buffs are present.\")]):_c('span',[_vm._v(\"No filters for active buffs specified.\")])],2)],1):_vm._e(),(_vm.hasPassives)?_c('v-flex',{attrs:{\"xs12\":\"\",\"md6\":_vm.hasProcs}},[_c('v-alert',{staticClass:\"mx-2\",attrs:{\"value\":true,\"type\":(_vm.missingPassives.length > 0 && 'warning') || 'info'}},[(_vm.missingPassives.length > 0)?[_c('p',[_vm._v(\"The following passive buffs are missing from the current squad.\")]),_c('ul',_vm._l((_vm.missingPassives),function(passive){return _c('li',{key:passive,domProps:{\"textContent\":_vm._s(_vm.getEffectNameForIdAndType(passive, 'passive'))}})}),0)]:(_vm.filterOptions.passives.length > 0)?_c('span',[_vm._v(\"All specified passive buffs are present.\")]):_c('span',[_vm._v(\"No filters for passive buffs specified.\")])],2)],1):_vm._e()],1)]:_vm._e()],2),_c('dl',[(_vm.viewMode === _vm.TARGET_VIEW_TYPE)?[_vm._l((_vm.buffTables),function(tableConfigIndex){return [_c('dt',{key:((_vm.possibleTables[tableConfigIndex].targetType) + \"-\" + (_vm.possibleTables[tableConfigIndex].effectType) + \"-title\"),class:_vm.buffListTitleClass,style:(_vm.buffListTitleStyle),domProps:{\"textContent\":_vm._s(_vm.possibleTables[tableConfigIndex].name)}}),_c('dd',{key:((_vm.possibleTables[tableConfigIndex].targetType) + \"-\" + (_vm.possibleTables[tableConfigIndex].effectType) + \"-table\")},[_vm._t(\"buffexpandablelist\",[_c('buff-expandable-list',{key:_vm.getEffectTypeKey(_vm.possibleTables[tableConfigIndex].effectType),attrs:{\"sources\":_vm.sources,\"effectType\":_vm.possibleTables[tableConfigIndex].effectType,\"inputEffectMappingBySource\":_vm.effectMappingByTable.get(_vm.getTableKey(_vm.possibleTables[tableConfigIndex].targetType, _vm.possibleTables[tableConfigIndex].effectType)),\"highlightedBuffIds\":_vm.getHighlightedBuffListForTable(_vm.possibleTables[tableConfigIndex].effectType),\"getTextForSource\":_vm.getTextForSource},scopedSlots:_vm._u([{key:\"allentrypreview\",fn:function(ref){\nvar entries = ref.entries;\nvar effectId = ref.effectId;\nreturn [_vm._t(\"allentrypreview\",_vm._l((entries),function(source,i){return _c('div',{key:i},[_vm._v(\"\\n                    \"+_vm._s(source)+\"\\n                  \")])}),{\"entries\":entries,\"effectId\":effectId,\"effectType\":_vm.possibleTables[tableConfigIndex].effectType,\"targetType\":_vm.possibleTables[tableConfigIndex].targetType})]}},{key:\"value-header\",fn:function(ref){\nvar entry = ref.entry;\nreturn [_vm._t(\"value-header\",[_c('span',[_vm._v(_vm._s(entry))])],{\"entry\":entry})]}}],null,true)},[_c('template',{slot:\"noentries\"},[_vm._t(\"noentries\",[_c('span',[_vm._v(\"No entries of type [\"+_vm._s(_vm.possibleTables[tableConfigIndex].effectType)+\"] were found.\")])],{\"effectType\":_vm.possibleTables[tableConfigIndex].effectType,\"targetType\":_vm.possibleTables[tableConfigIndex].targetType})],2)],2)],{\"sources\":_vm.sources,\"targetType\":_vm.possibleTables[tableConfigIndex].targetType,\"effectType\":_vm.possibleTables[tableConfigIndex].effectType,\"inputEffectMappingBySource\":_vm.effectMappingByTable.get(_vm.getTableKey(_vm.possibleTables[tableConfigIndex].targetType, _vm.possibleTables[tableConfigIndex].effectType)),\"highlightedBuffIds\":_vm.getHighlightedBuffListForTable(_vm.possibleTables[tableConfigIndex].effectType),\"getTextForSource\":_vm.getTextForSource,\"listKey\":_vm.getEffectTypeKey(_vm.possibleTables[tableConfigIndex].effectType)})],2)]})]:(_vm.viewMode === _vm.OVERVIEW_VIEW_TYPE)?[_vm._l((_vm.overviewTables),function(tableConfig){return [_c('dt',{key:((tableConfig.mappingKey) + \"-\" + (tableConfig.effectType) + \"-title\"),class:_vm.buffListTitleClass,style:(_vm.buffListTitleStyle),domProps:{\"textContent\":_vm._s(tableConfig.name)}}),_c('dd',{key:((tableConfig.mappingKey) + \"-\" + (tableConfig.effectType) + \"-table\")},[_vm._t(\"buffexpandablelist\",[_c('buff-expandable-list',{key:_vm.getEffectTypeKey(tableConfig.effectType),attrs:{\"sources\":_vm.sources,\"effectType\":tableConfig.effectType,\"inputEffectMappingBySource\":_vm.effectMappingByTable.get(tableConfig.mappingKey),\"highlightedBuffIds\":_vm.getHighlightedBuffListForTable(tableConfig.effectType),\"getTextForSource\":_vm.getTextForSource},scopedSlots:_vm._u([{key:\"allentrypreview\",fn:function(ref){\nvar entries = ref.entries;\nvar effectId = ref.effectId;\nreturn [_vm._t(\"allentrypreview\",_vm._l((entries),function(source,i){return _c('div',{key:i},[_vm._v(\"\\n                    \"+_vm._s(source)+\"\\n                  \")])}),{\"entries\":entries,\"effectId\":effectId,\"effectType\":tableConfig.effectType,\"targetType\":tableConfig.mappingKey})]}},{key:\"value-header\",fn:function(ref){\nvar entry = ref.entry;\nreturn [_vm._t(\"value-header\",[_c('span',[_vm._v(_vm._s(entry))])],{\"entry\":entry})]}}],null,true)},[_c('template',{slot:\"noentries\"},[_vm._t(\"noentries\",[_c('span',[_vm._v(\"No entries of type [\"+_vm._s(tableConfig.effectType)+\"] were found.\")])],{\"effectType\":tableConfig.effectType,\"targetType\":tableConfig.mappingKey})],2)],2)],{\"sources\":_vm.sources,\"targetType\":tableConfig.mappingKey,\"effectType\":tableConfig.effectType,\"inputEffectMappingBySource\":_vm.effectMappingByTable.get(tableConfig.mappingKey),\"highlightedBuffIds\":_vm.getHighlightedBuffListForTable(tableConfig.effectType),\"getTextForSource\":_vm.getTextForSource,\"listKey\":_vm.getEffectTypeKey(tableConfig.effectType)})],2)]})]:[_vm._v(\"\\n      Unknown view mode [\"+_vm._s(_vm.viewMode)+\"]\\n    \")]],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"order-configurator\"},[_vm._l((_vm.value),function(entry,i){return _c('li',{key:_vm.getValueOfEntry(entry, i)},[_c('v-btn',{attrs:{\"icon\":\"\",\"flat\":\"\",\"disabled\":i === 0},on:{\"click\":function($event){return _vm.moveEntryUp(i)}}},[_c('v-icon',[_vm._v(\"keyboard_arrow_up\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"flat\":\"\",\"disabled\":i === _vm.value.length - 1},on:{\"click\":function($event){return _vm.moveEntryDown(i)}}},[_c('v-icon',[_vm._v(\"keyboard_arrow_down\")])],1),_c('span',{domProps:{\"textContent\":_vm._s(_vm.getEntryName(entry))}}),_c('v-btn',{attrs:{\"icon\":\"\",\"flat\":\"\"},on:{\"click\":function($event){return _vm.hideEntry(i)}}},[_c('v-icon',[_vm._v(\"fa fa-eye\")])],1)],1)}),_vm._l((_vm.remainingValues),function(entry,i){return _c('li',{key:_vm.getValueOfEntry(entry, i + _vm.value.length)},[_c('v-btn',{attrs:{\"icon\":\"\",\"flat\":\"\",\"disabled\":\"\"}},[_c('v-icon',[_vm._v(\"keyboard_arrow_up\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"flat\":\"\",\"disabled\":\"\"}},[_c('v-icon',[_vm._v(\"keyboard_arrow_down\")])],1),_c('span',{staticClass:\"grey--text\",domProps:{\"textContent\":_vm._s(_vm.getEntryName(entry))}}),_c('v-btn',{attrs:{\"icon\":\"\",\"flat\":\"\"},on:{\"click\":function($event){return _vm.showEntry(i)}}},[_c('v-icon',[_vm._v(\"fa fa-eye-slash\")])],1)],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <ul class=\"order-configurator\">\r\n    <li v-for=\"(entry, i) in value\" :key=\"getValueOfEntry(entry, i)\">\r\n      <v-btn icon flat @click=\"moveEntryUp(i)\" :disabled=\"i === 0\">\r\n        <v-icon>keyboard_arrow_up</v-icon>\r\n      </v-btn>\r\n      <v-btn icon flat @click=\"moveEntryDown(i)\" :disabled=\"i === value.length - 1\">\r\n        <v-icon>keyboard_arrow_down</v-icon>\r\n      </v-btn>\r\n      <span v-text=\"getEntryName(entry)\"/>\r\n      <v-btn icon flat @click=\"hideEntry(i)\">\r\n        <v-icon>fa fa-eye</v-icon>\r\n      </v-btn>\r\n    </li>\r\n    <li v-for=\"(entry, i) in remainingValues\" :key=\"getValueOfEntry(entry, i + value.length)\">\r\n      <v-btn icon flat disabled>\r\n        <v-icon>keyboard_arrow_up</v-icon>\r\n      </v-btn>\r\n      <v-btn icon flat disabled>\r\n        <v-icon>keyboard_arrow_down</v-icon>\r\n      </v-btn>\r\n      <span v-text=\"getEntryName(entry)\" class=\"grey--text\"/>\r\n      <v-btn icon flat @click=\"showEntry(i)\">\r\n        <v-icon>fa fa-eye-slash</v-icon>\r\n      </v-btn>\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    value: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    getEntryName: {\r\n      type: Function,\r\n      default: (v) => (v && v.name) || v,\r\n    },\r\n    getEntryValue: {\r\n      required: false,\r\n    },\r\n    fullValueSet: {\r\n      required: false,\r\n    },\r\n  },\r\n  computed: {\r\n    remainingValues () {\r\n      // default to value array if no full value set is defined\r\n      const fullValueSet = Array.isArray(this.fullValueSet) ? this.fullValueSet : this.value;\r\n      let remainingValues;\r\n      if (fullValueSet !== this.value) {\r\n        remainingValues = this.fullValueSet.filter(v => !this.value.includes(v));\r\n      } else {\r\n        remainingValues = [];\r\n      }\r\n      return remainingValues;\r\n    },\r\n  },\r\n  methods: {\r\n    getValueOfEntry (v, i) {\r\n      return typeof this.getEntryValue !== 'function'\r\n        ? `${this.getEntryName(v)}-${i}`\r\n        : this.getEntryValue(v, i);\r\n    },\r\n    emitValue (value) {\r\n      this.$emit('input', value);\r\n    },\r\n    moveEntryUp (indexOfEntryToMove) {\r\n      const newOrder = this.value.slice();\r\n      if (indexOfEntryToMove > 0 && indexOfEntryToMove < newOrder.length) {\r\n        const otherEntry = newOrder[indexOfEntryToMove - 1];\r\n        const currentEntry = newOrder[indexOfEntryToMove];\r\n        newOrder[indexOfEntryToMove - 1] = currentEntry;\r\n        newOrder[indexOfEntryToMove] = otherEntry;\r\n      }\r\n      this.emitValue(newOrder);\r\n    },\r\n    moveEntryDown (indexOfEntryToMove) {\r\n      const newOrder = this.value.slice();\r\n      if (indexOfEntryToMove > -1 && indexOfEntryToMove < newOrder.length - 1) {\r\n        const otherEntry = newOrder[indexOfEntryToMove + 1];\r\n        const currentEntry = newOrder[indexOfEntryToMove];\r\n        newOrder[indexOfEntryToMove + 1] = currentEntry;\r\n        newOrder[indexOfEntryToMove] = otherEntry;\r\n      }\r\n      this.emitValue(newOrder);\r\n    },\r\n    hideEntry (indexOfEntry) {\r\n      this.emitValue(this.value.filter((v, i) => i !== indexOfEntry));\r\n    },\r\n    showEntry (indexOfEntry) {\r\n      const newOrder = this.value.slice();\r\n      if (indexOfEntry > -1 && indexOfEntry < this.remainingValues.length) {\r\n        newOrder.push(this.remainingValues[indexOfEntry]);\r\n      }\r\n      this.emitValue(newOrder);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\nul.order-configurator {\r\n  list-style-type: none;\r\n  padding: 0;\r\n\r\n  li {\r\n    display: grid;\r\n    // position-up position-down name toggle-display\r\n    grid-template-columns: auto auto 1fr auto;\r\n\r\n    align-items: center;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderConfigurator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderConfigurator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderConfigurator.vue?vue&type=template&id=9328082e&\"\nimport script from \"./OrderConfigurator.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderConfigurator.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderConfigurator.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"buff-expandable-list-view\">\r\n    <v-expansion-panel class=\"order-configuration-panel\">\r\n      <v-expansion-panel-content>\r\n        <div slot=\"header\">\r\n          Configure Buff List View\r\n        </div>\r\n        <section>\r\n          <v-layout row justify-center align-center class=\"pl-2\">\r\n            <v-flex xs2>\r\n              View Mode\r\n            </v-flex>\r\n            <v-flex xs5 class=\"text-xs-center\">\r\n              <v-btn\r\n                flat\r\n                :outline=\"viewMode === TARGET_VIEW_TYPE\"\r\n                @click=\"emitNewViewMode(TARGET_VIEW_TYPE)\"\r\n              >\r\n                Target\r\n              </v-btn>\r\n            </v-flex>\r\n            <v-flex xs5 class=\"text-xs-center\">\r\n              <v-btn\r\n                flat\r\n                :outline=\"viewMode === OVERVIEW_VIEW_TYPE\"\r\n                @click=\"emitNewViewMode(OVERVIEW_VIEW_TYPE)\"\r\n              >\r\n                Overview\r\n              </v-btn>\r\n            </v-flex>\r\n          </v-layout>\r\n          <order-configurator\r\n            v-show=\"viewMode === 'target'\"\r\n            v-model=\"buffTables\"\r\n            :getEntryName=\"(configIndex) => possibleTables[configIndex].name\"\r\n            :fullValueSet=\"defaultBuffTables\"\r\n          />\r\n          <section v-show=\"viewMode === 'target'\">\r\n            <v-btn flat @click=\"buffTables = buffTables.concat(defaultBuffTables.filter((_, i) => !buffTables.includes(i)))\">Show All</v-btn>\r\n            <v-btn flat @click=\"buffTables = []\">Hide All</v-btn>\r\n            <v-btn flat @click=\"buffTables = defaultBuffTables.slice()\">Reset to Default</v-btn>\r\n          </section>\r\n        </section>\r\n        <slot name=\"view-config-extra\"></slot>\r\n      </v-expansion-panel-content>\r\n    </v-expansion-panel>\r\n    <section class=\"buff-configuration-area my-2\">\r\n      <proc-selector\r\n        :showSelector=\"activeSelector === 'procs'\"\r\n        @toggleview=\"$show => activeSelector = $show ? 'procs' : ''\"\r\n        v-model=\"filterOptions\"\r\n        :filterHelper=\"filterHelper\"\r\n      />\r\n      <passive-selector\r\n        :showSelector=\"activeSelector === 'passives'\"\r\n        @toggleview=\"$show => activeSelector = $show ? 'passives' : ''\"\r\n        v-model=\"filterOptions\"\r\n        :filterHelper=\"filterHelper\"\r\n      />\r\n      <div class=\"px-2\" style=\"font-weight: bold;\">Buff Highlighting</div>\r\n      <template v-if=\"hasPassives || hasProcs\">\r\n        <v-layout row wrap>\r\n          <v-flex\r\n            v-if=\"hasProcs\"\r\n            xs12 :md6=\"hasPassives\"\r\n            @click=\"activeSelector = 'procs'\"\r\n            style=\"cursor: pointer;\"\r\n          >\r\n            <v-combobox\r\n              :value=\"filterOptions.procs\"\r\n              class=\"mx-2\"\r\n              disabled\r\n              label=\"Highlight Active Buffs\"\r\n              hint=\"Empty selection is equivalent to showing all.\"\r\n              multiple\r\n              persistent-hint/>\r\n          </v-flex>\r\n          <v-flex\r\n            v-if=\"hasPassives\"\r\n            xs12 :md6=\"hasProcs\"\r\n            @click=\"activeSelector = 'passives'\"\r\n            style=\"cursor: pointer;\"\r\n          >\r\n            <v-combobox\r\n              :value=\"filterOptions.passives\"\r\n              class=\"mx-2\"\r\n              disabled\r\n              label=\"Highlight Passive Buffs\"\r\n              hint=\"Empty selection is equivalent to showing all.\"\r\n              multiple\r\n              persistent-hint/>\r\n          </v-flex>\r\n        </v-layout>\r\n        <v-layout row wrap>\r\n          <v-flex v-if=\"hasProcs\" xs12 :md6=\"hasPassives\">\r\n            <v-alert\r\n              class=\"mx-2\"\r\n              :value=\"true\"\r\n              :type=\"(missingProcs.length > 0 && 'warning') || 'info'\"\r\n            >\r\n              <template v-if=\"missingProcs.length > 0\">\r\n                <p>The following active buffs are missing from the current squad.</p>\r\n                <ul>\r\n                  <li\r\n                    v-for=\"proc in missingProcs\"\r\n                    :key=\"proc\"\r\n                    v-text=\"getEffectNameForIdAndType(proc, 'proc')\"\r\n                  />\r\n                </ul>\r\n              </template>\r\n              <span v-else-if=\"filterOptions.procs.length > 0\">All specified active buffs are present.</span>\r\n              <span v-else>No filters for active buffs specified.</span>\r\n            </v-alert>\r\n          </v-flex>\r\n          <v-flex v-if=\"hasPassives\" xs12 :md6=\"hasProcs\">\r\n            <v-alert\r\n              class=\"mx-2\"\r\n              :value=\"true\"\r\n              :type=\"(missingPassives.length > 0 && 'warning') || 'info'\"\r\n            >\r\n              <template v-if=\"missingPassives.length > 0\">\r\n                <p>The following passive buffs are missing from the current squad.</p>\r\n                <ul>\r\n                  <li\r\n                    v-for=\"passive in missingPassives\"\r\n                    :key=\"passive\"\r\n                    v-text=\"getEffectNameForIdAndType(passive, 'passive')\"\r\n                  />\r\n                </ul>\r\n              </template>\r\n              <span v-else-if=\"filterOptions.passives.length > 0\">All specified passive buffs are present.</span>\r\n              <span v-else>No filters for passive buffs specified.</span>\r\n            </v-alert>\r\n          </v-flex>\r\n        </v-layout>\r\n      </template>\r\n    </section>\r\n    <dl>\r\n      <template v-if=\"viewMode === TARGET_VIEW_TYPE\">\r\n        <template v-for=\"tableConfigIndex in buffTables\">\r\n          <dt\r\n            :class=\"buffListTitleClass\"\r\n            :style=\"buffListTitleStyle\"\r\n            :key=\"`${possibleTables[tableConfigIndex].targetType}-${possibleTables[tableConfigIndex].effectType}-title`\"\r\n            v-text=\"possibleTables[tableConfigIndex].name\"\r\n          />\r\n          <dd :key=\"`${possibleTables[tableConfigIndex].targetType}-${possibleTables[tableConfigIndex].effectType}-table`\">\r\n            <slot\r\n              name=\"buffexpandablelist\"\r\n              :sources=\"sources\"\r\n              :targetType=\"possibleTables[tableConfigIndex].targetType\"\r\n              :effectType=\"possibleTables[tableConfigIndex].effectType\"\r\n              :inputEffectMappingBySource=\"effectMappingByTable.get(getTableKey(possibleTables[tableConfigIndex].targetType, possibleTables[tableConfigIndex].effectType))\"\r\n              :highlightedBuffIds=\"getHighlightedBuffListForTable(possibleTables[tableConfigIndex].effectType)\"\r\n              :getTextForSource=\"getTextForSource\"\r\n              :listKey=\"getEffectTypeKey(possibleTables[tableConfigIndex].effectType)\"\r\n            >\r\n              <buff-expandable-list\r\n                :key=\"getEffectTypeKey(possibleTables[tableConfigIndex].effectType)\"\r\n                :sources=\"sources\"\r\n                :effectType=\"possibleTables[tableConfigIndex].effectType\"\r\n                :inputEffectMappingBySource=\"effectMappingByTable.get(getTableKey(possibleTables[tableConfigIndex].targetType, possibleTables[tableConfigIndex].effectType))\"\r\n                :highlightedBuffIds=\"getHighlightedBuffListForTable(possibleTables[tableConfigIndex].effectType)\"\r\n                :getTextForSource=\"getTextForSource\"\r\n              >\r\n                <template slot=\"noentries\">\r\n                  <slot\r\n                    name=\"noentries\"\r\n                    :effectType=\"possibleTables[tableConfigIndex].effectType\"\r\n                    :targetType=\"possibleTables[tableConfigIndex].targetType\"\r\n                  >\r\n                    <span>No entries of type [{{ possibleTables[tableConfigIndex].effectType }}] were found.</span>\r\n                  </slot>\r\n                </template>\r\n                <template slot=\"allentrypreview\" slot-scope=\"{ entries, effectId }\">\r\n                  <slot\r\n                    name=\"allentrypreview\"\r\n                    :entries=\"entries\"\r\n                    :effectId=\"effectId\"\r\n                    :effectType=\"possibleTables[tableConfigIndex].effectType\"\r\n                    :targetType=\"possibleTables[tableConfigIndex].targetType\"\r\n                  >\r\n                    <div v-for=\"(source, i) in entries\" :key=\"i\">\r\n                      {{ source }}\r\n                    </div>\r\n                  </slot>\r\n                </template>\r\n                <template slot=\"value-header\" slot-scope=\"{ entry }\">\r\n                  <slot name=\"value-header\" :entry=\"entry\">\r\n                    <span>{{ entry }}</span>\r\n                  </slot>\r\n                </template>\r\n              </buff-expandable-list>\r\n            </slot>\r\n          </dd>\r\n        </template>\r\n      </template>\r\n      <template v-else-if=\"viewMode === OVERVIEW_VIEW_TYPE\">\r\n        <template v-for=\"tableConfig in overviewTables\">\r\n          <dt\r\n            :class=\"buffListTitleClass\"\r\n            :style=\"buffListTitleStyle\"\r\n            :key=\"`${tableConfig.mappingKey}-${tableConfig.effectType}-title`\"\r\n            v-text=\"tableConfig.name\"\r\n          />\r\n          <dd :key=\"`${tableConfig.mappingKey}-${tableConfig.effectType}-table`\">\r\n            <slot\r\n              name=\"buffexpandablelist\"\r\n              :sources=\"sources\"\r\n              :targetType=\"tableConfig.mappingKey\"\r\n              :effectType=\"tableConfig.effectType\"\r\n              :inputEffectMappingBySource=\"effectMappingByTable.get(tableConfig.mappingKey)\"\r\n              :highlightedBuffIds=\"getHighlightedBuffListForTable(tableConfig.effectType)\"\r\n              :getTextForSource=\"getTextForSource\"\r\n              :listKey=\"getEffectTypeKey(tableConfig.effectType)\"\r\n            >\r\n              <buff-expandable-list\r\n                :key=\"getEffectTypeKey(tableConfig.effectType)\"\r\n                :sources=\"sources\"\r\n                :effectType=\"tableConfig.effectType\"\r\n                :inputEffectMappingBySource=\"effectMappingByTable.get(tableConfig.mappingKey)\"\r\n                :highlightedBuffIds=\"getHighlightedBuffListForTable(tableConfig.effectType)\"\r\n                :getTextForSource=\"getTextForSource\"\r\n              >\r\n                <template slot=\"noentries\">\r\n                  <slot\r\n                    name=\"noentries\"\r\n                    :effectType=\"tableConfig.effectType\"\r\n                    :targetType=\"tableConfig.mappingKey\"\r\n                  >\r\n                    <span>No entries of type [{{ tableConfig.effectType }}] were found.</span>\r\n                  </slot>\r\n                </template>\r\n                <template slot=\"allentrypreview\" slot-scope=\"{ entries, effectId }\">\r\n                  <slot\r\n                    name=\"allentrypreview\"\r\n                    :entries=\"entries\"\r\n                    :effectId=\"effectId\"\r\n                    :effectType=\"tableConfig.effectType\"\r\n                    :targetType=\"tableConfig.mappingKey\"\r\n                  >\r\n                    <div v-for=\"(source, i) in entries\" :key=\"i\">\r\n                      {{ source }}\r\n                    </div>\r\n                  </slot>\r\n                </template>\r\n                <template slot=\"value-header\" slot-scope=\"{ entry }\">\r\n                  <slot name=\"value-header\" :entry=\"entry\">\r\n                    <span>{{ entry }}</span>\r\n                  </slot>\r\n                </template>\r\n              </buff-expandable-list>\r\n            </slot>\r\n          </dd>\r\n        </template>\r\n      </template>\r\n      <template v-else>\r\n        Unknown view mode [{{ viewMode }}]\r\n      </template>\r\n    </dl>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { targetTypes, squadBuffTypes } from '@/modules/constants';\r\nimport { getEffectId } from '@/modules/EffectProcessor/processor-helper';\r\nimport { getEffectName } from '@/modules/core/buffs';\r\nimport FilterOptionsHelper from '@/modules/FilterOptionsHelper';\r\nimport OrderConfigurator from '@/components/OrderConfigurator';\r\nimport ProcSelector from '@/components/Multidex/Filters/BuffSelector/ProcSelector';\r\nimport PassiveSelector from '@/components/Multidex/Filters/BuffSelector/PassiveSelector';\r\nimport BuffExpandableList from './BuffExpandableList.vue';\r\n\r\nconst TARGET_VIEW_TYPE = 'target';\r\nconst OVERVIEW_VIEW_TYPE = 'overview';\r\nconst POSSIBLE_VIEW_TYPES = Object.freeze([TARGET_VIEW_TYPE, OVERVIEW_VIEW_TYPE]);\r\n\r\nexport default {\r\n props: {\r\n    sources: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    getEffectsFromSource: {\r\n      type: Function,\r\n      default: () => [],\r\n    },\r\n    getTextForSource: {\r\n      type: Function,\r\n      // eslint-disable-next-line no-unused-vars\r\n      default: (path, source, initial) => initial || path,\r\n    },\r\n    titleTopOffset: {\r\n      type: Number,\r\n      default: 56,\r\n    },\r\n    hasPassives: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    hasProcs: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    inputFilterOptions: {\r\n      required: false,\r\n    },\r\n    viewMode: {\r\n      type: String,\r\n      default: POSSIBLE_VIEW_TYPES[0],\r\n    },\r\n    stickyTitles: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n },\r\n components: {\r\n    BuffExpandableList,\r\n    OrderConfigurator,\r\n    ProcSelector,\r\n    PassiveSelector,\r\n },\r\n computed: {\r\n   TARGET_VIEW_TYPE: () => TARGET_VIEW_TYPE,\r\n   OVERVIEW_VIEW_TYPE: () => OVERVIEW_VIEW_TYPE,\r\n   buffListTitleStyle () {\r\n     return {\r\n       top: `${this.titleTopOffset}px`,\r\n     };\r\n   },\r\n   buffListTitleClass () {\r\n     return {\r\n       title: true,\r\n       'is-sticky': this.stickyTitles,\r\n     };\r\n   },\r\n   possibleTables: () => Object.freeze([\r\n      {\r\n        name: 'Party Passives',\r\n        targetType: targetTypes.PARTY,\r\n        effectType: squadBuffTypes.PASSIVE,\r\n      },\r\n      {\r\n        name: 'Party Buffs',\r\n        targetType: targetTypes.PARTY,\r\n        effectType: squadBuffTypes.PROC,\r\n      },\r\n      {\r\n        name: 'For the Enemy',\r\n        targetType: targetTypes.ENEMY,\r\n        effectType: squadBuffTypes.PROC,\r\n      },\r\n      {\r\n        name: 'Self Passives',\r\n        targetType: targetTypes.SELF,\r\n        effectType: squadBuffTypes.PASSIVE,\r\n      },\r\n      {\r\n        name: 'Self Buffs',\r\n        targetType: targetTypes.SELF,\r\n        effectType: squadBuffTypes.PROC,\r\n      },\r\n      {\r\n        name: 'Other Passives',\r\n        targetType: targetTypes.OTHER,\r\n        effectType: squadBuffTypes.PASSIVE,\r\n      },\r\n      {\r\n        name: 'Other Buffs',\r\n        targetType: targetTypes.OTHER,\r\n        effectType: squadBuffTypes.PROC,\r\n      },\r\n    ]),\r\n    overviewTables: () => Object.freeze([\r\n      {\r\n        name: 'All Passive Buffs',\r\n        effectType: squadBuffTypes.PASSIVE,\r\n        mappingKey: 'allPassivesMapping',\r\n      },\r\n      {\r\n        name: 'All Active Buffs',\r\n        effectType: squadBuffTypes.PROC,\r\n        mappingKey: 'allProcsMapping',\r\n      },\r\n    ]),\r\n    defaultBuffTables () {\r\n      return Object.freeze(this.possibleTables.map((_, i) => i));\r\n    },\r\n    effectMappingByTable () {\r\n      const allProcIds = new Set();\r\n      const allPassiveIds = new Set();\r\n      const tableMapping = new Map();\r\n      const { sources, possibleTables, getEffectsFromSource, getTableKey } = this;\r\n\r\n      const allProcsBySource = new WeakMap();\r\n      const allPassivesBySource = new WeakMap();\r\n      possibleTables.forEach(({ targetType, effectType }) => {\r\n        const effectMappingBySource = new WeakMap();\r\n        sources.forEach(entry => {\r\n          const effects = getEffectsFromSource(entry, targetType, effectType);\r\n          const currentProcAggregate = allProcsBySource.get(entry) || [];\r\n          const currentPassiveAggregate = allPassivesBySource.get(entry) || [];\r\n          effects.forEach(effect => {\r\n            if (effectType === squadBuffTypes.PROC) {\r\n              allProcIds.add(getEffectId(effect));\r\n              currentProcAggregate.push(effect);\r\n            } else if (effectType === squadBuffTypes.PASSIVE) {\r\n              allPassiveIds.add(getEffectId(effect));\r\n              currentPassiveAggregate.push(effect);\r\n            }\r\n          });\r\n          effectMappingBySource.set(entry, effects);\r\n          allProcsBySource.set(entry, currentProcAggregate);\r\n          allPassivesBySource.set(entry, currentPassiveAggregate);\r\n        });\r\n        tableMapping.set(getTableKey(targetType, effectType), effectMappingBySource);\r\n      });\r\n\r\n      tableMapping.set('allProcs', Array.from(allProcIds).sort((a, b) => +a - +b));\r\n      tableMapping.set('allPassives', Array.from(allPassiveIds).sort((a, b) => +a - +b));\r\n      tableMapping.set('allProcsMapping', allProcsBySource);\r\n      tableMapping.set('allPassivesMapping', allPassivesBySource);\r\n      return tableMapping;\r\n    },\r\n    missingProcs () {\r\n      const allProcs = this.effectMappingByTable.get('allProcs');\r\n      const { procs } = this.filterOptions;\r\n      return procs.filter(id => !allProcs.includes(id));\r\n    },\r\n    missingPassives () {\r\n      const allPassives = this.effectMappingByTable.get('allPassives');\r\n      const { passives } = this.filterOptions;\r\n      return passives.filter(id => !allPassives.includes(id));\r\n    },\r\n    hasBuffFilters () {\r\n      return (this.hasProcs && this.filterOptions.procs.length > 0) ||\r\n        (this.hasPassives && this.filterOptions.passives.length > 0);\r\n    },\r\n  },\r\n  data () {\r\n    return {\r\n      buffTables: [],\r\n      filterOptions: {\r\n        procs: [],\r\n        passives: [],\r\n      },\r\n      activeSelector: '',\r\n      filterHelper: new FilterOptionsHelper(),\r\n    };\r\n  },\r\n  created () {\r\n    this.buffTables = this.defaultBuffTables.slice();\r\n    if (typeof this.inputFilterOptions === 'object') {\r\n      this.filterOptions.procs = Array.isArray(this.inputFilterOptions.procs)\r\n        ? this.inputFilterOptions.procs.slice()\r\n        : [];\r\n\r\n      this.filterOptions.passives = Array.isArray(this.inputFilterOptions.passives)\r\n        ? this.inputFilterOptions.passives.slice()\r\n        : [];\r\n    }\r\n  },\r\n  methods: {\r\n    getTableKey (targetType, effectType) {\r\n      return `${targetType}-${effectType}`;\r\n    },\r\n    getEffectTypeKey (effectType) {\r\n      let key = '';\r\n      if (effectType === squadBuffTypes.PROC) {\r\n        key = this.filterOptions.procs.join('-');\r\n      } else if (effectType === squadBuffTypes.PASSIVE) {\r\n        key = this.filterOptions.passives.join('-');\r\n      }\r\n      return key;\r\n    },\r\n    getEffectNameForIdAndType (id, type) {\r\n      let result;\r\n      if (type === squadBuffTypes.PASSIVE) {\r\n        result = getEffectName({ 'passive id': id });\r\n      } else if (type === squadBuffTypes.PROC) {\r\n        result = getEffectName({ 'proc id': id });\r\n      }\r\n\r\n      if (!result) {\r\n        result = `Unknown buff`;\r\n      }\r\n\r\n      return `${result} [${id}]`;\r\n    },\r\n    getHighlightedBuffListForTable (effectType) {\r\n      let list = [];\r\n      if (effectType === squadBuffTypes.PASSIVE && this.hasPassives) {\r\n        list = this.filterOptions.passives;\r\n      } else if (effectType === squadBuffTypes.PROC && this.hasProcs) {\r\n        list = this.filterOptions.procs;\r\n      }\r\n      return list;\r\n    },\r\n    emitNewViewMode (viewType = TARGET_VIEW_TYPE) {\r\n      this.$emit('viewmode', viewType);\r\n    },\r\n  },\r\n  watch: {\r\n    activeSelector () {\r\n      const { procs = [], passives = [] } = this.filterOptions;\r\n      this.$emit('filteroptions', { procs, passives });\r\n    },\r\n    viewMode: {\r\n      immediate: true,\r\n      handler (newValue) {\r\n        if (!POSSIBLE_VIEW_TYPES.includes(newValue)) {\r\n          this.emitNewViewMode(POSSIBLE_VIEW_TYPES[0]);\r\n        }\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.buff-expandable-list-view {\r\n  .order-configuration-panel {\r\n    .v-expansion-panel__header {\r\n      padding-left: 8px;\r\n      padding-right: 8px;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n  dl {\r\n    width: 100%;\r\n\r\n    > dt {\r\n      background: var(--background-color);\r\n      padding: 0.75em 0.25em;\r\n      margin: 0 -0.25em;\r\n      border-bottom-left-radius: 8px;\r\n      border-bottom-right-radius: 8px;\r\n      border-bottom: 1px solid var(--background-color-alt);\r\n\r\n      &.is-sticky {\r\n        position: sticky;\r\n        z-index: 2;\r\n      }\r\n    }\r\n  }\r\n\r\n  dd {\r\n    // width: 100%;\r\n    overflow-x: auto;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuffExpandableListView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuffExpandableListView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BuffExpandableListView.vue?vue&type=template&id=840f3626&\"\nimport script from \"./BuffExpandableListView.vue?vue&type=script&lang=js&\"\nexport * from \"./BuffExpandableListView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BuffExpandableListView.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderConfigurator.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderConfigurator.vue?vue&type=style&index=0&lang=less&\"","import { convertCompareCodeToInput, convertCompareInputToCode } from '@/modules/core/compare';\r\n\r\nclass CompareInputManager {\r\n  constructor (compareInputStorageKey = 'bfmt:compareInput') {\r\n    this._compareInputStorageKey = compareInputStorageKey;\r\n  }\r\n\r\n  get compareInputString () {\r\n    return sessionStorage.getItem(this._compareInputStorageKey);\r\n  }\r\n\r\n  set compareInputString (newString) {\r\n    sessionStorage.setItem(this._compareInputStorageKey, newString);\r\n  }\r\n\r\n  get compareInput () {\r\n    const inputString = this.compareInputString;\r\n    return !inputString\r\n      ? []\r\n      : inputString.split(',').map(code => {\r\n        try {\r\n          return convertCompareCodeToInput(code);\r\n        } catch {\r\n          return undefined;\r\n        }\r\n      }).filter(v => v);\r\n  }\r\n\r\n  set compareInput (input = []) {\r\n    const code = input.map(convertCompareInputToCode).join(',');\r\n    this.compareInputString = code;\r\n  }\r\n}\r\n\r\nexport default new CompareInputManager();\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('module-checker',{attrs:{\"requiredModules\":_vm.requiredModules,\"ensureDbSync\":true,\"useUpdateDialog\":false}},[_c('v-container',{attrs:{\"fluid\":\"\"}},[(_vm.hasSelection)?_c('v-layout',[_c('loading-indicator',{attrs:{\"loadingMessage\":\"Processing selection...\"}})],1):[_c('v-layout',{attrs:{\"row\":\"\",\"align-center\":\"\"}},[_c('v-flex',[_c('v-text-field',{attrs:{\"label\":\"Search\",\"persistent-hint\":\"\",\"hint\":_vm.searchHint},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.sendQuery($event)}},model:{value:(_vm.query),callback:function ($$v) {_vm.query=$$v},expression:\"query\"}})],1),_c('v-flex',{staticStyle:{\"flex-grow\":\"0\"}},[_c('v-btn',{staticClass:\"mr-0\",attrs:{\"icon\":\"\",\"flat\":\"\",\"outline\":_vm.hasDirtyQuery},on:{\"click\":_vm.sendQuery}},[_c('v-icon',[_vm._v(\"search\")])],1)],1)],1),_c('v-layout',{staticStyle:{\"min-height\":\"0\",\"max-height\":\"55vh\",\"flex\":\"1\"}},[_c('div',{staticClass:\"py-2 px-1\",staticStyle:{\"overflow\":\"auto\",\"flex\":\"1\"}},[_vm._t(\"entries\",[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_vm._v(\"\\n                  \"+_vm._s(_vm.entriesToShow)+\"\\n              \")])],{\"entries\":_vm.entriesToShow})],2)]),(_vm.numPages > 1)?_c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\",\"align-center\":\"\"}},[_c('v-pagination',{attrs:{\"total-visible\":_vm.$vuetify.breakpoint.mdAndUp ? 20 : undefined,\"length\":_vm.numPages},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1):_vm._e()],(_vm.showCancelButton)?[_c('v-layout',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.hasSelection),expression:\"!hasSelection\"}],staticStyle:{\"justify-content\":\"flex-end\"},attrs:{\"row\":\"\"}},[_c('v-flex',{staticStyle:{\"flex\":\"none\"}},[_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_vm._v(\"Cancel\")])],1)],1)]:_vm._e()],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card>\r\n    <module-checker\r\n      :requiredModules=\"requiredModules\"\r\n      :ensureDbSync=\"true\"\r\n      :useUpdateDialog=\"false\"\r\n    >\r\n      <v-container fluid>\r\n        <v-layout v-if=\"hasSelection\">\r\n          <loading-indicator loadingMessage=\"Processing selection...\"/>\r\n        </v-layout>\r\n        <template v-else>\r\n          <v-layout row align-center>\r\n            <v-flex>\r\n              <v-text-field\r\n                label=\"Search\"\r\n                v-model=\"query\"\r\n                @keydown.enter=\"sendQuery\"\r\n                persistent-hint\r\n                :hint=\"searchHint\"/>\r\n            </v-flex>\r\n            <v-flex style=\"flex-grow: 0;\">\r\n              <v-btn\r\n                icon flat\r\n                :outline=\"hasDirtyQuery\"\r\n                @click=\"sendQuery\"\r\n                class=\"mr-0\">\r\n                <v-icon>search</v-icon>\r\n              </v-btn>\r\n            </v-flex>\r\n          </v-layout>\r\n          <v-layout style=\"min-height: 0; max-height: 55vh; flex: 1;\">\r\n            <div style=\"overflow: auto; flex: 1;\" class=\"py-2 px-1\">\r\n              <slot name=\"entries\" :entries=\"entriesToShow\">\r\n                <v-layout row wrap>\r\n                    {{ entriesToShow }}\r\n                </v-layout>\r\n              </slot>\r\n            </div>\r\n          </v-layout>\r\n          <v-layout row justify-center align-center v-if=\"numPages > 1\">\r\n            <v-pagination\r\n              v-model=\"currentPage\"\r\n              :total-visible=\"$vuetify.breakpoint.mdAndUp ? 20 : undefined\"\r\n              :length=\"numPages\"/>\r\n          </v-layout>\r\n        </template>\r\n        <template v-if=\"showCancelButton\">\r\n          <v-layout row style=\"justify-content: flex-end;\" v-show=\"!hasSelection\">\r\n            <v-flex style=\"flex: none;\">\r\n              <v-btn flat @click=\"$emit('cancel')\">Cancel</v-btn>\r\n            </v-flex>\r\n          </v-layout>\r\n        </template>\r\n      </v-container>\r\n    </module-checker>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport LoadingIndicator from '@/components/LoadingIndicator';\r\nimport ModuleChecker from '@/components/ModuleChecker';\r\n\r\nexport default {\r\n  props: {\r\n    allEntryIds: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    value: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    entriesPerPage: {\r\n      type: Number,\r\n      default: 24,\r\n    },\r\n    hasSelection: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    requiredModules: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    showCancelButton: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  components: {\r\n    LoadingIndicator,\r\n    ModuleChecker,\r\n  },\r\n  computed: {\r\n    numPages () {\r\n      return Math.ceil(this.allEntryIds.length / this.entriesPerPage);\r\n    },\r\n    entriesToShow () {\r\n      const startIndex = Math.max((this.currentPage - 1) * this.entriesPerPage, 0);\r\n      return this.allEntryIds.slice(startIndex, startIndex + this.entriesPerPage);\r\n    },\r\n    hasDirtyQuery () {\r\n      return this.query !== this.value;\r\n    },\r\n    searchHint () {\r\n      return [\r\n        `${this.allEntryIds.length} results`,\r\n        this.hasDirtyQuery && '*',\r\n      ].filter(v => v).join('');\r\n    },\r\n  },\r\n  data () {\r\n    return {\r\n      currentPage: 1,\r\n      query: '',\r\n    };\r\n  },\r\n  methods: {\r\n    sendQuery () {\r\n      this.$emit('input', this.query);\r\n    },\r\n  },\r\n  watch: {\r\n    value: {\r\n      immediate: true,\r\n      handler (v) {\r\n        this.query = v || '';\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BaseSelector.vue?vue&type=template&id=e8b162fe&\"\nimport script from \"./BaseSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./BaseSelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}