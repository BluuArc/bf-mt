{"version":3,"sources":["webpack:///./src/components/Tools/Squads/UnitEntryEditor.vue?0653","webpack:///./src/components/Tools/Squads/MultidexSelectors/SphereSelector.vue?530f","webpack:///src/components/Tools/Squads/MultidexSelectors/SphereSelector.vue","webpack:///./src/components/Tools/Squads/MultidexSelectors/SphereSelector.vue?62cc","webpack:///./src/components/Tools/Squads/MultidexSelectors/SphereSelector.vue","webpack:///./src/components/Multidex/ExtraSkills/EntryCard.vue?576b","webpack:///src/components/Multidex/ExtraSkills/EntryCard.vue","webpack:///./src/components/Multidex/ExtraSkills/EntryCard.vue?bbd1","webpack:///./src/components/Multidex/ExtraSkills/EntryCard.vue","webpack:///./src/components/Tools/Squads/MultidexSelectors/ExtraSkillSelector.vue?e0e2","webpack:///src/components/Tools/Squads/MultidexSelectors/ExtraSkillSelector.vue","webpack:///./src/components/Tools/Squads/MultidexSelectors/ExtraSkillSelector.vue?d0c5","webpack:///./src/components/Tools/Squads/MultidexSelectors/ExtraSkillSelector.vue","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableListView.vue?3ef2","webpack:///./src/views/Tools/SquadList.vue?9102","webpack:///src/views/Tools/SquadList.vue","webpack:///./src/views/Tools/SquadList.vue?f001","webpack:///./src/views/Tools/SquadList.vue","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/ValueSubgrid.vue?f451","webpack:///./src/components/Tools/Squads/ShareSquadCard.vue?046f","webpack:///src/components/Tools/Squads/ShareSquadCard.vue","webpack:///./src/components/Tools/Squads/ShareSquadCard.vue?b0d2","webpack:///./src/components/Tools/Squads/ShareSquadCard.vue","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkUnitEntryEditable.vue?c7e3","webpack:///./src/components/Tools/Squads/SquadArenaSuggestionTable.vue?3518","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableList.vue?6a5a","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/ValueSubgrid.vue?324e","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/SourcePathCell.vue?564c","webpack:///src/components/Multidex/BuffList/GenericBuffExpandableList/SourcePathCell.vue","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/SourcePathCell.vue?1673","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/SourcePathCell.vue","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/TriggeredOnCell.vue?ff6d","webpack:///src/components/Multidex/BuffList/GenericBuffExpandableList/TriggeredOnCell.vue","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/TriggeredOnCell.vue?fffe","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/TriggeredOnCell.vue","webpack:///src/components/Multidex/BuffList/GenericBuffExpandableList/ValueSubgrid.vue","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/ValueSubgrid.vue?69ba","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/ValueSubgrid.vue","webpack:///./src/components/Multidex/BuffList/DelayedVForExpansionPanel.vue?90a6","webpack:///src/components/Multidex/BuffList/DelayedVForExpansionPanel.vue","webpack:///./src/components/Multidex/BuffList/DelayedVForExpansionPanel.vue?85c1","webpack:///./src/components/Multidex/BuffList/DelayedVForExpansionPanel.vue","webpack:///src/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableList.vue","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableList.vue?41c5","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableList.vue","webpack:///./src/modules/spark-simulator/worker/index.js","webpack:///./src/components/Multidex/Items/EntryCard.vue?8e37","webpack:///src/components/Multidex/Items/EntryCard.vue","webpack:///./src/components/Multidex/Items/EntryCard.vue?6c52","webpack:///./src/components/Multidex/Items/EntryCard.vue","webpack:///./src/modules/core/extra-skills.js","webpack:///./src/components/Multidex/MiniLeaderIcon.vue?a5f9","webpack:///src/components/Multidex/MiniLeaderIcon.vue","webpack:///./src/components/Multidex/MiniLeaderIcon.vue?7554","webpack:///./src/components/Multidex/MiniLeaderIcon.vue","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/SourcePathCell.vue?a7fa","webpack:///./src/components/Tools/Squads/MultidexSelectors/UnitSelector.vue?6fae","webpack:///src/components/Tools/Squads/MultidexSelectors/UnitSelector.vue","webpack:///./src/components/Tools/Squads/MultidexSelectors/UnitSelector.vue?e70a","webpack:///./src/components/Tools/Squads/MultidexSelectors/UnitSelector.vue","webpack:///./src/components/Multidex/Units/SpBuildTable.vue?de19","webpack:///src/components/Multidex/Units/SpBuildTable.vue","webpack:///./src/components/Multidex/Units/SpBuildTable.vue?dfd4","webpack:///./src/components/Multidex/Units/SpBuildTable.vue","webpack:///./src/views/Tools/SquadAdd.vue?5edb","webpack:///src/views/Tools/SquadAdd.vue","webpack:///./src/views/Tools/SquadAdd.vue?353d","webpack:///./src/views/Tools/SquadAdd.vue","webpack:///./src/components/TextViewer.vue?5eb4","webpack:///src/components/TextViewer.vue","webpack:///./src/components/TextViewer.vue?ce36","webpack:///./src/components/TextViewer.vue","webpack:///./src/components/Multidex/BuffList/SquadBuffExpandableListView.vue?50c3","webpack:///./src/modules/core/squads.js","webpack:///./src/components/Tools/Squads/SquadListCardEditable.vue?6500","webpack:///./src/assets/battle_friend_icon.png","webpack:///./src/views/Tools/SquadList.vue?b1b8","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkUnitEntry.vue?b19c","webpack:///./src/components/Tools/Squads/SynchronousGettersMixin.js","webpack:///./src/components/OneLineTextViewer.vue?7de8","webpack:///src/components/OneLineTextViewer.vue","webpack:///./src/components/OneLineTextViewer.vue?637b","webpack:///./src/components/OneLineTextViewer.vue","webpack:///./src/components/Tools/Squads/SquadUnitEntry.vue?88e8","webpack:///./src/components/Multidex/ExtraSkillIcon.vue?5d1d","webpack:///src/components/Multidex/ExtraSkillIcon.vue","webpack:///./src/components/Multidex/ExtraSkillIcon.vue?d5da","webpack:///./src/components/Multidex/ExtraSkillIcon.vue","webpack:///src/components/Tools/Squads/SquadUnitEntry.vue","webpack:///./src/components/Tools/Squads/SquadUnitEntry.vue?3428","webpack:///./src/components/Tools/Squads/SquadUnitEntry.vue","webpack:///./src/components/Multidex/BuffList/SquadBuffExpandableList.vue?3142","webpack:///./src/components/Multidex/MiniFriendIcon.vue?53e4","webpack:///src/components/Multidex/MiniFriendIcon.vue","webpack:///./src/components/Multidex/MiniFriendIcon.vue?e2ca","webpack:///./src/components/Multidex/MiniFriendIcon.vue","webpack:///./src/components/Tools/Squads/ShareSquadCard.vue?4330","webpack:///./src/components/Tools/Squads/DeleteSquadCard.vue?a1db","webpack:///src/components/Tools/Squads/DeleteSquadCard.vue","webpack:///./src/components/Tools/Squads/DeleteSquadCard.vue?3d7f","webpack:///./src/components/Tools/Squads/DeleteSquadCard.vue","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableList.vue?936f","webpack:///./src/components/Tools/Squads/SquadUnitEntry.vue?5852","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/TriggeredOnCell.vue?3034","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableListView.vue?e17e","webpack:///./src/components/OrderConfigurator.vue?931a","webpack:///src/components/OrderConfigurator.vue","webpack:///./src/components/OrderConfigurator.vue?3d50","webpack:///./src/components/OrderConfigurator.vue","webpack:///src/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableListView.vue","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableListView.vue?a61d","webpack:///./src/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableListView.vue","webpack:///./src/components/Tools/Squads/SquadListCard.vue?5e6f","webpack:///src/components/Tools/Squads/SquadListCard.vue","webpack:///./src/components/Tools/Squads/SquadListCard.vue?3acd","webpack:///./src/components/Tools/Squads/SquadListCard.vue","webpack:///./src/components/Tools/Squads/SquadListCardEditable.vue?bff1","webpack:///./src/components/Tools/Squads/UnitEntryEditor.vue?d637","webpack:///src/components/Tools/Squads/UnitEntryEditor.vue","webpack:///./src/components/Tools/Squads/UnitEntryEditor.vue?ea95","webpack:///./src/components/Tools/Squads/UnitEntryEditor.vue","webpack:///src/components/Tools/Squads/SquadListCardEditable.vue","webpack:///./src/components/Tools/Squads/SquadListCardEditable.vue?e2cc","webpack:///./src/components/Tools/Squads/SquadListCardEditable.vue","webpack:///./src/components/Multidex/BuffTableGrid/MainTable.vue?fca9","webpack:///src/components/Multidex/BuffTableGrid/MainTable.vue","webpack:///./src/components/Multidex/BuffTableGrid/MainTable.vue?d65f","webpack:///./src/components/Multidex/BuffTableGrid/MainTable.vue","webpack:///./src/assets/battle_leader_icon.png","webpack:///./src/assets/ex_icon.png","webpack:///./src/components/Multidex/BuffTableGrid/MainTable.vue?0b26","webpack:///./src/components/OrderConfigurator.vue?d917","webpack:///./src/views/Tools/Squad.vue?bf9f","webpack:///./src/components/Multidex/BuffList/SquadBuffExpandableListView.vue?d920","webpack:///./src/components/Multidex/BuffList/SquadBuffExpandableList.vue?16f5","webpack:///src/components/Multidex/BuffList/SquadBuffExpandableList.vue","webpack:///./src/components/Multidex/BuffList/SquadBuffExpandableList.vue?0fc4","webpack:///./src/components/Multidex/BuffList/SquadBuffExpandableList.vue","webpack:///src/components/Multidex/BuffList/SquadBuffExpandableListView.vue","webpack:///./src/components/Multidex/BuffList/SquadBuffExpandableListView.vue?714d","webpack:///./src/components/Multidex/BuffList/SquadBuffExpandableListView.vue","webpack:///./src/components/Tools/Squads/SquadArenaSuggestionTable.vue?313f","webpack:///src/components/Tools/Squads/SquadArenaSuggestionTable.vue","webpack:///./src/components/Tools/Squads/SquadArenaSuggestionTable.vue?36db","webpack:///./src/components/Tools/Squads/SquadArenaSuggestionTable.vue","webpack:///./src/components/Tools/Squads/SparkStatistics/Main.vue?ee62","webpack:///./src/modules/spark-simulator/constants.js","webpack:///./src/modules/spark-simulator/utils.js","webpack:///./src/modules/spark-simulator/ClientWorkerInterface.js","webpack:///./src/modules/spark-simulator/client/ClientApi.js","webpack:///./src/modules/spark-simulator/client/index.js","webpack:///./src/modules/spark-simulator/index.js","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkSquadCard.vue?d6ce","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkUnitEntry.vue?3c29","webpack:///src/components/Tools/Squads/SparkStatistics/SparkUnitEntry.vue","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkUnitEntry.vue?a1b7","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkUnitEntry.vue","webpack:///src/components/Tools/Squads/SparkStatistics/SparkSquadCard.vue","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkSquadCard.vue?f796","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkSquadCard.vue","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkSquadCardEditable.vue?657c","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkUnitEntryEditable.vue?04ef","webpack:///src/components/Tools/Squads/SparkStatistics/SparkUnitEntryEditable.vue","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkUnitEntryEditable.vue?b31f","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkUnitEntryEditable.vue","webpack:///src/components/Tools/Squads/SparkStatistics/SparkSquadCardEditable.vue","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkSquadCardEditable.vue?56bd","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkSquadCardEditable.vue","webpack:///./src/components/Tools/Squads/SparkStatistics/OverallSimulatorOptions.vue?fd66","webpack:///src/components/Tools/Squads/SparkStatistics/OverallSimulatorOptions.vue","webpack:///./src/components/Tools/Squads/SparkStatistics/OverallSimulatorOptions.vue?b594","webpack:///./src/components/Tools/Squads/SparkStatistics/OverallSimulatorOptions.vue","webpack:///src/components/Tools/Squads/SparkStatistics/Main.vue","webpack:///./src/components/Tools/Squads/SparkStatistics/Main.vue?9e83","webpack:///./src/components/Tools/Squads/SparkStatistics/Main.vue","webpack:///./src/components/Tools/Squads/MultidexLinks.vue?e1f0","webpack:///src/components/Tools/Squads/MultidexLinks.vue","webpack:///./src/components/Tools/Squads/MultidexLinks.vue?29d8","webpack:///./src/components/Tools/Squads/MultidexLinks.vue","webpack:///src/views/Tools/Squad.vue","webpack:///./src/views/Tools/Squad.vue?db8a","webpack:///./src/views/Tools/Squad.vue","webpack:///./src/components/Multidex/Units/SpBuildTable.vue?b2de","webpack:///./src/components/Tools/Squads/MultidexSelectors/BaseSelector.vue?2caf","webpack:///src/components/Tools/Squads/MultidexSelectors/BaseSelector.vue","webpack:///./src/components/Tools/Squads/MultidexSelectors/BaseSelector.vue?4b16","webpack:///./src/components/Tools/Squads/MultidexSelectors/BaseSelector.vue","webpack:///./src/components/Tools/Squads/SparkStatistics/Main.vue?2a9c","webpack:///./src/components/Tools/Squads/SparkStatistics/OverallSimulatorOptions.vue?6289","webpack:///./src/views/Tools/SquadAdd.vue?b1c4","webpack:///./src/components/TextViewer.vue?4567"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","showCancelButton","nameFilter","hasSelection","requiredModules","allIds","on","$i","toLowerCase","$event","$emit","scopedSlots","_u","key","fn","ref","entries","_l","entry","staticClass","staticStyle","pageDb","nativeOn","sendEntry","staticRenderFns","props","type","Boolean","default","components","BaseSelector","EntryCard","computed","$store","state","items","Object","keys","filter","isSphere","hasName","data","methods","name","includes","query","component","to","domProps","_s","rarity","_v","_e","class","desc","showAssociatedUnits","associated_units","unit","i","getImageUrls","ills_thum","getUnit","thumbnailSize","mixins","RarityIcon","UnitThumbnail","breakpoint","xlOnly","id","extraSkills","isVisuallyLoading","getDbData","directives","rawName","value","showCopyModal","expression","focused","searchIsFocused","slot","preventDefault","onFilterUpdate","lightMode","sortedSquads","length","model","callback","$$v","sortOrderAscending","filterChanged","squad","getItem","getExtraSkill","activeSquadIndex","activeSquadDialog","getSquadUrl","squadsPerPage","numPages","$vuetify","mdAndUp","undefined","currentPage","isCopyMode","$v","squadsToShow","fabModel","repositionTooltip","showTooltip","showImportFromCodeModal","units","importCode","squadDb","required","SquadListCard","ShareSquadCard","DeleteSquadCard","ModuleChecker","squads","freeze","slice","squadStartIndex","Math","ceil","isInternallyLoading","activeCallToken","filteredSquads","beforeCreate","loadingDebouncer","dispose","LoadingDebouncer","filterSquads","getModuleName","associatedModule","fullName","internalName","$router","resolve","path","watch","setValue","immediate","handler","window","scrollTo","newVal","tabConfig","activeTabIndex","smAndDown","style","possibleTargets","target","useBullets","showByList","showByTable","showName","showTotalSparkability","showPosition","showOrder","showAction","showSparkStatisticsByUnit","showExtraSkill","showSpheres","showEnhancements","abbreviate","showSpCost","showShareLink","markdownText","squadShorthand","shareLink","sparkResult","CardTabsContainer","TextViewer","OneLineTextViewer","copyableJson","otherInfo","squadToMarkdown","sparkTextByUnit","forEach","sparkUnitResult","mapping","set","updateTime","Date","mounted","setWithPreset","sections","push","prefix","es","Array","isArray","spheres","sp","linkText","join","getActionText","action","toUpperCase","getSpCost","getSpText","feSkills","enhancements","split","code","char","skill","v","text","cost","bp","getTableView","isDiscord","result","loadProgress","isVisuallyLoadingList","sortedEffectIds","_t","effectType","handleLoadStart","handleLoadEnd","$p","arrayEntry","getEntryHeaderClasses","effectNameById","getSourcesForEffectId","index","viewedTables","expandedTables","propsById","map","e","getValueSubgridEntry","source","getTextForSource","identifier","lockPropertyColumn","convertNumberToColumnSpanStyle","columnCountMappingByValueEntry","get","prop","p","getClassForProperty","valueEntry","getClassForValue","values","getPropertyValue","displayValue","String","Function","materialColor","SOURCE_PATH_TO_MATERIAL_COLOR_MAPPING","hexColor","primaryColor","colorSplit","capitalize","accent","replace","cellStyle","bb","sbb","ubb","BURST_TYPE_TO_MATERIAL_COLOR_MAPPING","BURST_TYPE_TO_TEXT_MAPPING","properties","showHeaders","allowOverflow","minValueColumnWidth","freezePropertyColumn","SourcePathCell","TriggeredOnCell","numValueColumns","columnCount","mainValueGridStyle","numColumns","columnConfig","valueSubgridWidth","overflow","customCellsByPropertyName","isProcBuffList","isCustomCell","_b","$attrs","getKeyFunction","DelayedVForMixin","sources","getEffectsFromSource","inputEffectMappingBySource","WeakMap","highlightedBuffIds","ValueSubgrid","DelayedVForExpansionPanel","LoadingIndicator","blacklistedKeys","weightedCompareOptions","effectsById","effects","effectDetails","acc","effectEntry","effect","add","from","sort","valueSubgridEntryByEntryByEffectId","loadStartToken","loadingList","highlightCheckerTimeout","beforeDestroy","getEffectDetails","processedEffect","startToken","endToken","effectId","valueSubgridCache","has","subgridEntry","toggleEffectView","toggleAllEffectViews","isEmptyArray","obj","effectList","logger","warn","sourcePaths","sourcePath","sourcePathsBySource","isHighlightedHeader","highlightHeaders","allHighlightedHeaders","header","classList","ensureHeadersAreHighlighted","hasUnhighlightedHeader","noActionNecessaryCount","runCheck","newValue","doShow","isLoading","module","exports","Worker","getImageUrl","raid","itemType","max_stack","SphereTypeIcon","ItemThumbnail","hasSphereType","parseExtraSkillConditions","parsedConditions","item","sphereType","conditions","condition","unknown","conditionHelperGetUnitNames","unitById","names","toString","getHighestRarityUnit","reduce","val","concat","conditionHelperGetItemNames","itemById","convertParsedConditionsToMessage","c","getSphereCategory","splitEffectsByCondition","conditionDictionary","message","parsedEffects","isValidSkill","expectedFields","every","f","getEmptySkill","getExtraSkillEffects","getEffectsListForExtraSkill","targetTypes","PARTY","squadBuffTypes","PROC","getEffectsList","elgifEffects","label","sheetSize","displaySize","iconSrc","Number","GenericSpriteIcon","dbClient","getById","server","settings","activeServer","activeSkillSum","overallState","toggleOverallState","spEntry","selectedSpEntries","spIndexToCode","toggleSpEntry","category","getSpDescription","getSpDependencyText","showTables","elem","getSpEffects","SpIcon","BuffTable","allEnhancementsCode","allEnhancementsSum","allEffects","effectCache","cacheChangeToken","now","computeActiveSum","useCache","cacheExchangeToken","isCurrentlyActive","newEntries","activeCode","dependentEntries","dependencies","depCode","enhancementCode","isLoadingSquadData","$ev","selectedIndex","onSuccessfulSave","inputCode","parseState","warningMessages","showWarnings","$val","parsingCode","attemptSquadImport","importSquad","SquadListCardEditable","currentSquadCode","parseErrorMessage","parsedSuccessfully","squadUnits","squadItems","squadExtraSkills","lastImportedSquadCode","commit","setSquad","deep","updateSquadPageDbForSquad","limitHeight","inputText","CopyButton","squadToShorthand","squadFillerMapping","EMPTY","ANY","unitPositionMapping","indexOf","position","lead","friend","bbOrder","makeSquadUnitEntry","generateFillerSquadUnitEntry","isEmpty","squadUnitActions","NONE","ATK","getEffectMappingFromSquadUnitEntry","unitEntry","unitEffects","ls","BB","SBB","UBB","burstTypes","bbType","burstData","levels","getBurstEffects","feskills","Set","spCodeToEffects","getSpEntryEffects","sourceSpCode","extraSkillEffects","extraSkill","sphereEffects","sphereId","effectData","getItemEffects","generateDefaultSquad","allEmpty","toLocaleString","fill","_","cloneSquad","simulatorOptions","filterOptions","viewMode","sortUnitsByPosition","shorthandToSquad","shorthand","leadIndex","friendIndex","positionIndex","esText","sphereText","leadFriendFlag","spText","fixSquadErrors","messages","filledPositions","usedOrders","currentUnits","u","defaultUnitActions","isValidBbOrder","num","unitData","isValidUnit","unitIdentifer","find","a","sphere","isValidSphere","s","spCodeToIndex","possibleOrders","order","warnings","getMultidexDatabaseIdsFromSquads","unitIds","esIds","itemIds","squadsToCheck","clone","toSort","b","positionA","positionB","getEffectsListForSquadUnitEntry","syncGetters","entryEffects","isLsActive","leaderSkillEffects","nonUbbBurstEffects","ubbBurstEffects","spEnhancementEffects","getMultidexParamsForSquadUnit","links","moduleName","_g","$listeners","orderSettings","isVisible","ills_battle","isNaN","isLead","isFriend","getSpCategories","inactive","inactiveStyle","iconSize","LeaderIcon","FriendIcon","ExtraSkillIcon","getColorSetBasedOnAction","border","background","foreground","getOrderText","filteredSkills","isDeleting","deleteSquad","squadId","TARGET_VIEW_TYPE","emitNewViewMode","OVERVIEW_VIEW_TYPE","configIndex","possibleTables","defaultBuffTables","buffTables","activeSelector","filterHelper","$show","hasPassives","hasProcs","procs","passives","missingProcs","proc","getEffectNameForIdAndType","missingPassives","passive","tableConfigIndex","buffListTitleClass","getEffectTypeKey","effectMappingByTable","getTableKey","targetType","getHighlightedBuffListForTable","tableConfig","mappingKey","getValueOfEntry","moveEntryUp","moveEntryDown","getEntryName","hideEntry","showEntry","getEntryValue","fullValueSet","remainingValues","emitValue","indexOfEntryToMove","newOrder","currentEntry","otherEntry","indexOfEntry","titleTopOffset","inputFilterOptions","POSSIBLE_VIEW_TYPES","stickyTitles","BuffExpandableList","OrderConfigurator","ProcSelector","PassiveSelector","overviewTables","allProcIds","currentProcAggregate","allPassiveIds","currentPassiveAggregate","effectMappingBySource","allProcsBySource","allPassivesBySource","tableMapping","hasBuffFilters","FilterOptionsHelper","created","list","viewType","squadCost","isLoadingInParent","getUnitEntryKey","UnitEntry","fullUnits","$set","highlightedIndex","unitSelectionText","newIndex","onSaveClick","redirectOnCancel","activeDialog","$d","setUnit","setExtraSkill","onSelectSphere","activeUnit","setPosition","leadFriendPossibilities","leadFriendStatus","isEmptyUnit","setLeadFriendStatus","bbOrderPossibilities","setBbOrder","actionPossibilities","setAction","esData","sphereData","emptySphere","lastSelectedSphereIndex","setSpheres","setEnhancements","UnitCard","ExtraSkillCard","SphereCard","SpBuildTable","UnitSelector","EsSelector","SphereSelector","localSquad","nonBurstActions","availableBurstTypes","emitUnits","emitSquad","updateCurrentUnit","unitToSwap","newUnitList","status","unitToSwapOrder","some","UnitEntryEditor","hiddenIndices","mappedEffects","_m","getEffectsHiddenText","getSortedProps","j","_obj","_obj$1","_obj$2","hasBuffTable","translateEffectNames","idKeys","gridRowConfig","mainGridStyle","sortedPropsCache","filteredEffect","getValueSubgridStyle","initialLoadPromise","editMode","tempSquad","$sq","onNewUnits","squadCode","disabled","minimizeSquadActionButtons","currentTabIndex","topNavbarHeight","$sparkResult","sparkResultToShare","applySparkResult","getEffectsForSquadUnit","getTextForSourceInSquadUnit","$f","listKey","PASSIVE","unitEntries","inputEffectMappingByUnitEntry","highlightedProcs","highlightedPassives","effectMappingByUnitEntry","ids","SquadBuffExpandableList","BuffExpandableListView","effectMappingByUnit","newOptions","newMode","usableColoClasses","squadKey","suggestionsBySquadEntry","arenaTextDataBySquadEntry","arenaText","aiData","applicableUnits","classesBySquadEntry","applicableColoClasses","currentClasses","commonColoClasses","coloClass","otherUnits","getSuggestionsForUnit","generateArenaText","currentSection","resultForCurrentSquad","emitShareEvent","errorForCurrentSquad","simulatorWarnings","w","runSimulator","runningSimulator","results","errorForCalculations","simulationElapsedText","lastTestedCount","combosTestedPerSecond","xsOnly","currentResultIndex","max","resultSelectValues","min","getResultName","showProgressDialog","progressPercent","progressLabel","progressTotal","cancelCalculations","passiveProcMetadata","require","ATTACKING_PROCS","Type","MOVESPEED_OFFSETS","TELEPORTER_OFFSETS","SBB_NO_CUTIN_DELAY","SBB_CUTIN_DELAY","MAX_WORKERS","Logger","getHitCountData","burst","getHitCountDataFromBurst","getExtraAttackFrames","attackFrameSets","d","frames","healFrameSets","getHealFrameData","unifiedFrames","frameGroup","frameSet","setIndex","frameIndex","numFrames","time","dmg","resultFrames","getAttackEffectsFromBurst","getEffectId","getFramesForSparkUnitEntry","extraAttackEffects","delay","moveTypeId","moveTypeIdByName","Moving","moveSpeed","teleporterId","burstFrames","burstEffects","baseOffset","Teleporting","processFrameTimes","frameTimes","totalOffset","isAoe","frame","resultAttackFrames","frameInfo","effectDelay","extraAttackFrames","resultExtraAttackFrames","convertSquadUnitEntryToSparkUnitEntry","synchronousGetters","originalPosition","unitConfig","getSparkSimUnitConfig","sourcesToIgnore","ENEMY","triggeredOn","sparkUnitEntry","movement","moveSpeedType","weight","getBattleFrames","cutinDelay","battleFrames","frameDelay","attack","actualFrame","aoe","st","calculateSparksForSparkSimSquad","options","getSimulatorOptions","enemyCount","burstCutins","aggregatedBattleFrames","battleFramesByUnit","Map","unitBattleFrames","weightedPercentage","possibleSparksSquad","actualSparkSquad","sparkResults","possibleSparks","actualSparks","selfAoe","selfSt","remainingAoe","remainingSt","hasSparkableAoe","hasSparkableSt","count","totalWeight","percentSparked","getDelayDescriptionForSparkUnitResult","makeEntry","description","moveTypeName","getMoveType","teleporterOffset","positionBasedOffset","inputDelay","squadLevelDelay","getNumberOrDefault","defaultValue","resultThreshold","workerCount","maxResults","optimize","resultUnitConfig","config","numUnits","finalAction","lockPosition","ANY_BB_ORDER","getSimulatorWarningsForSquadUnit","attackEffects","attackTargets","targetArea","isRandom","hasOwnProperty","getSimulatorWarningsForSquad","emptyUnits","maxBbOrder","highestBbOrderForNonEmptyUnits","lowestBbOrderForEmptyUnits","applySparkResultToSquad","leadUnit","friendUnit","originalOptions","newUnitSet","newSparkResultSquad","squadUnitIndex","findIndex","sparkUnitIndex","extractUnitConfigFromSparkResultSquad","getAllPermutations","arr","remainingElements","innerPermutations","permutation","getPositionPermutations","lockedIndices","unlockedPositions","resultPositions","createPositionArray","positionPermutation","currentPermutationIndex","getOrderPermutations","allOrders","lockedUnits","unlockedUnits","emptyOrders","lockedOrders","unlockedOrders","unitOrderPairings","generateSimulatorPermutations","positionPermutations","orderPermutations","getResultKey","currentSquad","unitKey","debug","squadPermutations","permutationHistory","currentIndex","Promise","orderPermutation","resultMapping","resultKey","getUnitConfigForUnoptimizedRun","SparkSimWorkerInterface","permutations","sparkSquad","_defer","total","completed","reject","Error","SparkSimClient","exchangeWorker","PromiseWorkerExchangeClient","_worker","_progressListeners","registerCommand","progress","onProgress","method","request","simArguments","listener","delete","clear","close","makeWorker","worker","SimWorker","ClientApi","SparkSimulator","_squad","noop","_dbGetters","_workers","_progressTotal","_progressPerWorker","fulfill","setTimeout","calcPromises","sliceSize","floor","sliceIndex","currentWorker","addProgressListener","permutationsForWorker","run","all","aggregateResult","errors","countTested","workerIndex","sum","cancel","getters","getterType","sparkPercentage","bbOrderColorToggleIconColor","toggleBbOrderColor","sparkResultsByUnit","relativeWeightByUnit","warningsByUnit","sparkFraction","delayDescription","sparkResultForUnit","relativeWeight","showWarningDialog","bbOrderStyle","showBbOrderColors","colorConfigByBbOrder","squadUnit","burstAttacks","extraAttacks","updateEntryForUnit","smAndUp","bbOrderToShow","nameLabel","actionToShow","emitChangedValue","sparkSimUnitConfig","isAnyUnit","moveTypeText","colorSetBasedOnAction","actionText","hasEmptyUnit","checkEmptyUnitConfig","Event","associatedSquadUnit","needsUpdate","newConfig","setAllOrdersInitial","setAllOrdersAny","setAllPositions","burstCutinToggleLabel","workerCountFieldLabel","initialSimulatorOptions","SparkSquadCard","SparkSquadCardEditable","OverallSimulatorOptions","simulationEndTime","simulationStartTime","toFixed","sparkSimulator","progressActual","progressAnimationFrame","progressObject","calculateResultForCurrentSquad","calculateSparksForSquad","err","emitSimulatorOptions","setProgress","getTimeElapsedText","throttledSetProgress","progressIsDifferent","currentProgressObject","requestAnimationFrame","loop","unitKeyBySquadEntry","titleBySquadEntry","linksBySquadEntry","getComponentNameFromEntry","tag","getDataForEntry","generateMultidexPathToEntry","UnitEntryCard","ExtraSkillEntryCard","ItemEntryCard","title","multidexPathGetters","componentName","TabContainer","SquadBuffExpandableListView","SquadArenaSuggestionTable","SquadSparkStatisticsArea","PromiseWait","MultidexLinks","disableActiveClassTimeout","dispatch","setDocumentTitle","document","defaultTitle","onPageReady","updateTopNavbarHeight","disableHtmlOverflow","checkWindowActiveClass","activeWindow","remove","checkAndRemoveClass","searchHint","_k","keyCode","sendQuery","hasDirtyQuery","entriesToShow","allEntryIds","entriesPerPage","startIndex"],"mappings":"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","file":"js/squads.792e155b.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitEntryEditor.vue?vue&type=style&index=0&id=216b9afa&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitEntryEditor.vue?vue&type=style&index=0&id=216b9afa&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-selector',{attrs:{\"showCancelButton\":_vm.showCancelButton,\"value\":_vm.nameFilter,\"hasSelection\":_vm.hasSelection,\"requiredModules\":_vm.requiredModules,\"allEntryIds\":_vm.allIds},on:{\"input\":function ($i) { return _vm.nameFilter = ($i || '').toLowerCase(); },\"cancel\":function($event){return _vm.$emit('cancel')}},scopedSlots:_vm._u([{key:\"entries\",fn:function(ref){\nvar entries = ref.entries;\nreturn _c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((entries),function(entry){return _c('v-flex',{key:entry,attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\",\"xl3\":\"\"}},[_c('entry-card',{staticClass:\"ma-2\",staticStyle:{\"background\":\"var(--background-color)\",\"cursor\":\"pointer\",\"height\":\"auto\"},attrs:{\"entry\":_vm.pageDb[entry]},nativeOn:{\"click\":function($event){return _vm.sendEntry(entry)}}})],1)}),1)}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <base-selector\n    :showCancelButton=\"showCancelButton\"\n    :value=\"nameFilter\"\n    :hasSelection=\"hasSelection\"\n    @input=\"$i => nameFilter = ($i || '').toLowerCase()\"\n    @cancel=\"$emit('cancel')\"\n    :requiredModules=\"requiredModules\"\n    :allEntryIds=\"allIds\">\n    <v-layout row wrap slot=\"entries\" slot-scope=\"{ entries }\">\n      <v-flex\n        v-for=\"entry in entries\"\n        :key=\"entry\"\n        xs12 sm6 md4 xl3>\n        <entry-card\n          class=\"ma-2\"\n          style=\"background: var(--background-color); cursor: pointer; height: auto;\"\n          @click.native=\"sendEntry(entry)\"\n          :entry=\"pageDb[entry]\"/>\n      </v-flex>\n    </v-layout>\n  </base-selector>\n</template>\n\n<script>\nimport BaseSelector from '@/components/Tools/Squads/MultidexSelectors/BaseSelector';\nimport EntryCard from '@/components/Multidex/Items/EntryCard';\n\nexport default {\n  props: {\n    showCancelButton: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  components: {\n    BaseSelector,\n    EntryCard,\n  },\n  computed: {\n    requiredModules () {\n      return ['items'];\n    },\n    pageDb () {\n      return this.$store.state.items.pageDb;\n    },\n    allIds () {\n      return Object.keys(this.pageDb).filter(k => {\n        const isSphere = this.pageDb[k].type === 'sphere';\n        const hasName = !this.nameFilter || this.hasName(this.pageDb[k].name, this.nameFilter);\n        return isSphere && hasName;\n      });\n    },\n  },\n  data () {\n    return {\n      nameFilter: '',\n      hasSelection: false,\n    };\n  },\n  methods: {\n    hasName (name = '', query = '') {\n      return name.toLowerCase().includes(query);\n    },\n    sendEntry (id) {\n      this.hasSelection = true;\n      this.$emit('input', { id });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SphereSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SphereSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SphereSelector.vue?vue&type=template&id=5c40c61e&\"\nimport script from \"./SphereSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./SphereSelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-entry-card',{staticStyle:{\"height\":\"100%\"},attrs:{\"to\":_vm.to}},[_c('v-container',{staticClass:\"pa-3\",attrs:{\"fluid\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs9\":\"\"}},[_c('div',{staticClass:\"d-flex-container items-center\"},[_c('h1',{staticClass:\"subheading d-inline-block\",staticStyle:{\"word-break\":\"break-word\"}},[_c('b',{domProps:{\"textContent\":_vm._s(_vm.entry.name || 'No Name')}})])])]),_c('v-flex',{staticClass:\"test-xs-right\",attrs:{\"xs3\":\"\"}},[_c('div',{staticClass:\"d-flex-container items-center content-flex-end\"},[(_vm.rarity < 8)?_c('span',[_vm._v(_vm._s(_vm.rarity))]):_vm._e(),_c('rarity-icon',{class:{ 'ml-1': _vm.rarity !== 8 },attrs:{\"rarity\":_vm.rarity,\"displaySize\":18}})],1)])],1),_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{staticStyle:{\"word-break\":\"break-word\"}},[(_vm.entry.desc && _vm.entry.desc !== 'None' && _vm.entry.desc !== '0')?_c('span',[_vm._v(_vm._s(_vm.entry.desc))]):_c('span',[_vm._v(\"No description.\")])])],1),(_vm.showAssociatedUnits && _vm.entry.associated_units)?_c('v-layout',{staticClass:\"d-align-items-center\",attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs5\":\"\",\"sm4\":\"\"}},[_vm._v(\"\\n        Associated Units:\\n      \")]),_c('v-flex',{staticClass:\"text-xs-left\",attrs:{\"xs7\":\"\"}},_vm._l((_vm.entry.associated_units),function(unit,i){return _c('unit-thumbnail',{key:i,attrs:{\"src\":_vm.getImageUrls(unit).ills_thum,\"rarity\":_vm.getUnit(unit).rarity,\"imageTitle\":_vm.getUnit(unit).name,\"displayWidth\":_vm.thumbnailSize,\"displayHeight\":_vm.thumbnailSize}})}),1)],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <base-entry-card :to=\"to\" style=\"height: 100%;\">\n    <v-container fluid class=\"pa-3\">\n      <v-layout row>\n        <v-flex xs9>\n          <div class=\"d-flex-container items-center\">\n            <h1 class=\"subheading d-inline-block\" style=\"word-break: break-word;\">\n              <b v-text=\"entry.name || 'No Name'\"/>\n            </h1>\n          </div>\n        </v-flex>\n        <v-flex xs3 class=\"test-xs-right\">\n          <div class=\"d-flex-container items-center content-flex-end\">\n            <span v-if=\"rarity < 8\">{{ rarity }}</span>\n            <rarity-icon :class=\"{ 'ml-1': rarity !== 8 }\" :rarity=\"rarity\" :displaySize=\"18\"/>\n          </div>\n        </v-flex>\n      </v-layout>\n      <v-layout row>\n        <v-flex style=\"word-break: break-word;\">\n          <span v-if=\"entry.desc && entry.desc !== 'None' && entry.desc !== '0'\">{{ entry.desc }}</span>\n          <span v-else>No description.</span>\n        </v-flex>\n      </v-layout>\n      <v-layout row wrap v-if=\"showAssociatedUnits && entry.associated_units\" class=\"d-align-items-center\">\n        <v-flex xs5 sm4 class=\"text-xs-center\">\n          Associated Units:\n        </v-flex>\n        <v-flex xs7 class=\"text-xs-left\">\n          <unit-thumbnail\n            v-for=\"(unit, i) in entry.associated_units\"\n            :key=\"i\"\n            :src=\"getImageUrls(unit).ills_thum\"\n            :rarity=\"getUnit(unit).rarity\"\n            :imageTitle=\"getUnit(unit).name\"\n            :displayWidth=\"thumbnailSize\" :displayHeight=\"thumbnailSize\"/>\n        </v-flex>\n      </v-layout>\n    </v-container>\n  </base-entry-card>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex';\nimport EntryCardMixin from '@/components/Multidex/BaseEntryCardMixin';\nimport RarityIcon from '@/components/Multidex/RarityIcon';\nimport UnitThumbnail from '@/components/Multidex/Units/UnitThumbnail';\n\nexport default {\n  mixins: [EntryCardMixin],\n  props: {\n    showAssociatedUnits: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  components: {\n    RarityIcon,\n    UnitThumbnail,\n  },\n  computed: {\n    ...mapState('units', ['pageDb']),\n    ...mapGetters('units', ['getImageUrls']),\n    rarity () {\n      return +this.entry.rarity;\n    },\n    thumbnailSize () {\n      const breakpoint = this.$vuetify.breakpoint;\n      if (breakpoint.xlOnly) {\n        return 64;\n      } else if (breakpoint.mdAndUp) {\n        return 56;\n      } else {\n        return 48;\n      }\n    },\n  },\n  methods: {\n    getUnit (id) {\n      return this.pageDb[id] || {};\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EntryCard.vue?vue&type=template&id=5371a078&\"\nimport script from \"./EntryCard.vue?vue&type=script&lang=js&\"\nexport * from \"./EntryCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-selector',{attrs:{\"showCancelButton\":_vm.showCancelButton,\"value\":_vm.nameFilter,\"hasSelection\":_vm.hasSelection,\"requiredModules\":_vm.requiredModules,\"allEntryIds\":_vm.allIds},on:{\"input\":function ($i) { return _vm.nameFilter = ($i || '').toLowerCase(); },\"cancel\":function($event){return _vm.$emit('cancel')}},scopedSlots:_vm._u([{key:\"entries\",fn:function(ref){\nvar entries = ref.entries;\nreturn _c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((entries),function(entry){return _c('v-flex',{key:entry,attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\",\"xl3\":\"\"}},[_c('entry-card',{staticClass:\"ma-2\",staticStyle:{\"background\":\"var(--background-color)\",\"cursor\":\"pointer\",\"height\":\"auto\"},attrs:{\"entry\":_vm.pageDb[entry]},nativeOn:{\"click\":function($event){return _vm.sendEntry(entry)}}})],1)}),1)}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <base-selector\n    :showCancelButton=\"showCancelButton\"\n    :value=\"nameFilter\"\n    :hasSelection=\"hasSelection\"\n    @input=\"$i => nameFilter = ($i || '').toLowerCase()\"\n    @cancel=\"$emit('cancel')\"\n    :requiredModules=\"requiredModules\"\n    :allEntryIds=\"allIds\">\n    <v-layout row wrap slot=\"entries\" slot-scope=\"{ entries }\">\n      <v-flex\n        v-for=\"entry in entries\"\n        :key=\"entry\"\n        xs12 sm6 md4 xl3>\n        <entry-card\n          class=\"ma-2\"\n          style=\"background: var(--background-color); cursor: pointer; height: auto;\"\n          @click.native=\"sendEntry(entry)\"\n          :entry=\"pageDb[entry]\"/>\n      </v-flex>\n    </v-layout>\n  </base-selector>\n</template>\n\n<script>\nimport BaseSelector from '@/components/Tools/Squads/MultidexSelectors/BaseSelector';\nimport EntryCard from '@/components/Multidex/ExtraSkills/EntryCard';\n\nexport default {\n  props: {\n    showCancelButton: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  components: {\n    BaseSelector,\n    EntryCard,\n  },\n  computed: {\n    requiredModules () {\n      return ['extraSkills', 'units'];\n    },\n    pageDb () {\n      return this.$store.state.extraSkills.pageDb;\n    },\n    allIds () {\n      return Object.keys(this.pageDb).filter(k => {\n        const hasName = !this.nameFilter || this.hasName(this.pageDb[k].name, this.nameFilter);\n        return hasName;\n      });\n    },\n  },\n  data () {\n    return {\n      nameFilter: '',\n      hasSelection: false,\n    };\n  },\n  methods: {\n    hasName (name = '', query = '') {\n      return name.toLowerCase().includes(query);\n    },\n    sendEntry (id) {\n      this.hasSelection = true;\n      this.$emit('input', { id });\n    },\n  },\n};\n</script>\n\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExtraSkillSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExtraSkillSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExtraSkillSelector.vue?vue&type=template&id=7ae097e0&\"\nimport script from \"./ExtraSkillSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./ExtraSkillSelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuffExpandableListView.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuffExpandableListView.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('module-checker',{attrs:{\"requiredModules\":_vm.requiredModules,\"isExternallyLoading\":_vm.isVisuallyLoading,\"externalLoadingMessage\":\"Fetching squad information...\"},on:{\"initfinished\":_vm.getDbData}},[_c('v-container',[_c('v-toolbar',{attrs:{\"app\":\"\",\"fixed\":\"\",\"extended\":\"\",\"scroll-off-screen\":\"\",\"extension-height\":\"72px\"}},[_c('v-container',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showCopyModal),expression:\"!showCopyModal\"}],class:{ 'pt-0 pb-0 mb-2 px-1': true, focused: _vm.searchIsFocused },attrs:{\"slot\":\"extension\",\"fluid\":\"\",\"id\":\"squad-list--search-extension\"},slot:\"extension\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onFilterUpdate($event)}}},[_c('v-layout',{attrs:{\"row\":\"\",\"align-center\":\"\"}},[_c('v-flex',[_c('v-text-field',{attrs:{\"clearable\":\"\",\"color\":_vm.lightMode ? 'black' : 'white',\"label\":\"Search\",\"prepend-inner-icon\":\"search\",\"hint\":((_vm.sortedSquads.length) + \" \" + (_vm.sortedSquads.length === 1 ? 'squad' : 'squads')),\"persistent-hint\":\"\"},on:{\"focusin\":function($event){_vm.searchIsFocused = true},\"focusout\":function($event){_vm.searchIsFocused = false}},model:{value:(_vm.nameFilter),callback:function ($$v) {_vm.nameFilter=$$v},expression:\"nameFilter\"}})],1),_c('v-layout',{staticStyle:{\"flex-grow\":\"0\"},attrs:{\"row\":\"\"}},[_c('v-flex',{staticStyle:{\"flex-grow\":\"0\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"flat\":\"\"},on:{\"click\":function($event){_vm.sortOrderAscending = !_vm.sortOrderAscending}}},[_c('v-icon',[_vm._v(_vm._s((\"fa-sort-alpha-\" + (_vm.sortOrderAscending ? 'down' : 'up'))))])],1)],1),_c('v-flex',{staticStyle:{\"flex-grow\":\"0\"}},[_c('v-btn',{staticStyle:{\"min-width\":\"64px\"},attrs:{\"type\":\"submit\",\"outline\":!_vm.filterChanged,\"color\":_vm.filterChanged ? 'primary' : '',\"round\":\"\"},on:{\"click\":_vm.onFilterUpdate}},[_c('v-icon',[_vm._v(\"search\")])],1)],1)],1)],1)],1)])],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.squadsToShow),function(squad,i){return _c('v-flex',{key:squad.id,attrs:{\"xs12\":\"\"}},[_c('squad-list-card',{staticClass:\"ma-2\",attrs:{\"id\":(\"squad-result-\" + (i + 1)),\"squad\":squad,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"to\":(\"/tools/squads/\" + (squad.id))},on:{\"share\":function () { _vm.activeSquadIndex = i; _vm.activeSquadDialog = 'share'; },\"delete\":function () { _vm.activeSquadIndex = i; _vm.activeSquadDialog = 'delete'; }}},[(_vm.isCopyMode)?[_c('v-card-actions',{attrs:{\"slot\":\"card-actions\"},slot:\"card-actions\"},[_c('v-spacer'),_c('v-btn',{attrs:{\"flat\":\"\",\"to\":_vm.getSquadUrl(squad)}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"file_copy\")]),_vm._v(\"\\n                Copy\\n              \")],1)],1)]:_vm._e()],2)],1)}),1),_c('v-bottom-nav',{attrs:{\"fixed\":\"\",\"value\":_vm.sortedSquads.length > _vm.squadsPerPage,\"app\":\"\"}},[_c('v-pagination',{staticStyle:{\"justify-content\":\"center\"},attrs:{\"length\":_vm.numPages,\"total-visible\":_vm.$vuetify.breakpoint.mdAndUp ? 20 : undefined},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1),(!_vm.isCopyMode)?[_c('v-dialog',{attrs:{\"value\":!!_vm.activeSquadDialog,\"lazy\":\"\"},on:{\"input\":function ($v) { return _vm.activeSquadDialog = $v ? _vm.activeSquadDialog : ''; }}},[(_vm.squadsToShow[_vm.activeSquadIndex])?[(_vm.activeSquadDialog === 'share')?_c('share-squad-card',{attrs:{\"squad\":_vm.squadsToShow[_vm.activeSquadIndex],\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill},on:{\"back\":function($event){_vm.activeSquadDialog = ''}}}):(_vm.activeSquadDialog === 'delete')?_c('delete-squad-card',{attrs:{\"squad\":_vm.squadsToShow[_vm.activeSquadIndex],\"squadId\":_vm.squadsToShow[_vm.activeSquadIndex].id,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill},on:{\"delete\":function () { _vm.activeSquadDialog = ''; _vm.getDbData(); },\"cancel\":function($event){_vm.activeSquadDialog = ''}}}):_vm._e()]:_c('v-card',[_c('v-card-text',[_vm._v(\"\\n            No squad selected\\n          \")]),_c('v-card-actions',{staticStyle:{\"justify-content\":\"flex-end\"}},[_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.activeSquadDialog = ''}}},[_vm._v(\"\\n              Back\\n            \")])],1)],1)],2),(!_vm.isCopyMode)?_c('v-speed-dial',{attrs:{\"transition\":\"slide-y-reverse-transition\",\"direction\":\"top\",\"right\":\"\",\"bottom\":\"\",\"fixed\":\"\"},model:{value:(_vm.fabModel),callback:function ($$v) {_vm.fabModel=$$v},expression:\"fabModel\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"color\":\"primary\",\"fab\":\"\"},on:{\"transitionend\":function () { return _vm.repositionTooltip(); }},slot:\"activator\",model:{value:(_vm.fabModel),callback:function ($$v) {_vm.fabModel=$$v},expression:\"fabModel\"}},[_c('v-icon',[_vm._v(\"add\")]),_c('v-icon',[_vm._v(\"close\")])],1),_c('v-tooltip',{attrs:{\"left\":\"\"},model:{value:(_vm.showTooltip),callback:function ($$v) {_vm.showTooltip=$$v},expression:\"showTooltip\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"to\":\"/tools/squads/add\",\"fab\":\"\",\"small\":\"\",\"outline\":\"\"},slot:\"activator\"},[_c('v-icon',[_vm._v(\"add\")])],1),_c('span',[_vm._v(\"New Squad\")])],1),_c('v-tooltip',{attrs:{\"left\":\"\"},model:{value:(_vm.showTooltip),callback:function ($$v) {_vm.showTooltip=$$v},expression:\"showTooltip\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"fab\":\"\",\"small\":\"\",\"outline\":\"\"},on:{\"click\":function($event){_vm.showImportFromCodeModal = true}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"input\")])],1),_c('span',[_vm._v(\"Import From Code\")])],1),_c('v-tooltip',{attrs:{\"left\":\"\"},model:{value:(_vm.showTooltip),callback:function ($$v) {_vm.showTooltip=$$v},expression:\"showTooltip\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"fab\":\"\",\"small\":\"\",\"outline\":\"\"},on:{\"click\":function($event){_vm.showCopyModal = true}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"file_copy\")])],1),_c('span',[_vm._v(\"Copy Existing Squad\")])],1)],1):_vm._e(),_c('v-dialog',{attrs:{\"lazy\":\"\",\"fullscreen\":\"\",\"hide-overlay\":\"\",\"transition\":\"dialog-bottom-transition\"},model:{value:(_vm.showCopyModal),callback:function ($$v) {_vm.showCopyModal=$$v},expression:\"showCopyModal\"}},[_c('v-card',{staticStyle:{\"background-color\":\"var(--background-color)\"}},[_c('v-toolbar',{staticStyle:{\"z-index\":\"5\"},attrs:{\"fixed\":\"\"}},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.showCopyModal = false}}},[_c('v-icon',[_vm._v(\"close\")])],1),_c('v-toolbar-title',[_vm._v(\"Copy Existing Squad\")])],1),(_vm.showCopyModal)?_c('squad-list',{staticStyle:{\"padding-top\":\"128px\",\"padding-bottom\":\"64px\"},attrs:{\"isCopyMode\":true,\"squadDb\":{ units: _vm.units, items: _vm.items, extraSkills: _vm.extraSkills }}}):_vm._e()],1)],1),_c('v-dialog',{attrs:{\"lazy\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.showImportFromCodeModal),callback:function ($$v) {_vm.showImportFromCodeModal=$$v},expression:\"showImportFromCodeModal\"}},[_c('v-card',[_c('v-card-text',[_c('v-textarea',{attrs:{\"rows\":10,\"label\":\"Import Code\"},model:{value:(_vm.importCode),callback:function ($$v) {_vm.importCode=$$v},expression:\"importCode\"}})],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"disabled\":!_vm.importCode,\"flat\":\"\",\"to\":_vm.getSquadUrl(_vm.importCode)}},[_vm._v(\"\\n              Import\\n            \")])],1)],1)],1)]:_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <module-checker\n    :requiredModules=\"requiredModules\"\n    :isExternallyLoading=\"isVisuallyLoading\"\n    externalLoadingMessage=\"Fetching squad information...\"\n    @initfinished=\"getDbData\">\n    <v-container>\n      <v-toolbar\n        app\n        fixed extended\n        scroll-off-screen\n        extension-height=\"72px\"\n      >\n        <v-container\n          v-show=\"!showCopyModal\"\n          fluid\n          slot=\"extension\"\n          id=\"squad-list--search-extension\"\n          :class=\"{ 'pt-0 pb-0 mb-2 px-1': true, focused: searchIsFocused }\">\n          <form @submit.prevent=\"onFilterUpdate\">\n            <v-layout row align-center>\n              <v-flex>\n                <v-text-field\n                  v-model=\"nameFilter\"\n                  @focusin=\"searchIsFocused = true\"\n                  @focusout=\"searchIsFocused = false\"\n                  clearable\n                  :color=\"lightMode ? 'black' : 'white'\"\n                  label=\"Search\"\n                  prepend-inner-icon=\"search\"\n                  :hint=\"`${sortedSquads.length} ${sortedSquads.length === 1 ? 'squad' : 'squads'}`\"\n                  persistent-hint\n                />\n              </v-flex>\n              <v-layout row style=\"flex-grow: 0\">\n                <v-flex style=\"flex-grow: 0\">\n                  <v-btn icon flat @click=\"sortOrderAscending = !sortOrderAscending\">\n                    <v-icon>{{ `fa-sort-alpha-${sortOrderAscending ? 'down' : 'up' }` }}</v-icon>\n                  </v-btn>\n                </v-flex>\n                <v-flex style=\"flex-grow: 0\">\n                  <v-btn\n                    type=\"submit\"\n                    @click=\"onFilterUpdate\"\n                    :outline=\"!filterChanged\"\n                    :color=\"filterChanged ? 'primary' : ''\"\n                    style=\"min-width: 64px;\"\n                    round>\n                    <v-icon>search</v-icon>\n                  </v-btn>\n                </v-flex>\n              </v-layout>\n            </v-layout>\n          </form>\n        </v-container>\n      </v-toolbar>\n      <v-layout row wrap>\n        <v-flex xs12 v-for=\"(squad, i) in squadsToShow\" :key=\"squad.id\">\n          <squad-list-card\n            :id=\"`squad-result-${i + 1}`\"\n            class=\"ma-2\"\n            :squad=\"squad\"\n            :getUnit=\"getUnit\"\n            :getItem=\"getItem\"\n            :getExtraSkill=\"getExtraSkill\"\n            :to=\"`/tools/squads/${squad.id}`\"\n            @share=\"() => { activeSquadIndex = i; activeSquadDialog = 'share'; }\"\n            @delete=\"() => { activeSquadIndex = i; activeSquadDialog = 'delete'; }\"\n          >\n            <template v-if=\"isCopyMode\">\n              <v-card-actions slot=\"card-actions\">\n                <v-spacer/>\n                <v-btn flat :to=\"getSquadUrl(squad)\">\n                  <v-icon left>file_copy</v-icon>\n                  Copy\n                </v-btn>\n              </v-card-actions>\n            </template>\n          </squad-list-card>\n        </v-flex>\n      </v-layout>\n      <v-bottom-nav fixed :value=\"sortedSquads.length > squadsPerPage\" app>\n        <v-pagination\n          style=\"justify-content: center;\"\n          v-model=\"currentPage\"\n          :length=\"numPages\"\n          :total-visible=\"$vuetify.breakpoint.mdAndUp ? 20 : undefined\"\n        />\n      </v-bottom-nav>\n      <template v-if=\"!isCopyMode\">\n        <v-dialog\n          :value=\"!!activeSquadDialog\"\n          @input=\"$v => activeSquadDialog = $v ? activeSquadDialog : ''\"\n          lazy>\n          <template v-if=\"squadsToShow[activeSquadIndex]\">\n            <share-squad-card\n              v-if=\"activeSquadDialog === 'share'\"\n              :squad=\"squadsToShow[activeSquadIndex]\"\n              :getUnit=\"getUnit\"\n              :getItem=\"getItem\"\n              :getExtraSkill=\"getExtraSkill\"\n              @back=\"activeSquadDialog = ''\"/>\n            <delete-squad-card\n              v-else-if=\"activeSquadDialog === 'delete'\"\n              :squad=\"squadsToShow[activeSquadIndex]\"\n              :squadId=\"squadsToShow[activeSquadIndex].id\"\n              :getUnit=\"getUnit\"\n              :getItem=\"getItem\"\n              :getExtraSkill=\"getExtraSkill\"\n              @delete=\"() => { activeSquadDialog = ''; getDbData(); }\"\n              @cancel=\"activeSquadDialog = ''\"/>\n          </template>\n          <v-card v-else>\n            <v-card-text>\n              No squad selected\n            </v-card-text>\n            <v-card-actions style=\"justify-content: flex-end\">\n              <v-btn flat @click=\"activeSquadDialog = ''\">\n                Back\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n        <v-speed-dial\n          v-if=\"!isCopyMode\"\n          v-model=\"fabModel\"\n          transition=\"slide-y-reverse-transition\"\n          direction=\"top\"\n          right bottom\n          fixed>\n          <v-btn\n            v-model=\"fabModel\"\n            @transitionend=\"() => repositionTooltip()\"\n            slot=\"activator\"\n            color=\"primary\"\n            fab>\n            <v-icon>add</v-icon>\n            <v-icon>close</v-icon>\n          </v-btn>\n          <v-tooltip\n            v-model=\"showTooltip\"\n            left>\n            <v-btn\n              to=\"/tools/squads/add\"\n              fab\n              small\n              outline\n              slot=\"activator\">\n              <v-icon>add</v-icon>\n            </v-btn>\n            <span>New Squad</span>\n          </v-tooltip>\n          <v-tooltip\n            v-model=\"showTooltip\"\n            left>\n            <v-btn\n              fab\n              small\n              outline\n              @click=\"showImportFromCodeModal = true\"\n              slot=\"activator\">\n              <v-icon>input</v-icon>\n            </v-btn>\n            <span>Import From Code</span>\n          </v-tooltip>\n          <v-tooltip\n            v-model=\"showTooltip\"\n            left>\n            <v-btn\n              fab\n              small\n              @click=\"showCopyModal = true\"\n              outline\n              slot=\"activator\">\n              <v-icon>file_copy</v-icon>\n            </v-btn>\n            <span>Copy Existing Squad</span>\n          </v-tooltip>\n        </v-speed-dial>\n        <v-dialog\n          v-model=\"showCopyModal\"\n          lazy\n          fullscreen\n          hide-overlay\n          transition=\"dialog-bottom-transition\"\n        >\n          <v-card style=\"background-color: var(--background-color);\">\n            <v-toolbar style=\"z-index: 5;\" fixed>\n              <v-btn icon @click=\"showCopyModal = false\">\n                <v-icon>close</v-icon>\n              </v-btn>\n              <v-toolbar-title>Copy Existing Squad</v-toolbar-title>\n            </v-toolbar>\n            <squad-list\n              v-if=\"showCopyModal\"\n              :isCopyMode=\"true\"\n              :squadDb=\"{ units, items, extraSkills }\"\n              style=\"padding-top: 128px; padding-bottom: 64px;\"\n            />\n          </v-card>\n        </v-dialog>\n        <v-dialog\n          v-model=\"showImportFromCodeModal\"\n          lazy\n          max-width=\"500px\">\n          <v-card>\n            <v-card-text>\n              <v-textarea\n                :rows=\"10\"\n                v-model=\"importCode\"\n                label=\"Import Code\"/>\n            </v-card-text>\n            <v-card-actions>\n              <v-spacer/>\n              <v-btn\n                :disabled=\"!importCode\"\n                flat\n                :to=\"getSquadUrl(importCode)\">\n                Import\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </template>\n    </v-container>\n  </module-checker>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex';\nimport { multidexModuleInfo } from '@/modules/constants';\nimport { ensureContentPadding, delay } from '@/modules/utils';\nimport { squadRequiredModules } from '@/router/tool-routes';\nimport { Logger } from '@/modules/Logger';\nimport { squadToShorthand, getMultidexDatabaseIdsFromSquads } from '@/modules/core/squads';\nimport debounce from 'lodash/debounce';\nimport LoadingDebouncer from '@/modules/LoadingDebouncer';\nimport SquadListCard from '@/components/Tools/Squads/SquadListCard';\nimport ShareSquadCard from '@/components/Tools/Squads/ShareSquadCard';\nimport DeleteSquadCard from '@/components/Tools/Squads/DeleteSquadCard';\nimport ModuleChecker from '@/components/ModuleChecker';\n\n// eslint-disable-next-line no-unused-vars\nconst logger = new Logger({ prefix: '[SquadList]' });\nlet loadingDebouncer;\nexport default {\n  name: 'squad-list',\n  props: {\n    isCopyMode: {\n      type: Boolean,\n      default: false,\n    },\n    squadDb: {\n      required: false,\n    },\n  },\n  components: {\n    SquadListCard,\n    ShareSquadCard,\n    DeleteSquadCard,\n    ModuleChecker,\n  },\n  computed: {\n    ...mapState('settings', ['activeServer', 'lightMode']),\n    requiredModules: () => squadRequiredModules,\n    squads () {\n      return this.$store.state.squads.squads;\n    },\n    sortedSquads () {\n      return Object.freeze(\n        this.filteredSquads\n          .slice()\n          .sort((a, b) => {\n            const result = a.name < b.name ? -1 : 1;\n            return this.sortOrderAscending ? result : -result;\n          })\n      );\n    },\n    squadsPerPage () {\n      return 10;\n    },\n    squadsToShow () {\n      const pageIndex = this.currentPage - 1;\n      const squadStartIndex = pageIndex * this.squadsPerPage;\n      return Object.freeze(this.sortedSquads.slice(squadStartIndex, squadStartIndex + this.squadsPerPage));\n    },\n    numPages () {\n      return Math.ceil(this.sortedSquads.length / this.squadsPerPage);\n    },\n  },\n  data () {\n    return {\n      units: {},\n      items: {},\n      extraSkills: {},\n      isInternallyLoading: false,\n      isVisuallyLoading: false,\n      activeCallToken: '0',\n      nameFilter: '',\n      searchIsFocused: false,\n      filterChanged: false,\n      sortOrderAscending: true,\n      filteredSquads: [],\n      currentPage: 1,\n      activeSquadIndex: -1,\n      activeSquadDialog: '',\n      fabModel: false,\n      showTooltip: true,\n      showCopyModal: false,\n      showImportFromCodeModal: false,\n      importCode: '',\n    };\n  },\n  beforeCreate () {\n    if (loadingDebouncer) {\n      loadingDebouncer.dispose();\n    }\n    loadingDebouncer = new LoadingDebouncer(val => {\n      this.isVisuallyLoading = val;\n    });\n  },\n  methods: {\n    ...mapActions('units', {\n      getUnits: 'getByIds',\n    }),\n    ...mapActions('items', {\n      getItems: 'getByIds',\n    }),\n    ...mapActions('extraSkills', {\n      getExtraSkills: 'getByIds',\n    }),\n    async getDbData () {\n      this.isInternallyLoading = true;\n      // generate unique value on every call\n      const activeCallToken = [(new Date().valueOf()).toString(), Math.random().toString()].join('-');\n      this.activeCallToken = activeCallToken;\n      if (this.squadDb) {\n        this.units = this.squadDb.units;\n        this.items = this.squadDb.items;\n        this.extraSkills = this.squadDb.extraSkills;\n      } else {\n        const squads = await this.$store.dispatch('squads/getSquads', this.$store.state.settings.activeServer)\n          .then(result => {\n            const squads = result.map(s => ({ id: s.id, ...s.squad }));\n            this.$store.commit('squads/setSquadList', squads);\n            return squads;\n          });\n        const databaseIds = getMultidexDatabaseIdsFromSquads(squads);\n  \n        const currentServer = this.activeServer;\n        await [\n          async () => this.units = await this.getUnits({\n            ids: databaseIds.units,\n            server: currentServer,\n            extractedFields: ['id', 'rarity', 'feskills', 'name', 'sbb', 'cost'],\n          }),\n          async () => this.items = await this.getItems({\n            ids: databaseIds.items,\n            server: currentServer,\n            extractedFields: ['name', 'sphere type'],\n          }),\n          async () => this.extraSkills = await this.getExtraSkills({\n            ids: databaseIds.extraSkills,\n            server: currentServer,\n            extractedFields: ['name'],\n          }),\n        ].reduce((acc, val) => acc.then(() => {\n          // only continue if call token is the same\n          if (activeCallToken === this.activeCallToken) {\n            return val();\n          }\n        }), Promise.resolve());\n      }\n      if (activeCallToken === this.activeCallToken) {\n        this.isInternallyLoading = false;\n      }\n    },\n    getUnit (id) {\n      return this.units[id] || {};\n    },\n    getItem (id) {\n      return this.items[id] || {};\n    },\n    getExtraSkill (id) {\n      return this.extraSkills[id] || {};\n    },\n    // TODO: offload filter into a worker\n    filterSquads ({ name = '' } = {}) {\n      const lowerCaseName = name && name.toLowerCase();\n      const includesName = (n) => (n || '').toLowerCase().includes(lowerCaseName);\n      return this.squads.filter(s => {\n        return [\n          () => !lowerCaseName, // check if name has any values\n          () => includesName(s.id.toString()),\n          () => s.name && includesName(s.name),\n          () => s.units.some(u => [\n            () => includesName(this.getUnit(u.id).name),\n            () => u.es && includesName(this.getExtraSkill(u.es).name),\n            () => Array.isArray(u.spheres) && u.spheres.some(i => includesName(this.getItem(i).name)),\n          ].some(v => v())),\n        ].some(v => v());\n      });\n    },\n    onFilterUpdate: debounce(function () {\n      this.filteredSquads = this.filterSquads({ name: this.nameFilter });\n      this.filterChanged = false;\n    }, 300),\n    repositionTooltip: debounce(async function (forceReposition) {\n      if (this.fabModel || forceReposition) {\n        await this.$nextTick();\n        this.showTooltip = false;\n      }\n    }, 200),\n    getModuleName (internalName) {\n      const associatedModule = multidexModuleInfo.find(m => m.name === internalName);\n      return associatedModule ? associatedModule.fullName : internalName;\n    },\n    getSquadUrl (squad) {\n      return this.$router.resolve({\n        path: '/tools/squads/add',\n        query: { import: typeof squad !== 'string' ? squadToShorthand(squad) : squad },\n      }).route.fullPath;\n    },\n  },\n  watch: {\n    isInternallyLoading () {\n      loadingDebouncer.setValue(() => this.isInternallyLoading);\n    },\n    squads: {\n      immediate: true,\n      handler () {\n        this.onFilterUpdate();\n      },\n    },\n    nameFilter () {\n      this.filterChanged = true;\n    },\n    currentPage () {\n      window.scrollTo(0, 0);\n    },\n    activeSquadDialog (newVal) {\n      if (!newVal) {\n        this.activeSquadIndex = -1;\n      }\n    },\n    sortedSquads () {\n      this.currentPage = 1;\n    },\n    async showTooltip (isShowing) {\n      if (!isShowing) {\n        await this.$nextTick();\n        this.showTooltip = true;\n      }\n    },\n    async showCopyModal (isShowing) {\n      this.$store.commit('setHtmlOverflowDisableState', !!isShowing);\n\n      if (!isShowing) {\n        await delay(1000);\n        const toolbarHeight = document.querySelector('nav.v-toolbar').offsetHeight;\n        // 56px is height of bottom navbar\n        ensureContentPadding(toolbarHeight, 56);\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n#squad-list--search-extension {\n  background-color: var(--background-color-alt--lighten-1);\n  border-radius: 28px;\n  transition: border-color 0.25s;\n  border: 1px solid var(--background-color-alt--lighten-1);\n\n  &.focused {\n    border-color: var(--border-color-alt--lighten-2);\n  }\n\n  .v-text-field {\n    .v-input__slot {\n      margin-bottom: 0;\n      &::before, &::after {\n        border-width: 0;\n      }\n    }\n\n    .v-messages {\n      padding-left: 28px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SquadList.vue?vue&type=template&id=5b431e8e&\"\nimport script from \"./SquadList.vue?vue&type=script&lang=js&\"\nexport * from \"./SquadList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SquadList.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValueSubgrid.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValueSubgrid.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"squad-card--share\"},[_c('card-tabs-container',{attrs:{\"tabs\":_vm.tabConfig},model:{value:(_vm.activeTabIndex),callback:function ($$v) {_vm.activeTabIndex=$$v},expression:\"activeTabIndex\"}},[_c('v-layout',{attrs:{\"slot\":\"markdown\",\"column\":_vm.$vuetify.breakpoint.smAndDown,\"row\":_vm.$vuetify.breakpoint.mdAndUp},slot:\"markdown\"},[_c('v-layout',{style:({\n        'max-width': _vm.$vuetify.breakpoint.mdAndUp ? '50%' : '100%',\n        }),attrs:{\"column\":\"\",\"wrap\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('h2',{staticClass:\"title\"},[_vm._v(\"\\n              Formatting\\n            \")])]),_c('v-flex',[_c('v-select',{attrs:{\"items\":_vm.possibleTargets,\"label\":\"Platform\"},model:{value:(_vm.target),callback:function ($$v) {_vm.target=$$v},expression:\"target\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Use Bulleted List\"},model:{value:(_vm.useBullets),callback:function ($$v) {_vm.useBullets=$$v},expression:\"useBullets\"}})],1)],1),_c('v-divider',{staticClass:\"mb-3\"}),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('h2',{staticClass:\"title\"},[_vm._v(\"\\n              Information\\n            \")])]),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"List View\"},model:{value:(_vm.showByList),callback:function ($$v) {_vm.showByList=$$v},expression:\"showByList\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Table View\"},model:{value:(_vm.showByTable),callback:function ($$v) {_vm.showByTable=$$v},expression:\"showByTable\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Squad Name\"},model:{value:(_vm.showName),callback:function ($$v) {_vm.showName=$$v},expression:\"showName\"}})],1),(_vm.sparkResult)?_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"disabled\":!_vm.showName && !_vm.showByTable,\"label\":\"Total Spark Percentage\"},model:{value:(_vm.showTotalSparkability),callback:function ($$v) {_vm.showTotalSparkability=$$v},expression:\"showTotalSparkability\"}})],1):_vm._e(),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"disabled\":!_vm.showByList,\"label\":\"Position\"},model:{value:(_vm.showPosition),callback:function ($$v) {_vm.showPosition=$$v},expression:\"showPosition\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"BB Order\"},model:{value:(_vm.showOrder),callback:function ($$v) {_vm.showOrder=$$v},expression:\"showOrder\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Action\"},model:{value:(_vm.showAction),callback:function ($$v) {_vm.showAction=$$v},expression:\"showAction\"}})],1),(_vm.sparkResult)?_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Show Sparks per Unit\"},model:{value:(_vm.showSparkStatisticsByUnit),callback:function ($$v) {_vm.showSparkStatisticsByUnit=$$v},expression:\"showSparkStatisticsByUnit\"}})],1):_vm._e(),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"disabled\":!_vm.showByList,\"label\":\"Extra Skill\"},model:{value:(_vm.showExtraSkill),callback:function ($$v) {_vm.showExtraSkill=$$v},expression:\"showExtraSkill\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"disabled\":!_vm.showByList,\"label\":\"Spheres\"},model:{value:(_vm.showSpheres),callback:function ($$v) {_vm.showSpheres=$$v},expression:\"showSpheres\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"disabled\":!_vm.showByList,\"label\":\"SP Enhancements\"},model:{value:(_vm.showEnhancements),callback:function ($$v) {_vm.showEnhancements=$$v},expression:\"showEnhancements\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"disabled\":!_vm.showByList,\"label\":\"Abbreviate Results\"},model:{value:(_vm.abbreviate),callback:function ($$v) {_vm.abbreviate=$$v},expression:\"abbreviate\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"disabled\":!_vm.showByList || _vm.abbreviate || !_vm.showEnhancements,\"label\":\"SP Costs\"},model:{value:(_vm.showSpCost),callback:function ($$v) {_vm.showSpCost=$$v},expression:\"showSpCost\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Share Link\"},model:{value:(_vm.showShareLink),callback:function ($$v) {_vm.showShareLink=$$v},expression:\"showShareLink\"}})],1)],1)],1),_c('v-flex',[_c('text-viewer',{staticStyle:{\"height\":\"100%\"},attrs:{\"inputText\":_vm.markdownText,\"value\":_vm.markdownText}})],1)],1),_c('v-layout',{attrs:{\"slot\":\"code\",\"row\":\"\"},slot:\"code\"},[_c('one-line-text-viewer',{staticStyle:{\"flex\":\"0 1 100%\"},attrs:{\"inputText\":_vm.squadShorthand,\"label\":\"Code\",\"value\":_vm.squadShorthand}})],1),_c('v-layout',{attrs:{\"slot\":\"link\",\"row\":\"\"},slot:\"link\"},[_c('one-line-text-viewer',{staticStyle:{\"flex\":\"0 1 100%\"},attrs:{\"inputText\":_vm.shareLink,\"label\":\"Link\",\"value\":_vm.shareLink}})],1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){return _vm.$emit('back')}}},[_vm._v(\"Back\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card class=\"squad-card--share\">\n    <card-tabs-container :tabs=\"tabConfig\" v-model=\"activeTabIndex\">\n      <v-layout\n        :column=\"$vuetify.breakpoint.smAndDown\"\n        :row=\"$vuetify.breakpoint.mdAndUp\"\n        slot=\"markdown\">\n        <v-layout column wrap :style=\"{\n          'max-width': $vuetify.breakpoint.mdAndUp ? '50%' : '100%',\n          }\">\n          <v-layout row wrap>\n            <v-flex xs12>\n              <h2 class=\"title\">\n                Formatting\n              </h2>\n            </v-flex>\n            <v-flex>\n              <v-select\n                v-model=\"target\"\n                :items=\"possibleTargets\"\n                label=\"Platform\"/>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"useBullets\" label=\"Use Bulleted List\"/>\n            </v-flex>\n          </v-layout>\n          <v-divider class=\"mb-3\"/>\n          <v-layout row wrap>\n            <v-flex xs12>\n              <h2 class=\"title\">\n                Information\n              </h2>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"showByList\" label=\"List View\"/>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"showByTable\" label=\"Table View\"/>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"showName\" label=\"Squad Name\"/>\n            </v-flex>\n            <v-flex xs12 sm6 v-if=\"sparkResult\">\n              <v-checkbox v-model=\"showTotalSparkability\" :disabled=\"!showName && !showByTable\" label=\"Total Spark Percentage\"/>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"showPosition\" :disabled=\"!showByList\" label=\"Position\"/>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"showOrder\" label=\"BB Order\"/>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"showAction\" label=\"Action\"/>\n            </v-flex>\n            <v-flex xs12 sm6 v-if=\"sparkResult\">\n              <v-checkbox v-model=\"showSparkStatisticsByUnit\" label=\"Show Sparks per Unit\"/>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"showExtraSkill\" :disabled=\"!showByList\" label=\"Extra Skill\"/>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"showSpheres\" :disabled=\"!showByList\" label=\"Spheres\"/>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"showEnhancements\" :disabled=\"!showByList\" label=\"SP Enhancements\"/>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"abbreviate\" :disabled=\"!showByList\" label=\"Abbreviate Results\"/>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"showSpCost\" :disabled=\"!showByList || abbreviate || !showEnhancements\" label=\"SP Costs\"/>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"showShareLink\" label=\"Share Link\"/>\n            </v-flex>\n          </v-layout>\n        </v-layout>\n        <v-flex>\n          <text-viewer\n            style=\"height: 100%;\"\n            :inputText=\"markdownText\"\n            :value=\"markdownText\"/>\n        </v-flex>\n      </v-layout>\n      <v-layout row slot=\"code\">\n        <one-line-text-viewer\n          style=\"flex: 0 1 100%;\"\n          :inputText=\"squadShorthand\"\n          label=\"Code\"\n          :value=\"squadShorthand\"\n        />\n      </v-layout>\n      <v-layout row slot=\"link\">\n        <one-line-text-viewer\n          style=\"flex: 0 1 100%;\"\n          :inputText=\"shareLink\"\n          label=\"Link\"\n          :value=\"shareLink\"\n        />\n      </v-layout>\n    </card-tabs-container>\n    <v-divider/>\n    <v-card-actions>\n      <v-spacer/>\n      <v-btn flat @click=\"$emit('back')\">Back</v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\nimport { spCodeToIndex, getSpDescription, getSpCost } from '@/modules/core/units';\nimport { squadToShorthand } from '@/modules/core/squads';\nimport { squadUnitActions, squadFillerMapping, unitPositionMapping } from '@/modules/constants';\nimport CardTabsContainer from '@/components/CardTabsContainer';\nimport TextViewer from '@/components/TextViewer';\nimport OneLineTextViewer from '@/components/OneLineTextViewer';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\n\nexport default {\n  mixins: [GettersMixin],\n  props: {\n    squad: {\n      type: Object,\n      required: true,\n    },\n    sparkResult: {\n      required: false,\n    },\n  },\n  components: {\n    CardTabsContainer,\n    TextViewer,\n    OneLineTextViewer,\n  },\n  computed: {\n    tabConfig: () => ['markdown', 'code', 'link'].map(name => ({ name, slot: name })),\n    copyableJson () {\n      // don't need to share ID to export\n      // eslint-disable-next-line no-unused-vars\n      const { id, ...otherInfo } = this.squad;\n      return otherInfo;\n    },\n    markdownText () {\n      return this.squadToMarkdown(this.squad, this);\n    },\n    squadShorthand () {\n      return squadToShorthand(this.squad);\n    },\n    shareLink () {\n      const path = this.$router.resolve({ path: '/tools/squads/add', query: { import: this.squadShorthand }}).href;\n      return `${location.protocol}//${location.host}${location.pathname}${path}`;\n    },\n    possibleTargets: () => ['Discord', 'Reddit'],\n    sparkTextByUnit () {\n      const mapping = new Map();\n      if (this.sparkResult) {\n        this.squad.units.forEach(unit => {\n          const sparkUnitResult = this.sparkResult.squad.find(s => unit.position === s.position);\n          if (sparkUnitResult) {\n            mapping.set(unit, `(${sparkUnitResult.actualSparks}/${sparkUnitResult.possibleSparks})`);\n          }\n        });\n      }\n      return mapping;\n    },\n  },\n  data () {\n    return {\n      activeTabIndex: 0,\n      updateTime: new Date(), // used to reset copy text\n      showPosition: false,\n      showAction: false,\n      showOrder: false,\n      showName: false,\n      useBullets: false,\n      abbreviate: false,\n      showSpCost: false,\n      showShareLink: false,\n      showExtraSkill: false,\n      showSpheres: false,\n      showEnhancements: false,\n      showSparkStatisticsByUnit: true,\n      showTotalSparkability: true,\n      showByList: true,\n      showByTable: true,\n      target: 'Discord',\n    };\n  },\n  mounted () {\n    this.setWithPreset();\n  },\n  methods: {\n    squadToMarkdown (\n      squad = {},\n      options = {},\n    ) {\n      const {\n        showPosition = true,\n        showAction = true,\n        showOrder = true,\n        showName = false,\n        useBullets = true,\n        abbreviate = false,\n        showSpCost = true,\n        showShareLink = false,\n        showExtraSkill = false,\n        showSpheres = false,\n        showEnhancements = true,\n        showSparkStatisticsByUnit = true,\n        showTotalSparkability = true,\n        showByList = true,\n        showByTable = true,\n      } = options;\n\n      const sections = [];\n\n      if (showName) {\n        const nameLine = [\n          `${squad.name}`,\n          showTotalSparkability && this.sparkResult && `(${(this.sparkResult.weightedPercentage * 100).toFixed(2)}%)`,\n        ].filter(v => v).join(' ');\n        sections.push(`# ${nameLine}\\n`);\n      }\n      if (showByList) {\n        squad.units.forEach((unit, i) => {\n          const entry = [];\n          let prefix = useBullets ? '*' : '';\n          const isFillerUnit = unit.id === squadFillerMapping.ANY || unit.id === squadFillerMapping.EMPTY;\n          // name, position, BB order and type\n          entry.push([\n            prefix,\n            isFillerUnit && `**__${this.getUnit(unit.id).name || unit.id}__**`,\n            !isFillerUnit && [\n              `**__${this.getUnit(unit.id).rarity && `${this.getUnit(unit.id).rarity === 8 ? 'OE' : `${this.getUnit(unit.id).rarity}\\\\*`}`}`,\n              `${this.getUnit(unit.id).name || unit.id}__**`,\n              ].join(' '),\n            i === squad.lead && `**(${abbreviate ? 'L' : 'Leader'})**`,\n            i === squad.friend && `**(${abbreviate ? 'F' : 'Friend'})**`,\n            (showPosition || showOrder || showAction) && '-',\n            [\n              showPosition && unit.position,\n              [showOrder && unit.bbOrder, showAction && this.getActionText(unit)].filter(v => v).join('-'),\n            ].filter(v => v).join('; '),\n            showSparkStatisticsByUnit && this.sparkTextByUnit.get(unit),\n          ].filter(v => v).join(' '));\n\n          // indent one level for supplementary info\n          if (useBullets) {\n            prefix = '\\t*';\n          }\n\n          if (showExtraSkill && unit.es) {\n            entry.push([\n              prefix,\n              `**${abbreviate ? 'ES' : 'Extra Skill'}:**`,\n              this.getExtraSkill(unit.es).name || unit.es,\n            ].filter(v => v).join(' '));\n          }\n\n          if (showSpheres && Array.isArray(unit.spheres) && unit.spheres.length > 0) {\n            entry.push([\n              prefix,\n              '**Spheres:**',\n              unit.spheres.map(id => this.getItem(id).name || id).join(', '),\n            ].filter(v => v).join(' '));\n          }\n\n          if (showEnhancements && unit.sp && this.getSpCost(unit) > 0) {\n            entry.push([\n              prefix,\n              `**SP Enhancements (${this.getSpCost(unit)} SP):**`,\n              abbreviate && unit.sp,\n\n              // convert SP code to list of SP options\n              !abbreviate && ['\\n', this.getSpText(unit).map(skill => [\n                `\\t${useBullets ? `${prefix} ` : ''}`,\n                showSpCost && `[${skill.cost} SP] - `,\n                `**${skill.code}:** ${skill.text}`,\n              ].filter(v => v).join('')).join('\\n')].join(''),\n            ].filter(v => v).join(' '));\n          }\n\n          sections.push(`${entry.join('\\n')}\\n`);\n        });\n      }\n\n      if (showByTable) {\n        sections.push(`${this.getTableView(options)}\\n`);\n      }\n\n      if (showShareLink) {\n        const linkText = this.target === 'Reddit'\n          ? `[Save Squad](${this.shareLink})`\n          : `Save Squad: ${this.shareLink}`;\n        sections.push(linkText);\n      }\n\n      return sections.join('\\n');\n    },\n    getActionText (unit = {}) {\n      // default to SBB or below (depending on if the unit has it)\n      const action = unit.action ||\n        (this.getUnit(unit.id).sbb && squadUnitActions.SBB) ||\n        (this.getUnit(unit.id).bb && squadUnitActions.BB) ||\n        (squadUnitActions.ATK);\n      return action.toUpperCase();\n    },\n    getSpCost (unit = {}) {\n      const feSkills = this.getUnit(unit.id).feskills;\n      const enhancements = unit.sp;\n      return getSpCost(feSkills, enhancements);\n    },\n    getSpText (unit) {\n      const feSkills = this.getUnit(unit.id).feskills;\n      const enhancements = unit.sp;\n      if (!feSkills || !enhancements) {\n        return [];\n      }\n\n      return enhancements.split('')\n        .map(char => ({\n          code: char,\n          skill: feSkills[spCodeToIndex(char)],\n        }))\n        .filter(v => v.skill) // only get valid skills\n        .map(v => ({\n          code: v.code,\n          text: getSpDescription(v.skill),\n          cost: v.skill.skill.bp,\n        }));\n    },\n    setWithPreset () {\n      // shared settings\n      this.showOrder = true;\n      this.abbreviate = false;\n      this.showSpCost = true;\n      this.showShareLink = true;\n      this.showExtraSkill = true;\n      this.showSpheres = true;\n      this.showEnhancements = true;\n      this.showPosition = true;\n      this.showAction = true;\n\n      // individual settings\n      this.showName = this.target === 'Discord';\n      this.useBullets = this.target === 'Reddit';\n    },\n    getTableView (options) {\n      const {\n        showAction = true,\n        showOrder = true,\n        showName = false,\n        showSparkStatisticsByUnit = true,\n        showTotalSparkability = true,\n      } = options;\n      const { squad, getUnit, sparkTextByUnit, getActionText } = this;\n      const isDiscord = this.target === 'Discord';\n      const names = unitPositionMapping.map(position => {\n        const i = squad.units.findIndex(u => u.position === position);\n        const unit = squad.units[i];\n        const isFillerUnit = unit.id === squadFillerMapping.ANY || unit.id === squadFillerMapping.EMPTY;\n        // name, position, BB order and type\n        const nameLine = [\n          isFillerUnit && `**__${getUnit(unit.id).name || unit.id}__**`,\n          !isFillerUnit && [\n            `**__${getUnit(unit.id).rarity && `${getUnit(unit.id).rarity === 8 ? 'OE' : `${getUnit(unit.id).rarity}\\\\*`}`}`,\n            `${getUnit(unit.id).name || unit.id}__**`,\n            ].join(' '),\n          i === squad.lead && '**(L)**',\n          i === squad.friend && '**(F)**',\n          '-',\n          [\n            showOrder && unit.bbOrder,\n            showAction && getActionText(unit),\n          ].filter(v => v).join('-'),\n          showSparkStatisticsByUnit && sparkTextByUnit.get(unit),\n        ].filter(v => v).join(' ');\n        return isDiscord\n          ? nameLine.replace(/\\*\\*/g, '').replace(/__/g, '')\n          : nameLine;\n      });\n      const sparkTitle = (this.sparkResult && `${(this.sparkResult.weightedPercentage * 100).toFixed(2)}%`) || '';\n      const shouldShowSparkResults = showTotalSparkability && !showName;\n      let result;\n      if (isDiscord) {\n        // formatted code block\n        const maxLeftNameLength = names.reduce((acc, name, i) => Math.max(acc, i % 2 === 0 ? name.length : 0), 0);\n        const initialOutput = names.map((name, i) => `${name.padEnd(maxLeftNameLength, ' ')}${i % 2 === 0 ? ' | ' : '\\n'}`)\n          .join('').trim();\n        const CODE_BLOCK_INDICATOR = '```';\n        result = [\n          CODE_BLOCK_INDICATOR,\n          shouldShowSparkResults && sparkTitle,\n          initialOutput,\n          CODE_BLOCK_INDICATOR,\n        ].filter(v => v).join('\\n');\n      } else {\n        // markdown table\n        const initialOutput = names.map((name, i) => `${i % 2 === 0 ? '| ' : ''}${name}${i % 2 === 0 ? ' | ' : ' |\\n'}`);\n        result = [\n          `|${shouldShowSparkResults ? ` ${sparkTitle}` : ''} | |`,\n          '| --- | --- |',\n          initialOutput.join('').trim(),\n        ].join('\\n');\n      }\n\n      return result;\n    },\n  },\n  watch: {\n    target () {\n      this.setWithPreset();\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.squad-card--share {\n  .v-card__actions {\n    position: sticky;\n    bottom: 0;\n    background-color: inherit;\n\n    a:not(:hover):before {\n      background-color: inherit;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareSquadCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareSquadCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShareSquadCard.vue?vue&type=template&id=f653f098&\"\nimport script from \"./ShareSquadCard.vue?vue&type=script&lang=js&\"\nexport * from \"./ShareSquadCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ShareSquadCard.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SparkUnitEntryEditable.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SparkUnitEntryEditable.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadArenaSuggestionTable.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadArenaSuggestionTable.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"buff-expandable-list\"},[(_vm.isVisuallyLoadingList)?_c('loading-indicator',{attrs:{\"progress\":_vm.loadProgress,\"loadingMessage\":\"Loading list...\"}}):_vm._e(),(!_vm.isVisuallyLoadingList && _vm.sortedEffectIds.length === 0)?_c('div',{staticClass:\"my-2\"},[_vm._t(\"noentries\",[_c('span',[_vm._v(\"No entries of type [\"+_vm._s(_vm.effectType)+\"] were found.\")])])],2):_vm._e(),_c('delayed-v-for-expansion-panel',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isVisuallyLoadingList),expression:\"!isVisuallyLoadingList\"}],attrs:{\"entries\":_vm.sortedEffectIds,\"expand\":\"\",\"focusable\":\"\"},on:{\"start\":_vm.handleLoadStart,\"end\":_vm.handleLoadEnd,\"progress\":function ($p) { return _vm.loadProgress = $p; }},scopedSlots:_vm._u([{key:\"header\",fn:function(ref){\nvar arrayEntry = ref.arrayEntry;\nreturn [_c('div',{class:_vm.getEntryHeaderClasses(arrayEntry)},[_c('span',{staticClass:\"expandable-list-entry--title subheading\",domProps:{\"textContent\":_vm._s((arrayEntry + \": \" + (_vm.effectNameById[arrayEntry])))}}),_vm._t(\"allentrypreview\",_vm._l((_vm.getSourcesForEffectId(arrayEntry)),function(entry,i){return _c('div',{key:i},[_vm._v(\"\\n            \"+_vm._s(entry)+\"\\n          \")])}),{\"entries\":_vm.getSourcesForEffectId(arrayEntry),\"effectId\":arrayEntry})],2)]}},{key:\"default\",fn:function(ref){\nvar arrayEntry = ref.arrayEntry;\nvar index = ref.index;\nreturn [(_vm.viewedTables[index])?[_c('value-subgrid',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expandedTables[index]),expression:\"expandedTables[index]\"}],attrs:{\"properties\":_vm.propsById[arrayEntry],\"values\":_vm.getSourcesForEffectId(arrayEntry).map(function (e) { return _vm.getValueSubgridEntry(e.source, arrayEntry); }),\"allowOverflow\":true,\"minValueColumnWidth\":'300px',\"getTextForSource\":_vm.getTextForSource},scopedSlots:_vm._u([{key:\"value-header\",fn:function(ref){\nvar entry = ref.entry;\nreturn [_vm._t(\"value-header\",[_c('span',[_vm._v(_vm._s(entry.identifier))])],{\"entry\":entry.identifier})]}}],null,true)})]:_vm._e()]}}],null,true),model:{value:(_vm.expandedTables),callback:function ($$v) {_vm.expandedTables=$$v},expression:\"expandedTables\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"generic-value-subgrid\",style:(_vm.mainValueGridStyle)},[(_vm.showHeaders)?[_c('span',{staticClass:\"property-cell header-cell\"},[_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.lockPropertyColumn = !_vm.lockPropertyColumn}}},[_c('span',{staticStyle:{\"text-transform\":\"capitalize\"}},[_vm._v(\"Buff Property\")]),_c('v-icon',[_vm._v(_vm._s(_vm.lockPropertyColumn ? 'lock' : 'lock_open'))])],1)],1),_vm._l((_vm.values),function(entry,i){return _c('span',{key:i,staticClass:\"value-cell header-cell\",style:(_vm.convertNumberToColumnSpanStyle(_vm.columnCountMappingByValueEntry.get(entry)))},[_vm._t(\"value-header\",[_vm._v(\"\\n        \"+_vm._s(entry.identifier)+\"\\n      \")],{\"entry\":entry})],2)})]:_vm._e(),_vm._l((_vm.properties),function(prop,p){return [_c('span',{key:(prop + \"-\" + p + \"-property\"),class:_vm.getClassForProperty(prop, p),domProps:{\"textContent\":_vm._s(prop)}}),_vm._l((_vm.values),function(entry,e){return [_vm._l((entry.values),function(valueEntry,v){return [(prop === 'sourcePath')?_c('source-path-cell',{key:(prop + \"-\" + p + \"-\" + e + \"-\" + v + \"-custom-value\"),class:_vm.getClassForValue(v, entry.values, p, prop),attrs:{\"value\":_vm.getPropertyValue(prop, valueEntry),\"source\":entry.identifier,\"getTextForSource\":_vm.getTextForSource}}):(prop === 'triggeredOn')?_c('triggered-on-cell',{key:(prop + \"-\" + p + \"-\" + e + \"-\" + v + \"-custom-value\"),class:_vm.getClassForValue(v, entry.values, p, prop),attrs:{\"value\":_vm.getPropertyValue(prop, valueEntry)}}):_c('span',{key:(prop + \"-\" + p + \"-\" + e + \"-\" + v + \"-value\"),class:_vm.getClassForValue(v, entry.values, p, prop),domProps:{\"textContent\":_vm._s(_vm.getPropertyValue(prop, valueEntry))}})]})]})]})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"generic-source-path-cell\"},[_c('span',{style:(_vm.cellStyle),domProps:{\"textContent\":_vm._s(_vm.displayValue)}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span class=\"generic-source-path-cell\">\n    <span v-text=\"displayValue\" :style=\"cellStyle\"/>\n  </span>\n</template>\n\n<script>\nimport colors from 'vuetify/es5/util/colors';\nimport { safeGet } from '@/modules/utils';\n\nconst SOURCE_PATH_TO_MATERIAL_COLOR_MAPPING = Object.freeze({\n  'unit.ls': 'green darken-3',\n  'unit.es': 'orange darken-4',\n  'unit.bb': 'blue-grey',\n  'unit.sbb': 'yellow darken-3',\n  'unit.ubb': 'red darken-3',\n  'unit.sp': 'light-green darken-3',\n  'es': 'purple lighten-1',\n  'sphere': 'grey',\n});\n\nconst SOURCE_PATH_TO_TEXT_MAPPING = Object.freeze({\n  'unit.ls': 'Leader Skill',\n  'unit.es': 'Extra Skill',\n  'unit.bb': 'Brave Burst',\n  'unit.sbb': 'Super Brave Burst',\n  'unit.ubb': 'Ultimate Brave Burst',\n  'unit.sp': 'SP Enhancement',\n});\n\nexport default {\n  props: {\n    value: {\n      type: String,\n      default: '',\n    },\n    source: { // squad unit entry\n      type: Object,\n      default: () => {},\n    },\n    getTextForSource: {\n      type: Function,\n      required: true,\n    },\n  },\n  computed: {\n    materialColor () {\n      return SOURCE_PATH_TO_MATERIAL_COLOR_MAPPING[this.value] || 'grey';\n    },\n    hexColor () {\n      let [primaryColor, accent] = this.materialColor.split(' ');\n      if (primaryColor.includes('-')) {\n        const capitalize = str => [str[0].toUpperCase(), str.slice(1)].join('');\n        const colorSplit = primaryColor.split('-');\n        primaryColor = [colorSplit[0], colorSplit.slice(1).map(capitalize)].join('');\n      }\n      if (accent) {\n        accent = accent.replace(/-/g, '');\n      }\n      return safeGet(colors, [primaryColor, accent || 'base']);\n    },\n    cellStyle () {\n      return {\n        'border-color': this.hexColor,\n      };\n    },\n    displayValue () {\n      let displayValue = SOURCE_PATH_TO_TEXT_MAPPING[this.value];\n      displayValue = this.getTextForSource(this.value, this.source, displayValue) || displayValue;\n      return displayValue || this.value;\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.generic-source-path-cell {\n  display: flex;\n  span {\n    height: 100%;\n    flex: auto;\n    border: 4px solid grey;\n    padding: 0 1px;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SourcePathCell.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SourcePathCell.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SourcePathCell.vue?vue&type=template&id=7082eccb&\"\nimport script from \"./SourcePathCell.vue?vue&type=script&lang=js&\"\nexport * from \"./SourcePathCell.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SourcePathCell.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"generic-triggered-on-cell\"},[_c('span',{style:(_vm.cellStyle),domProps:{\"textContent\":_vm._s(_vm.displayValue)}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span class=\"generic-triggered-on-cell\">\n    <span v-text=\"displayValue\" :style=\"cellStyle\"/>\n  </span>\n</template>\n\n<script>\nimport colors from 'vuetify/es5/util/colors';\nimport { safeGet } from '@/modules/utils';\n\nconst BURST_TYPE_TO_MATERIAL_COLOR_MAPPING = Object.freeze({\n  bb: 'blue-grey',\n  sbb: 'yellow darken-3',\n  ubb: 'red darken-3',\n});\n\nconst BURST_TYPE_TO_TEXT_MAPPING = Object.freeze({\n  bb: 'Brave Burst',\n  sbb: 'Super Brave Burst',\n  ubb: 'Ultimate Brave Burst',\n});\n\nexport default {\n  props: {\n    value: {\n      type: String,\n      default: '',\n    },\n  },\n  computed: {\n    materialColor () {\n      return BURST_TYPE_TO_MATERIAL_COLOR_MAPPING[this.value];\n    },\n    hexColor () {\n      if (!this.materialColor) {\n        return 'transparent';\n      }\n      let [primaryColor, accent] = this.materialColor.split(' ');\n      if (primaryColor.includes('-')) {\n        const capitalize = str => [str[0].toUpperCase(), str.slice(1)].join('');\n        const colorSplit = primaryColor.split('-');\n        primaryColor = [colorSplit[0], colorSplit.slice(1).map(capitalize)].join('');\n      }\n      if (accent) {\n        accent = accent.replace(/-/g, '');\n      }\n      return safeGet(colors, [primaryColor, accent || 'base']);\n    },\n    cellStyle () {\n      return {\n        'border-color': this.hexColor,\n      };\n    },\n    displayValue () {\n      return BURST_TYPE_TO_TEXT_MAPPING[this.value] || this.value;\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.generic-triggered-on-cell {\n  display: flex;\n  span {\n    height: 100%;\n    flex: auto;\n    border-width: 4px;\n    border-style: solid;\n    padding: 0 1px;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TriggeredOnCell.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TriggeredOnCell.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TriggeredOnCell.vue?vue&type=template&id=0f80176a&\"\nimport script from \"./TriggeredOnCell.vue?vue&type=script&lang=js&\"\nexport * from \"./TriggeredOnCell.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TriggeredOnCell.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"generic-value-subgrid\" :style=\"mainValueGridStyle\">\n    <template v-if=\"showHeaders\">\n      <span class=\"property-cell header-cell\">\n        <v-btn flat @click=\"lockPropertyColumn = !lockPropertyColumn\">\n          <span style=\"text-transform: capitalize;\">Buff Property</span>\n          <v-icon>{{ lockPropertyColumn ? 'lock' : 'lock_open' }}</v-icon>\n        </v-btn>\n      </span>\n      <span\n        v-for=\"(entry, i) in values\" :key=\"i\"\n        :style=\"convertNumberToColumnSpanStyle(columnCountMappingByValueEntry.get(entry))\"\n        class=\"value-cell header-cell\"\n      >\n        <slot name=\"value-header\" :entry=\"entry\">\n          {{ entry.identifier }}\n        </slot>\n      </span>\n    </template>\n\n    <template v-for=\"(prop, p) in properties\">\n      <span\n        :class=\"getClassForProperty(prop, p)\"\n        :key=\"`${prop}-${p}-property`\"\n        v-text=\"prop\"\n      />\n      <template v-for=\"(entry, e) in values\">\n        <template v-for=\"(valueEntry, v) in entry.values\">\n          <source-path-cell\n            v-if=\"prop === 'sourcePath'\"\n            :key=\"`${prop}-${p}-${e}-${v}-custom-value`\"\n            :class=\"getClassForValue(v, entry.values, p, prop)\"\n            :value=\"getPropertyValue(prop, valueEntry)\"\n            :source=\"entry.identifier\"\n            :getTextForSource=\"getTextForSource\"\n          />\n          <triggered-on-cell\n            v-else-if=\"prop === 'triggeredOn'\"\n            :key=\"`${prop}-${p}-${e}-${v}-custom-value`\"\n            :class=\"getClassForValue(v, entry.values, p, prop)\"\n            :value=\"getPropertyValue(prop, valueEntry)\"\n          />\n          <span\n            v-else\n            :key=\"`${prop}-${p}-${e}-${v}-value`\"\n            :class=\"getClassForValue(v, entry.values, p, prop)\"\n            v-text=\"getPropertyValue(prop, valueEntry)\"\n          />\n        </template>\n      </template>\n    </template>\n  </div>\n</template>\n\n<script>\nimport SourcePathCell from './SourcePathCell';\nimport TriggeredOnCell from './TriggeredOnCell';\n\nexport default {\n  props: {\n    properties: {\n      type: Array,\n      default: () => [],\n    },\n    values: { // each value is an object with properties; takes up at least one column\n      type: Array,\n      default: () => [\n        {\n          identifier: {},\n          values: [],\n        },\n      ],\n    },\n    showHeaders: {\n      type: Boolean,\n      default: true,\n    },\n    allowOverflow: {\n      type: Boolean,\n      default: false,\n    },\n    minValueColumnWidth: {\n      type: String,\n      default: '5em',\n    },\n    freezePropertyColumn: {\n      type: Boolean,\n      default: false,\n    },\n    getTextForSource: {\n      type: Function,\n      // eslint-disable-next-line no-unused-vars\n      default: (path, source, initial) => initial || path,\n    },\n  },\n  components: {\n    SourcePathCell,\n    TriggeredOnCell,\n  },\n  computed: {\n    numValueColumns () {\n      const columnCountMapping = this.columnCountMappingByValueEntry;\n      return this.values\n        .reduce((acc, entry) => acc + columnCountMapping.get(entry), 0);\n    },\n    columnCountMappingByValueEntry () {\n      const mapping = new WeakMap();\n      const { properties } = this;\n      this.values.forEach(entry => {\n        const valuesWithApplicableProperties = entry.values.filter(v => properties.some(p => v.hasOwnProperty(p)));\n        const columnCount = Math.max(1, valuesWithApplicableProperties.length);\n        mapping.set(entry, columnCount);\n      });\n      return mapping;\n    },\n    mainValueGridStyle () {\n      const propertyColumnWidth = this.$vuetify.breakpoint.smAndDown ? '10em' : '17.5em';\n      const valueSubgridWidth = `minmax(${this.minValueColumnWidth}, 1fr)`;\n      const columnConfig = [propertyColumnWidth];\n      this.values.forEach(entry => {\n        const numColumns = this.columnCountMappingByValueEntry.get(entry);\n        if (numColumns > 1) {\n          columnConfig.push(`repeat(${numColumns}, minmax(calc(${this.minValueColumnWidth} / ${numColumns}), 1fr))`);\n        } else {\n          columnConfig.push(valueSubgridWidth);\n        }\n      });\n      return {\n        'grid-template-columns': columnConfig.join(' '),\n        overflow: (this.allowOverflow && 'auto') || undefined,\n      };\n    },\n    customCellsByPropertyName: () => [\n      'sourcePath',\n      'triggeredOn',\n    ],\n  },\n  data () {\n    return {\n      lockPropertyColumn: false,\n    };\n  },\n  mounted () {\n    this.lockPropertyColumn = this.freezePropertyColumn;\n  },\n  methods: {\n    getClassForProperty (property, index) {\n      return {\n        'property-cell': true,\n        [index % 2 === 0 ? 'even-row' : 'odd-row']: true,\n        'only-row': this.properties.length === 0,\n        'sticky-property-cell': this.lockPropertyColumn,\n      };\n    },\n    getClassForValue (valueEntryIndex, parentValuesArray, propertyIndex, propertyName) {\n      return {\n        'value-cell': true,\n        [propertyIndex % 2 === 0 ? 'even-row' : 'odd-row']: true,\n        'is-last-value-cell': valueEntryIndex === parentValuesArray.length - 1,\n        'is-custom-cell': this.isCustomCell(propertyName),\n      };\n    },\n    convertNumberToColumnSpanStyle (numColumns) {\n      return {\n        'grid-column-start': `span ${numColumns}`,\n      };\n    },\n    isProcBuffList (prop) {\n      return prop === 'triggered effect';\n    },\n    isCustomCell (prop) {\n      return this.customCellsByPropertyName.includes(prop);\n    },\n    getPropertyValue (prop, valueEntry) {\n      const value = valueEntry[prop] !== undefined ? valueEntry[prop] : '-';\n      const result = typeof value === 'object' ? JSON.stringify(value) : value;\n      return Array.isArray(value) && value.length === 0\n        ? `${result} (None)`\n        : result;\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.generic-value-subgrid {\n  --table-border-color: hsl(0, 0, 35%);\n  --table-background-color: var(--background-color-alt--lighten-1);\n  --table-border-settings: 1px solid var(--table-border-color);\n\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: 17.5em 1fr;\n  grid-auto-flow: stretch;\n  background-color: inherit;\n\n  // nested table\n  .generic-value-subgrid {\n    grid-template-columns: minmax(17.5em, auto) 1fr;\n  }\n\n  .even-row:not(.value-cell), .even-row.value-cell:not(:hover) {\n    &:not(.only-row) {\n      background-color: var(--table-border-color);\n    }\n  }\n\n  .odd-row:not(.value-cell), .odd-row.value-cell:not(:hover) {\n    background-color: inherit;\n  }\n\n  .value-cell:not(.header-cell):hover {\n    background-color: var(--background-color--card);\n  }\n\n  .value-cell.has-table:not(.header-cell):hover {\n    background-color: var(--background-color);\n  }\n\n  .header-cell {\n    font-weight: bold;\n    border-bottom: var(--table-border-settings);\n  }\n\n  .property-cell, .value-cell {\n    padding: 0.5em;\n    word-break: break-word;\n    hyphens: auto;\n    text-align: center;\n  }\n\n  .property-cell, .header-cell {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .value-cell.header-cell {\n    flex-direction: column;\n  }\n\n  .value-cell.is-custom-cell {\n    padding: 0;\n  }\n\n  .value-cell:not(.is-custom-cell) {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .property-cell span {\n    flex: 1 0 100%;\n    text-align: center;\n  }\n\n  .is-last-value-cell, .property-cell {\n    border-right: 2px solid var(--table-background-color);\n  }\n\n  .sticky-property-cell {\n    position: sticky;\n    left: 0;\n    border-right-color: white;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValueSubgrid.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValueSubgrid.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ValueSubgrid.vue?vue&type=template&id=125f73da&\"\nimport script from \"./ValueSubgrid.vue?vue&type=script&lang=js&\"\nexport * from \"./ValueSubgrid.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ValueSubgrid.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-expansion-panel',_vm._b({attrs:{\"value\":_vm.value},on:{\"input\":function ($v) { return _vm.$emit('input', $v); }}},'v-expansion-panel',_vm.$attrs,false),_vm._l((_vm.internalEntries),function(entry,i){return _c('v-expansion-panel-content',{key:_vm.getKeyFunction(entry, i)},[_c('template',{slot:\"header\"},[_vm._t(\"header\",[_vm._v(\"\\n        Header\\n      \")],{\"arrayEntry\":entry,\"index\":i})],2),_vm._t(\"default\",[_c('div',[_vm._v(_vm._s(entry))])],{\"arrayEntry\":entry,\"index\":i})],2)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-expansion-panel v-bind=\"$attrs\" :value=\"value\" @input=\"$v => $emit('input', $v)\">\n    <v-expansion-panel-content v-for=\"(entry, i) in internalEntries\" :key=\"getKeyFunction(entry, i)\">\n      <template slot=\"header\">\n        <slot name=\"header\" :arrayEntry=\"entry\" :index=\"i\">\n          Header\n        </slot>\n      </template>\n      <slot name=\"default\" :arrayEntry=\"entry\" :index=\"i\">\n        <div>{{ entry }}</div>\n      </slot>\n    </v-expansion-panel-content>\n  </v-expansion-panel>\n</template>\n\n<script>\nimport DelayedVForMixin from '@/components/DelayedVForMixin';\nexport default {\n  mixins: [DelayedVForMixin],\n  props: {\n    value: {\n      required: false,\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DelayedVForExpansionPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DelayedVForExpansionPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DelayedVForExpansionPanel.vue?vue&type=template&id=868f501a&\"\nimport script from \"./DelayedVForExpansionPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./DelayedVForExpansionPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section class=\"buff-expandable-list\">\n    <loading-indicator\n      v-if=\"isVisuallyLoadingList\"\n      :progress=\"loadProgress\"\n      loadingMessage=\"Loading list...\"\n    />\n    <div v-if=\"!isVisuallyLoadingList && sortedEffectIds.length === 0\" class=\"my-2\">\n      <slot name=\"noentries\">\n        <span>No entries of type [{{ effectType }}] were found.</span>\n      </slot>\n    </div>\n    <delayed-v-for-expansion-panel\n      v-show=\"!isVisuallyLoadingList\"\n      v-model=\"expandedTables\"\n      @start=\"handleLoadStart\"\n      @end=\"handleLoadEnd\"\n      @progress=\"$p => loadProgress = $p\"\n      :entries=\"sortedEffectIds\"\n      expand focusable\n    >\n      <template slot=\"header\" slot-scope=\"{ arrayEntry }\">\n        <div :class=\"getEntryHeaderClasses(arrayEntry)\">\n          <span class=\"expandable-list-entry--title subheading\" v-text=\"`${arrayEntry}: ${effectNameById[arrayEntry] }`\"/>\n          <slot\n            name=\"allentrypreview\"\n            :entries=\"getSourcesForEffectId(arrayEntry)\"\n            :effectId=\"arrayEntry\"\n          >\n            <div v-for=\"(entry, i) in getSourcesForEffectId(arrayEntry)\" :key=\"i\">\n              {{ entry }}\n            </div>\n          </slot>\n        </div>\n      </template>\n      <template slot-scope=\"{ arrayEntry, index }\">\n        <template v-if=\"viewedTables[index]\">\n          <value-subgrid\n            v-show=\"expandedTables[index]\"\n            :properties=\"propsById[arrayEntry]\"\n            :values=\"getSourcesForEffectId(arrayEntry).map(e => getValueSubgridEntry(e.source, arrayEntry))\"\n            :allowOverflow=\"true\"\n            :minValueColumnWidth=\"'300px'\"\n            :getTextForSource=\"getTextForSource\"\n          >\n            <template slot=\"value-header\" slot-scope=\"{ entry }\">\n              <slot name=\"value-header\" :entry=\"entry.identifier\">\n                <span>{{ entry.identifier }}</span>\n              </slot>\n            </template>\n          </value-subgrid>\n        </template>\n      </template>\n    </delayed-v-for-expansion-panel>\n  </section>\n</template>\n\n<script>\nimport LoadingDebouncer from '@/modules/LoadingDebouncer';\nimport { getEffectId } from '@/modules/EffectProcessor/processor-helper';\nimport { getEffectName, handleUnknownParams } from '@/modules/core/buffs';\nimport { weightedStringSort } from '@/modules/utils';\nimport { Logger } from '@/modules/Logger';\nimport ValueSubgrid from './ValueSubgrid';\nimport DelayedVForExpansionPanel from '@/components/Multidex/BuffList/DelayedVForExpansionPanel';\nimport LoadingIndicator from '@/components/LoadingIndicator';\n\nconst logger = new Logger({ prefix: '[BuffExpandableList]' });\nexport default {\n  props: {\n    sources: {\n      type: Array,\n      required: true,\n    },\n    getEffectsFromSource: {\n      type: Function,\n      default: () => [],\n    },\n    inputEffectMappingBySource: {\n      type: WeakMap,\n      default: () => new WeakMap(),\n    },\n    highlightedBuffIds: {\n      type: Array,\n      default: () => [],\n    },\n    effectType: {\n      type: String,\n      required: true,\n    },\n    getTextForSource: {\n      type: Function,\n      // eslint-disable-next-line no-unused-vars\n      default: (path, source) => path,\n    },\n  },\n  components: {\n    ValueSubgrid,\n    DelayedVForExpansionPanel,\n    LoadingIndicator,\n  },\n  computed: {\n    blacklistedKeys: () => Object.freeze([\n      'passive id',\n      'unknown passive id',\n      'proc id',\n      'unknown proc id',\n      'add to bb',\n      'add to sbb',\n      'add to ubb',\n      'trigger on bb',\n      'trigger on sbb',\n      'trigger on ubb',\n    ]),\n    weightedCompareOptions: () => Object.freeze({\n      beginning: [\n        'conditions',\n        'esConditions',\n        'effect delay time(ms)/frame',\n      ],\n      end: [\n        'passive target',\n        'target area',\n        'target type',\n        'buff turns',\n        'sp_type',\n        'sourceSpCode',\n        'triggeredOn',\n        'sourcePath',\n      ],\n    }),\n    // assumption: all effects are of the same type (passive, proc, etc)\n    effectsById () {\n      const { getEffectsFromSource, getEffectDetails, inputEffectMappingBySource } = this;\n      const mapping = this.sources.reduce((acc, entry) => {\n        const effects = inputEffectMappingBySource.get(entry) || getEffectsFromSource(entry);\n        effects.forEach(effect => {\n          const effectDetails = getEffectDetails(effect);\n          effectDetails.source = entry;\n          if (!acc[effectDetails.id]) {\n            acc[effectDetails.id] = [];\n          }\n          acc[effectDetails.id].push(Object.freeze(effectDetails));\n        });\n        return acc;\n      }, {});\n      return Object.freeze(mapping);\n    },\n    propsById () {\n      const { effectsById, weightedCompareOptions } = this;\n      const mapping = Object.keys(effectsById).reduce((acc, key) => {\n        const props = new Set();\n\n        const effects = effectsById[key];\n        effects.forEach(effectEntry => {\n          Object.keys(effectEntry.effect).forEach(prop => {\n            props.add(prop);\n          });\n        });\n        acc[key] = Object.freeze(Array.from(props).sort((a, b) => weightedStringSort(a, b, weightedCompareOptions)));\n        return acc;\n      }, {});\n      return Object.freeze(mapping);\n    },\n    sortedEffectIds () {\n      return Object.freeze(Object.keys(this.effectsById).sort((a, b) => +a - +b));\n    },\n    effectNameById () {\n      const idKey = `${this.effectType} id`;\n      const mapping = this.sortedEffectIds.reduce((acc, id) => {\n        acc[id] = getEffectName({ [idKey]: id });\n        return acc;\n      }, {});\n      return Object.freeze(mapping);\n    },\n  },\n  data () {\n    return {\n      expandedTables: [],\n      viewedTables: {},\n      valueSubgridEntryByEntryByEffectId: {},\n      loadStartToken: 0,\n      loadingList: true,\n      isVisuallyLoadingList: true,\n      loadingDebouncer: null,\n      highlightCheckerTimeout: null,\n      loadProgress: -1,\n    };\n  },\n  beforeDestroy () {\n    if (this.loadingDebouncer) {\n      this.loadingDebouncer.dispose();\n    }\n  },\n  methods: {\n    getEffectDetails (effect) {\n      const id = getEffectId(effect);\n      const filteredEffect = {};\n      const processedEffect = handleUnknownParams(effect);\n      Object.keys(processedEffect)\n        .filter(key => !this.blacklistedKeys.includes(key)) // get everything but the blacklisted keys\n        .forEach(key => {\n          filteredEffect[key] = processedEffect[key];\n        });\n      return { id, effect: filteredEffect };\n    },\n    handleLoadStart (startToken) {\n      this.loadStartToken = startToken;\n      this.loadingList = true;\n      this.loadProgress = -1;\n    },\n    handleLoadEnd (endToken) {\n      if (this.loadStartToken === endToken) {\n        this.loadingList = false;\n      }\n    },\n    getValueSubgridEntry (entry, effectId) {\n      if (!this.valueSubgridEntryByEntryByEffectId[effectId]) {\n        this.valueSubgridEntryByEntryByEffectId[effectId] = new WeakMap();\n      }\n      const valueSubgridCache = this.valueSubgridEntryByEntryByEffectId[effectId];\n      if (!valueSubgridCache.has(entry)) {\n        const subgridEntry = {\n          identifier: entry,\n          values: this.effectsById[effectId]\n            .filter(effect => effect.source === entry)\n            .map(e => e.effect),\n        };\n        valueSubgridCache.set(entry, subgridEntry);\n      }\n      return valueSubgridCache.get(entry);\n    },\n    toggleEffectView (i) {\n      this.expandedTables[i] = !this.expandedTables[i];\n    },\n    toggleAllEffectViews () {\n      if (this.expandedTables.length === this.sortedEffectIds.length) {\n        this.expandedTables = [];\n      } else {\n        this.expandedTables = this.sortedEffectIds.map((val, i) => i);\n      }\n    },\n    isEmptyArray (obj) {\n      return Array.isArray(obj) && obj.length === 0;\n    },\n    getSourcesForEffectId (id) {\n      const effectList = this.effectsById[id];\n      const sourcePathsBySource = new Map();\n      if (!effectList) {\n        logger.warn(`Missing effect id array [${id}]`, this.effectsById);\n      }\n      (effectList || []).forEach(entry => {\n        const sourcePaths = sourcePathsBySource.get(entry.source) || new Set();\n        sourcePaths.add(entry.effect.sourcePath);\n        sourcePathsBySource.set(entry.source, sourcePaths);\n      });\n      return Array.from(sourcePathsBySource.entries()).map(([source, sourcePaths]) => ({ source, sourcePaths: Array.from(sourcePaths) }));\n    },\n    isHighlightedHeader (id) {\n      return this.highlightedBuffIds.includes(id);\n    },\n    highlightHeaders () {\n      const allHighlightedHeaders = Array.from(this.$el.querySelectorAll('.highlighted-header'));\n      const isLightMode = !!this.$store.state.settings.lightMode;\n      const classesToAdd = ['blue', isLightMode ? 'lighten-4' : 'darken-4'];\n      allHighlightedHeaders.forEach(header => {\n        const expansionPanelWrapper = header.parentNode;\n        expansionPanelWrapper.classList.add(...classesToAdd);\n        header.classList.add('is-highlighted');\n      });\n    },\n    ensureHeadersAreHighlighted () {\n      if (!this.highlightCheckerTimeout) {\n        let noActionNecessaryCount = 0;\n        const runCheck = () => {\n          const hasUnhighlightedHeader = !!this.$el.querySelector('.highlighted-header:not(.is-highlighted)');\n          if (hasUnhighlightedHeader && !this.isVisuallyLoadingList) {\n            noActionNecessaryCount = 0;\n            this.highlightHeaders();\n            this.highlightCheckerTimeout = setTimeout(runCheck, 1000);\n          } else if (noActionNecessaryCount < 3) {\n            noActionNecessaryCount++;\n            this.highlightCheckerTimeout = setTimeout(runCheck, 1000);\n          } else {\n            this.highlightCheckerTimeout = null;\n          }\n        };\n        runCheck();\n      }\n    },\n    getEntryHeaderClasses (effectId) {\n      return {\n        'expandable-list-entry--header': true,\n        'highlighted-header': this.isHighlightedHeader(effectId),\n      };\n    },\n  },\n  watch: {\n    expandedTables (newValue) {\n      newValue.forEach((doShow, index) => {\n        if (doShow && this.viewedTables[index] !== true) {\n          this.viewedTables[index] = true;\n        }\n      });\n    },\n    loadingList (isLoading) {\n      if (!this.loadingDebouncer) {\n        this.loadingDebouncer = new LoadingDebouncer(val => {\n          this.isVisuallyLoadingList = val;\n        });\n      }\n      this.loadingDebouncer.setValue(() => this.loadingList);\n      this.$emit('loadstatechange', isLoading);\n    },\n    isVisuallyLoadingList (isLoading) {\n      if (!isLoading) {\n        this.ensureHeadersAreHighlighted();\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.buff-expandable-list {\n  .loading-indicator {\n    margin: 2em 0;\n  }\n\n  .v-expansion-panel__header {\n    padding-left: 8px;\n    padding-right: 8px;\n  }\n\n  .v-expansion-panel__body {\n    background-color: inherit;\n  }\n\n  .expandable-list-entry--header {\n    display: flex;\n    align-items: center;\n    flex-wrap: wrap;\n    justify-content: space-between;\n  }\n\n  .expandable-list-entry--title {\n    font-weight: bold;\n    word-break: break-word;\n  }\n\n  .expandable-list-entry--columns-preview {\n    display: flex;\n    margin-left: 1em;\n    justify-content: flex-end;\n    flex-wrap: wrap;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuffExpandableList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuffExpandableList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BuffExpandableList.vue?vue&type=template&id=d1fff352&\"\nimport script from \"./BuffExpandableList.vue?vue&type=script&lang=js&\"\nexport * from \"./BuffExpandableList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BuffExpandableList.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"6c1e57f53602970a34bb.worker.js\");\n};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-entry-card',{staticStyle:{\"height\":\"100%\"},attrs:{\"to\":_vm.to}},[_c('v-container',{staticClass:\"pa-3\",attrs:{\"fluid\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',[_c('div',{staticClass:\"d-flex-container items-center\"},[(_vm.hasSphereType)?_c('sphere-type-icon',{staticClass:\"mr-1\",attrs:{\"category\":_vm.entry['sphere type'],\"displaySize\":24}}):_vm._e(),_c('h1',{staticClass:\"subheading d-inline-block\",staticStyle:{\"word-break\":\"break-word\"}},[_c('b',{domProps:{\"textContent\":_vm._s(_vm.entry.name)}})])],1)])],1),_c('v-layout',{staticClass:\"d-align-items-center\",attrs:{\"row\":\"\"}},[_c('v-flex',{staticClass:\"text-xs-center pb-0\",attrs:{\"xs3\":\"\"}},[_c('item-thumbnail',{attrs:{\"src\":_vm.getImageUrl(_vm.entry.id, _vm.entry),\"rarity\":_vm.rarity,\"type\":_vm.entry.type,\"isRaidItem\":!!_vm.entry.raid,\"imageTitle\":_vm.entry.name,\"displayWidth\":_vm.thumbnailSize,\"displayHeight\":_vm.thumbnailSize}})],1),_c('v-flex',{staticClass:\"pb-0\",staticStyle:{\"word-break\":\"break-word\"},attrs:{\"xs9\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.entry.desc)+\"\\n      \")])],1),_c('v-layout',{staticClass:\"d-align-items-center\",attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('h2',{staticClass:\"subheading\"},[_vm._v(_vm._s(_vm.itemType))])]),_c('v-flex',{attrs:{\"xs3\":\"\"}},[_vm._v(\"\\n        x\"+_vm._s(_vm.entry.max_stack)+\"\\n      \")]),_c('v-flex',{attrs:{\"xs3\":\"\"}},[_c('div',{staticClass:\"d-flex-container items-center content-flex-end\"},[(_vm.rarity < 8)?_c('span',[_vm._v(_vm._s(_vm.rarity))]):_vm._e(),_c('rarity-icon',{class:{ 'ml-1': _vm.rarity !== 8 },attrs:{\"rarity\":_vm.rarity,\"displaySize\":18}})],1)])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <base-entry-card :to=\"to\" style=\"height: 100%;\">\n    <v-container fluid class=\"pa-3\">\n      <v-layout row>\n        <v-flex>\n          <div class=\"d-flex-container items-center\">\n            <sphere-type-icon\n              v-if=\"hasSphereType\"\n              :category=\"entry['sphere type']\"\n              :displaySize=\"24\"\n              class=\"mr-1\"/>\n            <h1 class=\"subheading d-inline-block\" style=\"word-break: break-word;\">\n              <b v-text=\"entry.name\"/>\n            </h1>\n          </div>\n        </v-flex>\n      </v-layout>\n      <v-layout row class=\"d-align-items-center\">\n        <v-flex xs3 class=\"text-xs-center pb-0\">\n          <item-thumbnail\n            :src=\"getImageUrl(entry.id, entry)\"\n            :rarity=\"rarity\"\n            :type=\"entry.type\"\n            :isRaidItem=\"!!entry.raid\"\n            :imageTitle=\"entry.name\"\n            :displayWidth=\"thumbnailSize\" :displayHeight=\"thumbnailSize\"/>\n        </v-flex>\n        <v-flex xs9 class=\"pb-0\" style=\"word-break: break-word;\">\n          {{ entry.desc }}\n        </v-flex>\n      </v-layout>\n      <v-layout row class=\"d-align-items-center\">\n        <v-flex xs6>\n          <h2 class=\"subheading\">{{ itemType }}</h2>\n        </v-flex>\n        <v-flex xs3>\n          x{{ entry.max_stack }}\n        </v-flex>\n        <v-flex xs3>\n          <div class=\"d-flex-container items-center content-flex-end\">\n            <span v-if=\"rarity < 8\">{{ rarity }}</span>\n            <rarity-icon :class=\"{ 'ml-1': rarity !== 8 }\" :rarity=\"rarity\" :displaySize=\"18\"/>\n          </div>\n        </v-flex>\n      </v-layout>\n    </v-container>\n  </base-entry-card>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport EntryCardMixin from '@/components/Multidex/BaseEntryCardMixin';\nimport SphereTypeIcon from '@/components/Multidex/Items/SphereTypeIcon';\nimport RarityIcon from '@/components/Multidex/RarityIcon';\nimport ItemThumbnail from '@/components/Multidex/Items/ItemThumbnail';\nimport { getItemType, isSphere } from '@/modules/core/items';\n\nexport default {\n  mixins: [EntryCardMixin],\n  components: {\n    SphereTypeIcon,\n    RarityIcon,\n    ItemThumbnail,\n  },\n  computed: {\n    ...mapGetters('items', ['getImageUrl']),\n    rarity () {\n      return this.entry.rarity;\n    },\n    hasSphereType () {\n      return isSphere(this.entry);\n    },\n    itemType () {\n      return getItemType(this.entry);\n    },\n    thumbnailSize () {\n      const breakpoint = this.$vuetify.breakpoint;\n      if (breakpoint.xlOnly) {\n        return 64;\n      } else if (breakpoint.mdAndUp) {\n        return 56;\n      } else {\n        return 48;\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EntryCard.vue?vue&type=template&id=01c49f58&\"\nimport script from \"./EntryCard.vue?vue&type=script&lang=js&\"\nexport * from \"./EntryCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { getHighestRarityUnit } from './units';\nimport { getSphereCategory } from './items';\nimport { targetTypes, squadBuffTypes } from '@/modules/constants';\nimport { getEffectsList } from './buffs';\n\nexport function parseExtraSkillConditions (effect) {\n  const parsedConditions = { unit: [], item: [], sphereType: [] };\n  if (!effect.conditions || effect.conditions.length === 0) {\n    return parsedConditions;\n  }\n\n  effect.conditions.forEach(condition => {\n    if (condition['sphere category required'] !== undefined) {\n      // parsedConditions.sphereType.push(`${condition['sphere category required']} sphere`);\n      parsedConditions.sphereType.push(condition['sphere category required (raw)']);\n    } else if (condition['item required'] !== undefined) {\n      if (Array.isArray(condition['item required']) && condition['item required'].length > 0) {\n        condition['item required'].forEach(item => {\n          if (!parsedConditions.item.includes(item)) {\n            parsedConditions.item.push(item);\n          }\n        });\n      } else {\n        parsedConditions.item.push(condition['item required']);\n      }\n    } else if (condition['unit required'] !== undefined) {\n      if (Array.isArray(condition['unit required']) && condition['unit required'].length > 0) {\n        condition['unit required'].forEach(unit => {\n          if (!parsedConditions.unit.includes(unit)) {\n            parsedConditions.unit.push(unit);\n          }\n        });\n      } else {\n        parsedConditions.unit.push(condition['unit required']);\n      }\n    } else if (condition.unknown !== undefined) {\n      parsedConditions.item.push(`unknown sphere type ${condition['unknown']}`);\n    }\n  });\n\n  return parsedConditions;\n}\n\nexport function conditionHelperGetUnitNames (units = [], unitById = (id) => ({ name: id, id })) {\n  return units.map(entry => {\n    const names = [];\n    if (entry.name) {\n      names.push(entry.name);\n    } else {\n      const id = (entry.id) ? entry.id.toString() : entry.toString();\n      if (+id % 10 === 0) {\n        const unit = getHighestRarityUnit(+id, unitById) || {};\n        names.push(`any evolution of ${unit.name || id}`);\n      } else {\n        // specify a specific unit\n        const unit = unitById(id) || {};\n        names.push(unit.name || id);\n      }\n    }\n    return names;\n  }).reduce((acc, val) => acc.concat(val), []);\n}\n\nexport function conditionHelperGetItemNames (items = [], itemById = (id) => ({ name: id, id })) {\n  return items.map(id => {\n    const item = itemById(id.toString()) || {};\n    return item.name || id;\n  });\n}\n\nexport function convertParsedConditionsToMessage ({ unit = [], item = [], sphereType = [] }, { unitById, itemById }) {\n  const conditions = [];\n\n  if (unit.length > 0) {\n    const names = conditionHelperGetUnitNames(unit, unitById);\n    if (unit.length === 1 && names.length === 1) {\n      conditions.push(`${names[0]} is in squad`);\n    } else {\n      conditions.push(`${names.join(' or ')} are in squad`);\n    }\n  }\n\n  if (item.length > 0) {\n    const names = conditionHelperGetItemNames(item, itemById);\n    if (item.length === 1) {\n      conditions.push(`${names[0]} is equipped`);\n    } else {\n      conditions.push(`${names.join(' or ')} are equipped`);\n    }\n  }\n\n  if (sphereType.length > 0) {\n    const names = sphereType.map(c => getSphereCategory(+c));\n    if (sphereType.length === 1) {\n      conditions.push(`${names[0]} sphere is equipped`);\n    } else {\n      conditions.push(`${names.join(' or ')} spheres are equipped`);\n    }\n  }\n\n  return conditions.join(' or ');\n}\n\nexport function splitEffectsByCondition (effects = [], { unitById, itemById }) {\n  const conditionDictionary = {};\n  conditionDictionary['No Condition'] = effects.filter(e => e.conditions.length === 0);\n\n  // parse conditional effects\n  effects.filter(e => e.conditions.length > 0)\n    .forEach(effect => {\n      const message = convertParsedConditionsToMessage(parseExtraSkillConditions(effect), { unitById, itemById });\n      if (!conditionDictionary[message]) {\n        conditionDictionary[message] = [];\n      }\n      conditionDictionary[message].push(effect);\n    });\n\n  return Object.entries(conditionDictionary)\n    .map(([condition, parsedEffects]) => ({\n      condition,\n      // remove conditions field from effect entry\n      // eslint-disable-next-line\n      effects: parsedEffects.map(({ conditions, ...effect }) => effect),\n    }))\n    .filter(({ effects }) => effects.length > 0);\n}\n\nexport function isValidSkill (skill) {\n  const expectedFields = ['rarity', 'name', 'id', 'desc'];\n  return typeof skill === 'object' && expectedFields.every(f => skill[f] !== undefined);\n}\n\nexport function getEmptySkill () {\n  return {\n    id: 0,\n    name: 'None',\n    desc: 'No Extra Skill selected',\n    rarity: 0,\n  };\n}\n\nexport function getExtraSkillEffects (skill = {}) {\n  return skill && Array.isArray(skill.effects)\n    ? Array.from(skill.effects)\n    : [];\n}\n\nexport function getEffectsListForExtraSkill ({\n  skill = {},\n  target = targetTypes.PARTY,\n  effectType = squadBuffTypes.PROC,\n}) {\n  const effects = getExtraSkillEffects(skill)\n    .map(e => ({ ...e, sourcePath: 'es' }));\n  return getEffectsList({\n    elgifEffects: effects,\n    target,\n    effectType,\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('generic-sprite-icon',{attrs:{\"iconTitle\":_vm.label,\"iconWidth\":_vm.sheetSize[0],\"iconHeight\":_vm.sheetSize[1],\"sheetWidth\":_vm.sheetSize[0],\"sheetHeight\":_vm.sheetSize[1],\"displayWidth\":_vm.displaySize,\"displayHeight\":_vm.displaySize,\"src\":_vm.iconSrc,\"iconX\":0,\"iconY\":0}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <generic-sprite-icon\n    :iconTitle=\"label\"\n    :iconWidth=\"sheetSize[0]\" :iconHeight=\"sheetSize[1]\"\n    :sheetWidth=\"sheetSize[0]\" :sheetHeight=\"sheetSize[1]\"\n    :displayWidth=\"displaySize\" :displayHeight=\"displaySize\"\n    :src=\"iconSrc\"\n    :iconX=\"0\" :iconY=\"0\"/>\n</template>\n\n<script>\nimport GenericSpriteIcon from '@/components/GenericSpriteIcon';\n\nexport default {\n  props: {\n    displaySize: {\n      type: Number,\n      default: 52,\n    },\n  },\n  components: {\n    GenericSpriteIcon,\n  },\n  computed: {\n    label: () => 'Leader Unit',\n    iconSrc () {\n      return require('@/assets/battle_leader_icon.png');\n    },\n    sheetSize () {\n      return [17, 22];\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MiniLeaderIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MiniLeaderIcon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MiniLeaderIcon.vue?vue&type=template&id=7c2890fa&\"\nimport script from \"./MiniLeaderIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./MiniLeaderIcon.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SourcePathCell.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SourcePathCell.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-selector',{attrs:{\"showCancelButton\":_vm.showCancelButton,\"value\":_vm.nameFilter,\"hasSelection\":_vm.hasSelection,\"requiredModules\":_vm.requiredModules,\"allEntryIds\":_vm.allIds},on:{\"input\":function ($i) { return _vm.nameFilter = ($i || '').toLowerCase(); },\"cancel\":function($event){return _vm.$emit('cancel')}},scopedSlots:_vm._u([{key:\"entries\",fn:function(ref){\nvar entries = ref.entries;\nreturn _c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((entries),function(entry){return _c('v-flex',{key:entry,attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\",\"xl3\":\"\"}},[_c('entry-card',{staticClass:\"ma-2\",staticStyle:{\"background\":\"var(--background-color)\",\"cursor\":\"pointer\"},attrs:{\"entry\":_vm.pageDb[entry]},nativeOn:{\"click\":function($event){return _vm.sendEntry(entry)}}})],1)}),1)}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <base-selector\n    :showCancelButton=\"showCancelButton\"\n    :value=\"nameFilter\"\n    :hasSelection=\"hasSelection\"\n    @input=\"$i => nameFilter = ($i || '').toLowerCase()\"\n    @cancel=\"$emit('cancel')\"\n    :requiredModules=\"requiredModules\"\n    :allEntryIds=\"allIds\">\n    <v-layout row wrap slot=\"entries\" slot-scope=\"{ entries }\">\n      <v-flex\n        v-for=\"entry in entries\"\n        :key=\"entry\"\n        xs12 sm6 md4 xl3>\n        <entry-card\n          class=\"ma-2\"\n          style=\"background: var(--background-color); cursor: pointer;\"\n          @click.native=\"sendEntry(entry)\"\n          :entry=\"pageDb[entry]\"/>\n      </v-flex>\n    </v-layout>\n  </base-selector>\n</template>\n\n<script>\nimport BaseSelector from '@/components/Tools/Squads/MultidexSelectors/BaseSelector';\nimport EntryCard from '@/components/Multidex/Units/EntryCard';\nimport { makeMultidexTableInstance } from '@/modules/BfmtDatabase/client';\n\nconst dbClient = makeMultidexTableInstance('units');\nexport default {\n  props: {\n    showCancelButton: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  components: {\n    BaseSelector,\n    EntryCard,\n  },\n  computed: {\n    requiredModules () {\n      return ['units'];\n    },\n    pageDb () {\n      return this.$store.state.units.pageDb;\n    },\n    allIds () {\n      const allKeys = Object.keys(this.pageDb);\n      return !this.nameFilter\n        ? allKeys\n        : allKeys.filter(k => this.hasName(this.pageDb[k].name, this.nameFilter));\n    },\n  },\n  data () {\n    return {\n      nameFilter: '',\n      hasSelection: false,\n    };\n  },\n  methods: {\n    hasName (name = '', query = '') {\n      return name.toLowerCase().includes(query);\n    },\n    sendEntry (id) {\n      this.hasSelection = true;\n      this.$emit('input', {\n        id,\n        data: dbClient.getById({\n          server: this.$store.state.settings.activeServer,\n          id,\n        }).catch(() => ({})),\n      });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UnitSelector.vue?vue&type=template&id=e48749a6&\"\nimport script from \"./UnitSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./UnitSelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('table',{staticClass:\"sp-table\"},[_c('thead',[_c('th',{staticClass:\"sp-column\"},[_c('v-checkbox',{staticClass:\"mt-0\",attrs:{\"label\":(_vm.activeSkillSum + \" SP\"),\"input-value\":_vm.overallState === 'all',\"indeterminate\":_vm.overallState === 'some',\"hide-details\":\"\"},nativeOn:{\"click\":function($event){return _vm.toggleOverallState($event)}}})],1),_c('th',{staticClass:\"type-column\"},[_c('v-subheader',{staticClass:\"flex-container align-center justify-center px-0\"},[_vm._v(\"Type\")])],1),_c('th',{staticClass:\"description-column\"},[_c('v-subheader',{staticClass:\"flex-container align-center px-0\"},[_vm._v(\"Description\")])],1)]),_c('tbody',[_vm._l((_vm.feSkills),function(spEntry,index){return [_c('tr',{key:(index + \"-content\"),class:(\"content-row content-row--\" + (index % 2 === 0 ? 'even' : 'odd'))},[_c('td',{staticClass:\"sp-column\"},[_c('v-checkbox',{attrs:{\"label\":((spEntry.skill.bp) + \" SP\"),\"input-value\":_vm.selectedSpEntries.includes(_vm.spIndexToCode(index))},nativeOn:{\"click\":function($event){return _vm.toggleSpEntry(index, spEntry)}}})],1),_c('td',{staticClass:\"type-column text-xs-center\"},[_c('sp-icon',{attrs:{\"category\":+spEntry.category,\"displaySize\":24}})],1),_c('td',{staticClass:\"description-column py-2\"},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\",\"justify-space-between\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm8\":\"\"}},[_c('span',{staticClass:\"d-block\",domProps:{\"innerHTML\":_vm._s(_vm.getSpDescription(index))}}),(spEntry.dependency)?_c('i',[_vm._v(\"\\n                \"+_vm._s(_vm.getSpDependencyText(spEntry))+\"\\n              \")]):_vm._e()]),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\"}},[(!_vm.showTables.includes(index))?_c('v-btn',{attrs:{\"block\":\"\",\"flat\":\"\"},on:{\"click\":function($event){return _vm.showTables.push(index)}}},[_vm._v(\"\\n                Show Data\\n              \")]):_c('v-btn',{attrs:{\"block\":\"\",\"flat\":\"\"},on:{\"click\":function($event){_vm.showTables = _vm.showTables.filter(function (elem) { return elem !== index; })}}},[_vm._v(\"\\n                Hide Data\\n              \")])],1)],1)],1)]),_c('v-slide-y-transition',{key:(index + \"-table\")},[_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTables.includes(index)),expression:\"showTables.includes(index)\"}],class:(\"buff-row buff-row--\" + (index % 2 === 0 ? 'even' : 'odd'))},[_c('td',{staticStyle:{\"overflow-x\":\"auto\"},attrs:{\"colspan\":\"3\"}},[_c('buff-table',{staticClass:\"mb-2\",attrs:{\"effects\":_vm.getSpEffects(spEntry, true),\"showHeaders\":true}})],1)])])]})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <table class=\"sp-table\">\n    <thead>\n      <th class=\"sp-column\">\n        <v-checkbox\n          class=\"mt-0\"\n          :label=\"`${activeSkillSum} SP`\"\n          :input-value=\"overallState === 'all'\"\n          :indeterminate=\"overallState === 'some'\"\n          @click.native=\"toggleOverallState\"\n          hide-details/>\n      </th>\n      <th class=\"type-column\">\n        <v-subheader class=\"flex-container align-center justify-center px-0\">Type</v-subheader>\n      </th>\n      <th class=\"description-column\">\n        <v-subheader class=\"flex-container align-center px-0\">Description</v-subheader>\n      </th>\n    </thead>\n    <tbody>\n      <template v-for=\"(spEntry, index) in feSkills\">\n        <tr :key=\"`${index}-content`\" :class=\"`content-row content-row--${index % 2 === 0 ? 'even' : 'odd'}`\">\n          <td class=\"sp-column\">\n            <v-checkbox\n              :label=\"`${spEntry.skill.bp} SP`\"\n              :input-value=\"selectedSpEntries.includes(spIndexToCode(index))\"\n              @click.native=\"toggleSpEntry(index, spEntry)\"\n            />\n          </td>\n          <td class=\"type-column text-xs-center\">\n            <sp-icon :category=\"+spEntry.category\" :displaySize=\"24\"/>\n          </td>\n          <td class=\"description-column py-2\">\n            <v-layout row wrap align-center justify-space-between>\n              <v-flex xs12 sm8>\n                <span class=\"d-block\" v-html=\"getSpDescription(index)\"/>\n                <i v-if=\"spEntry.dependency\">\n                  {{ getSpDependencyText(spEntry) }}\n                </i>\n              </v-flex>\n              <v-flex xs12 sm4>\n                <v-btn\n                  v-if=\"!showTables.includes(index)\"\n                  block flat\n                  @click=\"showTables.push(index)\">\n                  Show Data\n                </v-btn>\n                <v-btn\n                  v-else\n                  block flat\n                  @click=\"showTables = showTables.filter(elem => elem !== index)\">\n                  Hide Data\n                </v-btn>\n              </v-flex>\n            </v-layout>\n          </td>\n        </tr>\n        <v-slide-y-transition :key=\"`${index}-table`\">\n          <tr\n            v-show=\"showTables.includes(index)\"\n            :class=\"`buff-row buff-row--${index % 2 === 0 ? 'even' : 'odd'}`\">\n            <td colspan=\"3\" style=\"overflow-x: auto;\">\n              <buff-table\n                class=\"mb-2\"\n                :effects=\"getSpEffects(spEntry, true)\"\n                :showHeaders=\"true\"/>\n            </td>\n          </tr>\n        </v-slide-y-transition>\n      </template>\n    </tbody>\n  </table>\n</template>\n\n<script>\nimport {\n  getSpEntryEffects,\n  spIndexToCode,\n  getSpCost,\n  getAllDependenciesFromSpEntry,\n  getAllEntriesThatDependOnSpEntry,\n  getSpDescription,\n  getSpDependencyText,\n} from '@/modules/core/units';\nimport debounce from 'lodash/debounce';\nimport SpIcon from '@/components/Multidex/Units/SpIcon';\nimport BuffTable from '@/components/Multidex/BuffTableGrid/MainTable';\n\nexport default {\n  props: {\n    feSkills: {\n      type: Array,\n      required: true,\n    },\n    value: {\n      type: String,\n      default: '',\n    },\n  },\n  components: {\n    SpIcon,\n    BuffTable,\n  },\n  computed: {\n    allEnhancementsCode () {\n      return this.feSkills.map((_, i) => spIndexToCode(i)).join('');\n    },\n    allEnhancementsSum () {\n      return getSpCost(this.feSkills, this.allEnhancementsCode);\n    },\n    overallState () {\n      if (this.activeSkillSum === this.allEnhancementsSum) {\n        return 'all';\n      } else if (this.activeSkillSum === 0) {\n        return 'none';\n      } else {\n        return 'some';\n      }\n    },\n    allEffects () {\n      return !this.feSkills ? [] : this.feSkills\n        .map(s => this.getSpEffects(s, false))\n        .reduce((acc, val) => acc.concat(val), []);\n    },\n  },\n  data () {\n    return {\n      selectedSpEntries: [],\n      activeSkillSum: 0,\n      showTables: [],\n      effectCache: new WeakMap(),\n      cacheChangeToken: Date.now(),\n    };\n  },\n  mounted () {\n    this.computeActiveSum();\n  },\n  methods: {\n    getSpEffects (spEntry, useCache = false) {\n      if (useCache) {\n        if (!this.effectCache.has(spEntry)) {\n          this.effectCache.set(spEntry, getSpEntryEffects(spEntry));\n          this.cacheExchangeToken = Date.now();\n        }\n        return this.effectCache.get(spEntry);\n      } else {\n        return getSpEntryEffects(spEntry);\n      }\n    },\n    getSpDescription (entryIndex) {\n      return `<b>${spIndexToCode(entryIndex)}</b>: ${getSpDescription(this.feSkills[entryIndex])}`;\n    },\n    getSpDependencyText (spEntry) {\n      return getSpDependencyText(spEntry, this.feSkills);\n    },\n    spIndexToCode,\n    toggleOverallState () {\n      if (this.overallState === 'all') {\n        this.selectedSpEntries = [];\n      } else {\n        this.selectedSpEntries = this.allEnhancementsCode.split('');\n      }\n    },\n    computeActiveSum: debounce(function () {\n      this.activeSkillSum = getSpCost(this.feSkills, this.selectedSpEntries.join(''));\n    }, 50),\n    toggleSpEntry (index, spEntry) {\n      const code = spIndexToCode(index);\n      const isCurrentlyActive = this.selectedSpEntries.includes(code);\n      let newEntries = this.selectedSpEntries.slice();\n      if (isCurrentlyActive) {\n        // toggle off entry and entries dependent on it\n        const dependentEntries = getAllEntriesThatDependOnSpEntry(spEntry, this.feSkills);\n        newEntries = newEntries.filter(activeCode => {\n          return activeCode !== code && !dependentEntries.includes(activeCode);\n        });\n      } else {\n        // toggle on entry and entries it depends on\n        newEntries.push(code);\n\n        const dependencies = getAllDependenciesFromSpEntry(spEntry, this.feSkills);\n        dependencies.forEach(depCode => {\n          if (!newEntries.includes(depCode)) {\n            newEntries.push(depCode);\n          }\n        });\n      }\n\n      this.selectedSpEntries = newEntries;\n    },\n  },\n  watch: {\n    value: {\n      immediate: true,\n      handler (newValue) {\n        this.selectedSpEntries = newValue.split('');\n      },\n    },\n    selectedSpEntries (newValue) {\n      this.computeActiveSum();\n      const enhancementCode = newValue.slice().sort().join('');\n      if (enhancementCode !== this.value) {\n        this.$emit('input', enhancementCode);\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\ntable.sp-table {\n  --table-border-color: var(--background-color-alt);\n  --table-background-color: var(--background-color-alt--lighten-1);\n  --table-border-settings: 1px solid var(--table-border-color);\n\n  table-layout: fixed;\n  width: 100%;\n  border-collapse: collapse;\n\n  & > thead, & > tbody {\n    .sp-column {\n      width: 6.5em;\n    }\n    .type-column {\n      width: 3.5em;\n    }\n  }\n\n  & > thead > th {\n    font-weight: bold;\n    border-bottom: var(--table-border-settings);\n  }\n\n  & > tbody > tr {\n    &.content-row--odd, &.buff-row--odd {\n      background-color: var(--table-border-color);\n    }\n\n    &.buff-row {\n      overflow-x: auto;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpBuildTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpBuildTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SpBuildTable.vue?vue&type=template&id=2c20c877&\"\nimport script from \"./SpBuildTable.vue?vue&type=script&lang=js&\"\nexport * from \"./SpBuildTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SpBuildTable.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('module-checker',{attrs:{\"requiredModules\":_vm.requiredModules,\"ensureDbSync\":true}},[_c('v-container',[_c('v-layout',{attrs:{\"column\":\"\"}},[_c('v-flex',[_c('v-card',[_c('card-tabs-container',{attrs:{\"tabs\":_vm.tabConfig},model:{value:(_vm.activeTabIndex),callback:function ($$v) {_vm.activeTabIndex=$$v},expression:\"activeTabIndex\"}},[_c('v-layout',{attrs:{\"slot\":\"squad\",\"column\":\"\"},slot:\"squad\"},[_c('v-flex',[_c('squad-list-card-editable',{attrs:{\"flat\":\"\",\"squad\":_vm.squad,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"isLoadingInParent\":_vm.isLoadingSquadData},on:{\"selectedindex\":function ($ev) { return _vm.selectedIndex = $ev; },\"newsquad\":function ($ev) { return _vm.squad = $ev; },\"newunits\":function ($ev) { return _vm.squad.units = $ev; },\"save\":_vm.onSuccessfulSave}})],1)],1),_c('v-layout',{attrs:{\"slot\":\"import-code\",\"column\":\"\"},slot:\"import-code\"},[_c('v-flex',[_c('v-text-field',{model:{value:(_vm.inputCode),callback:function ($$v) {_vm.inputCode=$$v},expression:\"inputCode\"}})],1),(_vm.parsingCode)?_c('v-flex',[_c('loading-indicator',{attrs:{\"loadingMessage\":\"Parsing input code\"}})],1):(_vm.parseState.type)?_c('v-flex',[_c('v-alert',{staticClass:\"squad-message-alert\",attrs:{\"outline\":\"\",\"value\":true,\"type\":_vm.parseState.type}},[_c('div',[_c('div',{staticClass:\"d-flex-container items-center\"},[_c('span',{staticStyle:{\"flex\":\"auto\"}},[_vm._v(_vm._s(_vm.parseState.message))]),(_vm.warningMessages.length > 0)?_c('v-btn',{staticStyle:{\"flex\":\"none\"},attrs:{\"flat\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.showWarnings = !_vm.showWarnings}}},[_c('v-icon',[_vm._v(_vm._s(_vm.showWarnings ? 'keyboard_arrow_up' : 'keyboard_arrow_down'))])],1):_vm._e()],1),(_vm.warningMessages.length > 0)?_c('div',[_c('v-expansion-panel',{attrs:{\"value\":_vm.showWarnings ? 0 : -1},on:{\"input\":function ($val) { return _vm.showWarnings = $val === 0; }}},[_c('v-expansion-panel-content',{key:0},[_c('v-list',_vm._l((_vm.warningMessages),function(message){return _c('v-list-tile',{key:message},[_c('v-list-tile-content',[_c('v-list-tile-title',{staticClass:\"pl-2\"},[_vm._v(\"\\n                                  \"+_vm._s(message)+\"\\n                                \")])],1)],1)}),1)],1)],1)],1):_vm._e()])])],1):_vm._e(),_c('v-layout',{attrs:{\"justify-end\":\"\"}},[_c('v-flex',{staticStyle:{\"flex-grow\":\"0\"}},[_c('v-btn',{attrs:{\"disabled\":!_vm.inputCode || _vm.parsingCode,\"flat\":\"\"},on:{\"click\":_vm.attemptSquadImport}},[_vm._v(\"\\n                    Import\\n                  \")])],1)],1)],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <module-checker\n    :requiredModules=\"requiredModules\"\n    :ensureDbSync=\"true\">\n    <v-container>\n      <v-layout column>\n        <v-flex>\n          <v-card>\n            <card-tabs-container :tabs=\"tabConfig\" v-model=\"activeTabIndex\">\n              <v-layout column slot=\"squad\">\n                <v-flex>\n                  <squad-list-card-editable\n                    flat\n                    @selectedindex=\"$ev => selectedIndex = $ev\"\n                    @newsquad=\"$ev => squad = $ev\"\n                    @newunits=\"$ev => squad.units = $ev\"\n                    @save=\"onSuccessfulSave\"\n                    :squad=\"squad\"\n                    :getUnit=\"getUnit\"\n                    :getItem=\"getItem\"\n                    :getExtraSkill=\"getExtraSkill\"\n                    :isLoadingInParent=\"isLoadingSquadData\"/>\n                </v-flex>\n              </v-layout>\n              <v-layout column slot=\"import-code\">\n                <v-flex>\n                  <v-text-field v-model=\"inputCode\"/>\n                </v-flex>\n                <v-flex v-if=\"parsingCode\">\n                  <loading-indicator loadingMessage=\"Parsing input code\"/>\n                </v-flex>\n                <v-flex v-else-if=\"parseState.type\">\n                  <v-alert\n                    class=\"squad-message-alert\"\n                    outline\n                    :value=\"true\"\n                    :type=\"parseState.type\">\n                    <div>\n                      <div class=\"d-flex-container items-center\">\n                        <span style=\"flex: auto;\">{{ parseState.message }}</span>\n                        <v-btn\n                          v-if=\"warningMessages.length > 0\"\n                          @click=\"showWarnings = !showWarnings\"\n                          flat icon style=\"flex: none;\">\n                          <v-icon>{{ showWarnings ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}</v-icon>\n                        </v-btn>\n                      </div>\n                      <div v-if=\"warningMessages.length > 0\">\n                        <v-expansion-panel\n                          :value=\"showWarnings ? 0 : -1\"\n                          @input=\"$val => showWarnings = $val === 0\">\n                          <v-expansion-panel-content :key=\"0\">\n                            <v-list>\n                              <v-list-tile\n                                v-for=\"message in warningMessages\"\n                                :key=\"message\">\n                                <v-list-tile-content>\n                                  <v-list-tile-title class=\"pl-2\">\n                                    {{ message }}\n                                  </v-list-tile-title>\n                                </v-list-tile-content>\n                              </v-list-tile>\n                            </v-list>\n                          </v-expansion-panel-content>\n                        </v-expansion-panel>\n                      </div>\n                    </div>\n                  </v-alert>\n                </v-flex>\n                <v-layout justify-end>\n                  <v-flex style=\"flex-grow: 0;\">\n                    <v-btn\n                      @click=\"attemptSquadImport\"\n                      :disabled=\"!inputCode || parsingCode\"\n                      flat>\n                      Import\n                    </v-btn>\n                  </v-flex>\n                </v-layout>\n              </v-layout>\n            </card-tabs-container>\n          </v-card>\n        </v-flex>\n      </v-layout>\n    </v-container>\n  </module-checker>\n</template>\n\n<script>\nimport { squadRequiredModules } from '@/router/tool-routes';\nimport {\n  shorthandToSquad,\n  squadToShorthand,\n  generateDefaultSquad,\n  getMultidexDatabaseIdsFromSquads,\n  fixSquadErrors,\n} from '@/modules/core/squads';\nimport { Logger } from '@/modules/Logger';\nimport { mapState, mapActions } from 'vuex';\nimport ModuleChecker from '@/components/ModuleChecker';\nimport CardTabsContainer from '@/components/CardTabsContainer';\nimport SquadListCardEditable from '@/components/Tools/Squads/SquadListCardEditable';\nimport LoadingIndicator from '@/components/LoadingIndicator';\n\nconst logger = new Logger({ prefix: '[SquaddAdd]' });\nexport default {\n  props: {\n    importSquad: {\n      type: String,\n      default: '',\n    },\n  },\n  components: {\n    ModuleChecker,\n    CardTabsContainer,\n    SquadListCardEditable,\n    LoadingIndicator,\n  },\n  computed: {\n    ...mapState('settings', ['activeServer']),\n    ...mapState('units', {\n      allUnits: 'pageDb',\n    }),\n    ...mapState('items', {\n      allItems: 'pageDb',\n    }),\n    ...mapState('extraSkills', {\n      allExtraSkills: 'pageDb',\n    }),\n    requiredModules: () => squadRequiredModules,\n    tabConfig: () => ['squad', 'import code'].map(name => ({ name, slot: name.replace(/ /g, '-') })),\n    parseState () {\n      const type = (this.parseErrorMessage && 'error') ||\n        (this.parsedSuccessfully && this.warningMessages.length === 0 && 'success') ||\n        (this.parsedSuccessfully && this.warningMessages.length > 0 && 'warning');\n      const message = this.parseErrorMessage ||\n       (this.warningMessages.length > 0 && `Parsed input code with ${this.warningMessages.length} warnings.`) ||\n       'Successfully parsed input code';\n      return { type, message };\n    },\n    currentSquadCode () {\n      try {\n        return squadToShorthand(this.squad);\n      } catch {\n        return '';\n      }\n    },\n  },\n  data () {\n    return {\n      squad: generateDefaultSquad(),\n      inputCode: '',\n      parseErrorMessage: '',\n      warningMessages: [],\n      parsedSuccessfully: false,\n      parsingCode: false,\n      activeTabIndex: 0,\n      squadUnits: {},\n      squadItems: {},\n      squadExtraSkills: {},\n      isLoadingSquadData: false,\n      selectedIndex: -1,\n      showWarnings: false,\n      lastImportedSquadCode: '',\n    };\n  },\n  mounted () {\n    this.$store.commit('setHtmlOverflowDisableState', false);\n    if (this.inputCode) {\n      this.activeTabIndex = 1;\n      this.attemptSquadImport();\n    } else {\n      this.setSquad(this.squad);\n    }\n  },\n  methods: {\n    ...mapActions('units', {\n      getUnits: 'getByIds',\n    }),\n    ...mapActions('items', {\n      getItems: 'getByIds',\n    }),\n    ...mapActions('extraSkills', {\n      getExtraSkills: 'getByIds',\n    }),\n    async attemptSquadImport () {\n      this.parseErrorMessage = '';\n      this.parsedSuccessfully = false;\n      this.warningMessages = [];\n      if (!this.inputCode) {\n        this.parseErrorMessage = 'No input specified';\n      } else {\n        this.parsingCode = true;\n        await this.$nextTick();\n        try {\n          const initialSquad = shorthandToSquad(this.inputCode);\n          await this.setSquad(initialSquad);\n          this.parsedSuccessfully = true;\n        } catch (err) {\n          logger.error('error parsing squad', err);\n          this.parseErrorMessage = 'Import code is invalid and cannot be parsed.';\n        }\n        this.parsingCode = false;\n      }\n    },\n    async setSquad (squad) {\n      await this.updateSquadPageDbForSquad(squad);\n      const { warnings, ...fixedSquad } = fixSquadErrors(squad, {\n        getUnit: this.getUnit,\n        getExtraSkill: this.getExtraSkill,\n        getItem: this.getItem,\n      });\n      this.warningMessages = warnings;\n      this.squad = fixedSquad;\n      this.lastImportedSquadCode = squadToShorthand(fixedSquad);\n    },\n    async updateSquadPageDbForSquad (squad) {\n      if (squad) {\n        const databaseIds = getMultidexDatabaseIdsFromSquads(squad);\n        const toLowerCase = (input) => `${input[0].toLowerCase()}${input.slice(1)}`;\n        const currentServer = this.activeServer;\n        await ['Units', 'Items', 'ExtraSkills'].reduce((acc, name) => {\n          const entriesToGet = [];\n          const componentDb = this[`squad${name}`];\n          const neededKeys = databaseIds[toLowerCase(name)];\n          const newDb = {};\n          const allKeys = Object.keys(componentDb).map(id => +id).concat(neededKeys);\n          allKeys.forEach((id) => {\n            if (!isNaN(id) && neededKeys.includes(id)) {\n              if (!componentDb[id]) {\n                entriesToGet.push(id);\n              } else {\n                newDb[id] = componentDb[id];\n              }\n            }\n          });\n\n          return acc.then(async () => {\n            if (entriesToGet.length > 0) {\n              if (!this.isLoadingSquadData) {\n                this.isLoadingSquadData = true;\n              }\n              const retrievedEntries = await this[`get${name}`]({\n                ids: entriesToGet,\n                server: currentServer,\n                extractedFields: [],\n              });\n              this[`squad${name}`] = { ...newDb, ...retrievedEntries };\n            } else {\n              this[`squad${name}`] = newDb;\n            }\n          });\n        }, Promise.resolve());\n        this.isLoadingSquadData = false;\n      }\n    },\n    getUnit (id) {\n      return this.squadUnits[id] || {};\n    },\n    getItem (id) {\n      return this.squadItems[id] || {};\n    },\n    getExtraSkill (id) {\n      return this.squadExtraSkills[id] || {};\n    },\n    onSuccessfulSave (key) {\n      this.$router.push({ path: `/tools/squads/${key}` });\n    },\n  },\n  watch: {\n    importSquad: {\n      immediate: true,\n      handler (value) {\n        if (value) {\n          this.inputCode = value;\n        }\n      },\n    },\n    inputCode (newValue) {\n      // clear message on input clear\n      if (!newValue) {\n        this.parseErrorMessage = '';\n      }\n      this.parsedSuccessfully = false;\n    },\n    parseErrorMessage (newValue) {\n      if (newValue && this.warningMessages.length === 0) {\n        this.activeTabIndex = 1; // show import tab\n      }\n    },\n    'squad.units': {\n      deep: true,\n      handler () {\n        this.updateSquadPageDbForSquad(this.squad);\n      },\n    },\n    warningMessages (newValue) {\n      this.showWarnings = newValue.length > 0;\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.squad-message-alert {\n  overflow-x: auto;\n  .v-list__tile {\n    padding: 0;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SquadAdd.vue?vue&type=template&id=6415220b&\"\nimport script from \"./SquadAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./SquadAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SquadAdd.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{class:{ 'text-viewer pa-0': true, 'limit-height': _vm.limitHeight },attrs:{\"fluid\":\"\"}},[_c('copy-button',{staticClass:\"mb-0\",attrs:{\"block\":\"\",\"textToCopy\":_vm.inputText,\"value\":_vm.value}}),_c('pre',[_c('code',[_vm._v(_vm._s(_vm.inputText))])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fluid :class=\"{ 'text-viewer pa-0': true, 'limit-height': limitHeight }\">\n    <copy-button block :textToCopy=\"inputText\" :value=\"value\" class=\"mb-0\"/>\n    <pre><code>{{ inputText }}</code></pre>\n  </v-container>\n</template>\n\n<script>\nimport CopyButton from '@/components/CopyButton';\nexport default {\n  props: {\n    inputText: {\n      type: String,\n      default: '',\n    },\n    // resets button text on change\n    value: {\n      default: undefined,\n    },\n    limitHeight: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  components: {\n    CopyButton,\n  },\n};\n</script>\n\n<style lang=\"less\">\n.text-viewer {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n\n  .copy-button {\n    flex: none;\n  }\n\n  &.limit-height pre {\n    max-height: 45vh;\n  }\n\n  pre {\n    overflow: auto;\n    flex: auto;\n  }\n\n  code {\n    width: 100%;\n    height: auto;\n\n    &::before {\n      content: '';\n    }\n\n    .theme--dark & {\n      border: 1px solid var(--background-color);\n      background-color: black;\n      color: lightgreen;\n    }\n  }\n}\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextViewer.vue?vue&type=template&id=1dc4358e&\"\nimport script from \"./TextViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./TextViewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TextViewer.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadBuffExpandableListView.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadBuffExpandableListView.vue?vue&type=style&index=0&lang=less&\"","import {\n  unitPositionMapping,\n  squadFillerMapping,\n  squadUnitActions,\n  burstTypes,\n  squadBuffTypes,\n  targetTypes,\n} from '@/modules/constants';\nimport {\n  spCodeToIndex,\n  isValidUnit,\n  spCodeToEffects,\n  spIndexToCode,\n  getSpEntryEffects,\n} from '@/modules/core/units';\nimport { isValidSkill } from '@/modules/core/extra-skills';\nimport { isValidSphere, getItemEffects } from '@/modules/core/items';\nimport { getBurstEffects } from '@/modules/core/bursts';\nimport { getEffectsList } from '@/modules/core/buffs';\n\nexport function squadToShorthand (squad = { units: [] }) {\n  return squad.units\n    .map((unit, i) => [\n      (unit.id === squadFillerMapping.EMPTY && 'E') || (unit.id === squadFillerMapping.ANY && 'X') || unit.id,\n      unitPositionMapping.indexOf(unit.position),\n      unit.es || '-',\n      unit.spheres.join('+') || '-',\n      (i === squad.lead && 'L') || (i === squad.friend && 'F') || '-',\n      unit.bbOrder,\n      unit.action,\n      unit.sp || '-',\n    ].join('~'))\n    .join(',');\n}\n\nexport function makeSquadUnitEntry ({\n  id = '',\n  position = unitPositionMapping[0],\n  es = '',\n  spheres = [],\n  bbOrder = 0,\n  action = '',\n  sp = '',\n} = {}) {\n  const toString = (val) => (val || '').toString();\n  return {\n    id: (id === 'E' && squadFillerMapping.EMPTY) || (id === 'X' && squadFillerMapping.ANY) || toString(id),\n    position,\n    es: toString(es),\n    spheres: spheres.map(toString),\n    bbOrder,\n    action,\n    sp,\n  };\n}\n\nexport function generateFillerSquadUnitEntry ({\n  isEmpty = false,\n  position = unitPositionMapping[0],\n  bbOrder = 0,\n} = {}) {\n  return makeSquadUnitEntry({\n    id: isEmpty ? squadFillerMapping.EMPTY : squadFillerMapping.ANY,\n    position,\n    bbOrder,\n    action: isEmpty ? squadUnitActions.NONE : squadUnitActions.ATK,\n  });\n}\n\nexport function getEffectMappingFromSquadUnitEntry (\n  unitEntry = generateFillerSquadUnitEntry(),\n  {\n    // NOTE: these are synchronous getters\n    getUnit = () => {},\n    getItem = () => {}, // eslint-disable-line no-unused-vars\n    getExtraSkill = () => {}, // eslint-disable-line no-unused-vars\n  } = {},\n) {\n  const unitEffects = {\n    ls: [],\n    es: [],\n    [squadUnitActions.BB]: [],\n    [squadUnitActions.SBB]: [],\n    [squadUnitActions.UBB]: [],\n    sp: [],\n  };\n  if (unitEntry.id && unitEntry.id !== squadFillerMapping.EMPTY && unitEntry.id !== squadFillerMapping.ANY) {\n    const unit = getUnit(unitEntry.id) || {};\n    if (unit['leader skill'] && Array.isArray(unit['leader skill'].effects)) {\n      unitEffects.ls = Array.from(unit['leader skill'].effects).map(e => ({ ...e, sourcePath: 'unit.ls' }));\n    }\n\n    if (unit['extra skill'] && Array.isArray(unit['extra skill'].effects)) {\n      unitEffects.es = Array.from(unit['extra skill'].effects).map(e => ({ ...e, sourcePath: 'unit.es' }));\n    }\n\n    burstTypes.forEach(bbType => {\n      let burstData = (unit[bbType] && Array.isArray(unit[bbType].levels))\n        ? getBurstEffects(unit[bbType])\n        : {};\n      if (Array.isArray(burstData.effects)) {\n        unitEffects[bbType] = Array.from(burstData.effects).map(e => ({ ...e, sourcePath: `unit.${bbType}` }));\n      }\n    });\n\n    if (unitEntry.sp && Array.isArray(unit.feskills)) {\n      unitEffects.sp = Array.from(new Set(spCodeToEffects(unitEntry.sp, unit.feskills)))\n        .reduce((acc, val) => acc.concat(getSpEntryEffects(val).map(e => ({\n          ...e,\n          sourcePath: 'unit.sp',\n          sourceSpCode: spIndexToCode(unit.feskills.indexOf(val)),\n        }))), []);\n    }\n  }\n\n  let extraSkillEffects = [];\n  if (unitEntry.es) {\n    const extraSkill = getExtraSkill(unitEntry.es) || {};\n    if (Array.isArray(extraSkill.effects)) {\n      extraSkillEffects = Array.from(extraSkill.effects).map(e => ({ ...e, sourcePath: 'es' }));\n    }\n  }\n\n  let sphereEffects = {};\n  if (Array.isArray(unitEntry.spheres)) {\n    unitEntry.spheres.forEach(sphereId => {\n      const item = getItem(sphereId) || {};\n      const effectData = getItemEffects(item);\n      if (effectData.length > 0) {\n        sphereEffects[sphereId] = effectData.map(e => ({ ...e, sourcePath: `sphere:${sphereId}` }));\n      }\n    });\n  }\n\n  return {\n    unit: unitEffects,\n    es: extraSkillEffects,\n    spheres: sphereEffects,\n  };\n}\n\nexport function generateDefaultSquad (allEmpty = false, units) {\n  return {\n    lead: 0,\n    friend: 3,\n    name: `Squad ${new Date().toLocaleString()}`,\n    units: Array.isArray(units)\n      ? units\n      : new Array(6)\n        .fill(0)\n        .map((_, i) => generateFillerSquadUnitEntry({\n          isEmpty: allEmpty,\n          position: unitPositionMapping[i],\n          bbOrder: i + 1,\n        })),\n  };\n}\n\nexport function cloneSquad (squad = {}) {\n  const { lead, friend, name, simulatorOptions, filterOptions, viewMode } = squad;\n  return {\n    lead,\n    friend,\n    name,\n    units: sortUnitsByPosition(squad.units.map(makeSquadUnitEntry), false),\n    simulatorOptions,\n    filterOptions,\n    viewMode,\n  };\n}\n\nexport function shorthandToSquad (shorthand = '', name = `Squad ${new Date().toLocaleString()}`) {\n  let leadIndex = 0, friendIndex = 0;\n  const units = shorthand.split(',').map((entry, i) => {\n    const [\n      id,\n      positionIndex,\n      esText,\n      sphereText,\n      leadFriendFlag,\n      bbOrder,\n      action,\n      spText,\n    ] = entry.split('~');\n    if (leadFriendFlag === 'L') {\n      leadIndex = i;\n    } else if (leadFriendFlag === 'F') {\n      friendIndex = i;\n    }\n\n    return makeSquadUnitEntry({\n      id,\n      position: unitPositionMapping[positionIndex],\n      es: esText !== '-' ? esText : '',\n      spheres: sphereText !== '-' ? sphereText.split('+') : [],\n      bbOrder: +bbOrder,\n      action,\n      sp: spText !== '-' ? spText : '',\n    });\n  });\n  return {\n    name,\n    lead: leadIndex,\n    friend: friendIndex,\n    units,\n  };\n}\n\nexport function fixSquadErrors (squad = {}, {\n  // NOTE: these are synchronous getters\n  getUnit = () => {},\n  getItem = () => {},\n  getExtraSkill = () => {},\n} = {}) {\n  const units = [];\n  const messages = [];\n  let { lead, friend } = squad;\n  const filledPositions = new Set();\n  const usedOrders = new Set();\n  if (Array.isArray(squad.units)) {\n    // only allow 6 entries at most\n    const currentUnits = squad.units.filter(u => typeof u === 'object').slice(0, 6);\n    const defaultUnitActions = [squadUnitActions.SBB, squadUnitActions.BB];\n    const isValidBbOrder = (num) => num >= 1 && num <= 6;\n\n    currentUnits.forEach((unit, i) => {\n      if (typeof unit === 'object') {\n        const unitData = getUnit(unit.id) || {};\n        // get value or defaults for each property of a squad unit entry\n        const id = (unit.id === squadFillerMapping.ANY || unit.id === squadFillerMapping.EMPTY || isValidUnit(unitData))\n          ? unit.id\n          : squadFillerMapping.ANY; // default to entry for ANY\n\n        const unitIdentifer = unitData.name\n          ? `Unit [${unitData.name}] at index ${i}`\n          : `Unit [${unit.id || id}] at index ${i}`;\n        if (id !== unit.id) {\n          messages.push(`${unitIdentifer} has an invalid ID [${unit.id}]. Used default filler unit entry [${squadFillerMapping.ANY}].`);\n        }\n\n        if (lead === i && id === squadFillerMapping.EMPTY) {\n          messages.push(`There is an empty unit at index ${lead} and cannot be leader. Removed leader indicator.`);\n          lead = -1;\n        } else if (friend === i && id === squadFillerMapping.EMPTY) {\n          messages.push(`There is an empty unit at index ${friend} cannot be friend leader. Removed friend leader indicator.`);\n          friend = -1;\n        }\n\n        const position = unitPositionMapping.includes(unit.position) &&\n          !filledPositions.has(unit.position) &&\n          unit.position;\n        if (position) {\n          filledPositions.add(position);\n        } else {\n          messages.push(`${unitIdentifer} has invalid position [${unit.position}]. Used default position value instead.`);\n        }\n\n        const bbOrder = id !== squadFillerMapping.EMPTY &&\n          isValidBbOrder(unit.bbOrder) &&\n          !usedOrders.has(unit.bbOrder) &&\n          unit.bbOrder;\n        if (bbOrder) {\n          usedOrders.add(bbOrder);\n        } else {\n          messages.push(`${unitIdentifer} has invalid BB Order [${unit.bbOrder}]. Used default BB Order value instead.`);\n        }\n\n        // default order of actions when current current action is invalid (if a unit has it): SBB, BB, ATK\n        const action = id === squadFillerMapping.EMPTY\n          ? squadUnitActions.NONE\n          : (id === squadFillerMapping.ANY && unit.action) || (unitData[unit.action] && unit.action) || (defaultUnitActions.find(a => !!unitData[a]));\n        if (action !== unit.action) {\n          messages.push(`${unitIdentifer} has invalid action [${unit.action}]. Used default action [${action}].`);\n        }\n\n        const extraSkill = (id !== squadFillerMapping.EMPTY && unit.es && isValidSkill(getExtraSkill(unit.es)))\n          ? unit.es\n          : undefined;\n        if (extraSkill !== unit.es && !!unit.es) {\n          messages.push(`${unitIdentifer} has invalid Extra Skill [${unit.es}]. Removed Extra Skill.`);\n        }\n\n        const spheres = ((id !== squadFillerMapping.EMPTY && Array.isArray(unit.spheres)) ? unit.spheres : [])\n          .filter(sphere => isValidSphere(getItem(sphere)));\n        if (!Array.isArray(unit.spheres)) {\n          messages.push(`${unitIdentifer} has invalid sphere entry. Used default of no spheres.`);\n        } else if (spheres.length !== unit.spheres.length) {\n          messages.push(`${unitIdentifer} has invalid spheres [${unit.spheres.filter(s => !spheres.includes(s)).join(', ')}]. Removed them from the entry.`);\n        }\n\n        const sp = (id !== squadFillerMapping.EMPTY && unitData.feskills && typeof unit.sp === 'string')\n          ? unit.sp.split('').filter(code => unitData.feskills[spCodeToIndex(code)]).join('')\n          : undefined;\n        if (sp !== unit.sp && !!unit.sp) {\n          const message = [\n            `${unitIdentifer} has invalid SP code [${unit.sp}].`,\n            sp ? `Set SP code to [${sp}].` : `Removed SP code.`,\n          ].join(' ');\n          messages.push(message);\n        }\n\n        units.push(makeSquadUnitEntry({\n          id,\n          position,\n          bbOrder,\n          action,\n          es: extraSkill,\n          spheres,\n          sp,\n        }));\n      } else {\n        messages.push(`Unit at input index ${i} is invalid and has been removed from squad.`);\n      }\n    });\n  }\n\n  // fill in units with invalid positions and bbOrders\n  const possibleOrders = (new Array(6).fill(0).map((_, i) => i + 1));\n  units.forEach(unit => {\n    if (!unit.position) {\n      unit.position = unitPositionMapping.find(p => !filledPositions.has(p));\n      filledPositions.add(unit.position);\n    }\n\n    if (!unit.bbOrder) {\n      unit.bbOrder = possibleOrders.find(order => !usedOrders.has(order));\n      usedOrders.add(unit.bbOrder);\n    }\n  });\n\n  if (units.length < 6) {\n    messages.push(`${units.length} valid units found. Added ${6 - units.length} filler units.`);\n  }\n  for (let i = units.length; i < 6; ++i) {\n    const position = unitPositionMapping.find(p => !filledPositions.has(p));\n    filledPositions.add(position);\n\n    const bbOrder = possibleOrders.find(order => !usedOrders.has(order));\n    usedOrders.add(bbOrder);\n\n    units.push(generateFillerSquadUnitEntry({\n      position,\n      bbOrder,\n    }));\n  }\n\n  // remove lead/friend if those values are invalid\n  if (!units[lead] || units[lead].id === squadFillerMapping.EMPTY) {\n    messages.push(`Unit at index ${lead} cannot be leader because it is invalid or empty. Removed leader indicator.`);\n    lead = -1;\n  }\n  if (!units[friend] || units[friend].id === squadFillerMapping.EMPTY) {\n    messages.push(`Unit at index ${lead} cannot be friend leader because it is invalid or empty. Removed friend leader indicator.`);\n    friend = -1;\n  }\n\n  // remove friend lead if lead and friend refer to the same unit\n  if (lead !== -1 && friend !== -1 && lead === friend) {\n    messages.push(`Unit at index ${lead} cannot be lead and friend lead. Removed friend leader indicator.`);\n    friend = -1;\n  }\n\n  return {\n    lead,\n    friend,\n    name: squad.name || 'Default Squad Name',\n    units: sortUnitsByPosition(units),\n    warnings: messages,\n    simulatorOptions: squad.simulatorOptions,\n  };\n}\n\nexport function getMultidexDatabaseIdsFromSquads (squads = [generateDefaultSquad()]) {\n  const unitIds = new Set(), esIds = new Set(), itemIds = new Set();\n  const squadsToCheck = Array.isArray(squads) ? squads : [squads];\n  squadsToCheck.forEach(squad => {\n    squad.units.forEach(unit => {\n      unitIds.add(unit.id);\n      if (unit.es) {\n        esIds.add(unit.es);\n      }\n      if (unit.spheres.length > 0) {\n        unit.spheres.forEach(id => {\n          itemIds.add(id);\n        });\n      }\n    });\n  });\n  return {\n    units: Array.from(unitIds),\n    extraSkills: Array.from(esIds),\n    items: Array.from(itemIds),\n  };\n}\n\nexport function sortUnitsByPosition (units = [], clone = true) {\n  const toSort = clone ? units.slice() : units;\n  return toSort.sort((a, b) => {\n    const [positionA, positionB] = [unitPositionMapping.indexOf(a.position), unitPositionMapping.indexOf(b.position)];\n    return positionA - positionB;\n  });\n}\n\nexport function getEffectsListForSquadUnitEntry (\n  {\n    unitEntry = generateFillerSquadUnitEntry(),\n    target = targetTypes.PARTY,\n    effectType = squadBuffTypes.PROC,\n    squad = generateDefaultSquad(),\n  }, syncGetters = {\n    getUnit: () => {},\n    getItem: () => {},\n    getExtraSkill: () => {},\n  },\n) {\n  const entryEffects = getEffectMappingFromSquadUnitEntry(unitEntry, syncGetters);\n  const isLsActive = (squad.units.indexOf(unitEntry) === squad.lead || squad.units.indexOf(unitEntry) === squad.friend);\n  return getEffectsList({\n    leaderSkillEffects: isLsActive ? entryEffects.unit.ls : [],\n    extraSkillEffects: entryEffects.unit.es,\n    nonUbbBurstEffects: entryEffects.unit.bb.concat(entryEffects.unit.sbb),\n    ubbBurstEffects: entryEffects.unit.ubb,\n    elgifEffects: entryEffects.es,\n    sphereEffects: Object.values(entryEffects.spheres).reduce((acc, effects) => acc.concat(effects), []),\n    spEnhancementEffects: entryEffects.unit.sp,\n    target,\n    effectType,\n  });\n}\n\nexport function getMultidexParamsForSquadUnit (unit = generateFillerSquadUnitEntry()) {\n  const links = [];\n  if (unit.id !== squadFillerMapping.ANY && unit.id !== squadFillerMapping.EMPTY) {\n    links.push({\n      moduleName: 'units',\n      id: unit.id,\n      sp: unit.sp,\n    });\n  }\n\n  if (unit.es) {\n    links.push({\n      moduleName: 'extraSkills',\n      id: unit.es,\n    });\n  }\n\n  // add unique entries\n  Array.from(new Set(unit.spheres)).forEach(id => {\n    links.push({\n      moduleName: 'items',\n      id,\n    });\n  });\n\n  return links;\n}\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadListCardEditable.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadListCardEditable.vue?vue&type=style&index=0&lang=less&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAWCAMAAAARtodwAAAAA3NCSVQICAjb4U/gAAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAApUwkpVAkpVwkoXAkoXgknZQonZwombgkmcQoldAokfQwjhgsiiwsgmwwgngxDhisfoQseogwfowwfpAwfpQwfpgwepwweqA0eqQweqg0eqw0erA0erQ0drg0erg0dsA0dsQ0itBMntRdPnTwrtxwstx4vuCA8tCw4uyk5vCxepExepUxIwDtbtk1buE1awE5dyFFhyVdlylpqzWBwzmabsYybso130G130W540W6auo560nGD1Xq20a3E3r7D6L7N7sni6d7j6N/i697q+Onr+Onw9u/t+ez////////SciOpAAAA/3RSTlMA/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////3N8PqRcAAAAkElEQVQY04WQsQ7CMAxEz03Sgih0QoxFfAH//0NsDEWINE5sppIEVao3P9ln31n8l10jWva0PgM8DgQAMZ4XMnlKLBqPP/JqP4GjNu9bvqWXq5C6fJ36vq3/Mc6wgVjoQlTCs5Mw7LOOTCwqp7wV/cysTgtfMo61crMztQs/gwAqSBJK9cydqavJsJkhbeX8BTdVMwA/hLFSAAAAAElFTkSuQmCC\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadList.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadList.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SparkUnitEntry.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SparkUnitEntry.vue?vue&type=style&index=0&lang=less&\"","export default {\n  props: {\n    getUnit: {\n      type: Function,\n      default: () => ({}),\n    },\n    getItem: {\n      type: Function,\n      default: () => ({}),\n    },\n    getExtraSkill: {\n      type: Function,\n      default: () => ({}),\n    },\n  },\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text-field',{attrs:{\"value\":_vm.inputText,\"label\":_vm.label,\"readonly\":\"\"}}),_c('copy-button',{staticClass:\"mb-0\",attrs:{\"block\":\"\",\"textToCopy\":_vm.inputText,\"value\":_vm.value}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-text-field :value=\"inputText\" :label=\"label\" readonly/>\n    <copy-button block :textToCopy=\"inputText\" :value=\"value\" class=\"mb-0\"/>\n  </div>\n</template>\n\n<script>\nimport CopyButton from '@/components/CopyButton';\nexport default {\n  props: {\n    inputText: {\n      type: String,\n      default: '',\n    },\n    label: {\n      type: String,\n      default: '',\n    },\n    // resets button text on change\n    value: {\n      default: undefined,\n    },\n  },\n  components: {\n    CopyButton,\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OneLineTextViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OneLineTextViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OneLineTextViewer.vue?vue&type=template&id=74910ad5&\"\nimport script from \"./OneLineTextViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./OneLineTextViewer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-flex',_vm._g(_vm._b({staticClass:\"squad-unit-entry\"},'v-flex',_vm.$attrs,false),_vm.$listeners),[_vm._t(\"before-content\"),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('v-layout',{staticClass:\"mx-2\",style:((\"flex-grow: 0!important; min-width: \" + _vm.thumbnailSize + \"px; max-width: \" + _vm.thumbnailSize + \"px;\")),attrs:{\"column\":\"\"}},[(_vm.$vuetify.breakpoint.xsOnly)?_c('v-flex',{attrs:{\"text-xs-center\":\"\"}},[_c('span',{staticClass:\"caption text-no-wrap\"},[_vm._v(_vm._s(_vm.unit.position))])]):_vm._e(),_c('v-layout',{staticStyle:{\"flex-grow\":\"0\"},attrs:{\"align-content-center\":\"\",\"row\":\"\"}},[_c('unit-thumbnail',{staticClass:\"unit-thumbnail\",style:((\"border-color: \" + (_vm.orderSettings.border) + \";\")),attrs:{\"isVisible\":_vm.isVisible,\"src\":_vm.getImageUrls(_vm.unit.id).ills_battle,\"rarity\":_vm.rarity,\"imageTitle\":_vm.name,\"displayWidth\":_vm.thumbnailSize,\"displayHeight\":_vm.thumbnailSize}},[_c('template',{slot:\"after-image\"},[_c('text',{attrs:{\"x\":0,\"y\":_vm.thumbnailSize * 0.75}},[_vm._v(\"\\n              \"+_vm._s(!isNaN(_vm.unit.bbOrder) ? _vm.unit.bbOrder : '-')+\"\\n            \")])])],2)],1),(_vm.orderSettings)?_c('v-flex',{staticClass:\"text-xs-center\"},[(!_vm.isVisible)?_c('span',{staticClass:\"body-1\",domProps:{\"textContent\":_vm._s(_vm.orderSettings.text)}}):_c('v-chip',{staticClass:\"bb-order-chip\",style:((\"\\n            background-color: \" + (_vm.orderSettings.background) + \";\\n            color: \" + (_vm.orderSettings.foreground) + \";\\n            border-color: \" + (_vm.orderSettings.border) + \";\\n          \")),attrs:{\"tabindex\":\"-1\",\"small\":\"\"}},[_c('b',[_vm._v(_vm._s(_vm.orderSettings.text))])])],1):_vm._e()],1),_c('v-layout',{staticStyle:{\"align-self\":\"flex-start\"},attrs:{\"column\":\"\"}},[_c('v-layout',{attrs:{\"align-center\":\"\"}},[_c('v-flex',{staticClass:\"d-flex-container align-center font-weight-bold subheading\"},[(_vm.rarity < 8)?_c('span',[_vm._v(_vm._s(_vm.rarity))]):_vm._e(),(_vm.isVisible)?_c('rarity-icon',{class:{ 'ml-1': _vm.rarity !== 8, 'mr-1': true, },attrs:{\"rarity\":_vm.rarity || 0,\"displaySize\":18}}):_vm._e(),_c('span',[_vm._v(_vm._s(_vm.name))])],1),_c('v-spacer'),(_vm.isLead || _vm.isFriend)?_c('v-flex',{staticStyle:{\"flex-grow\":\"0\"}},[(_vm.isLead)?_c('leader-icon',{attrs:{\"displaySize\":18}}):(_vm.isFriend)?_c('friend-icon',{attrs:{\"displaySize\":18}}):_vm._e()],1):_vm._e()],1),_c('v-layout',{attrs:{\"align-center\":\"\"}},[_c('v-layout',{staticStyle:{\"flex-grow\":\"0\"},attrs:{\"align-center\":\"\",\"justify-center\":\"\"}},[(_vm.isVisible)?_c('extra-skill-icon',{staticClass:\"mr-1\",attrs:{\"inactive\":!_vm.unit.es,\"displaySize\":22}}):_vm._e()],1),_c('v-flex',{staticStyle:{\"word-break\":\"break-all\",\"text-align\":\"left\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.getExtraSkill(_vm.unit.es).name || 'No Extra Skill')+\"\\n        \")])],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\"}},_vm._l(((_vm.unit.spheres.length > 0 ? _vm.unit.spheres : ['No Sphere'])),function(sphereId,i){return _c('v-layout',{key:(sphereId + \"-\" + i),attrs:{\"align-center\":\"\"}},[_c('v-layout',{staticStyle:{\"flex-grow\":\"0\"},attrs:{\"align-center\":\"\",\"justify-center\":\"\"}},[(_vm.isVisible)?_c('sphere-type-icon',{staticClass:\"mr-1\",attrs:{\"category\":_vm.getItem(sphereId)['sphere type'],\"displaySize\":22}}):_vm._e()],1),_c('v-flex',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.getItem(sphereId).name || sphereId)+\"\\n          \")])],1)}),1),(_vm.unit.sp && _vm.isVisible && _vm.getSpCost(_vm.unit) > 0)?_c('v-layout',[_c('v-flex',{staticClass:\"mr-1\",staticStyle:{\"flex-grow\":\"0\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.getSpCost(_vm.unit))+\" SP:\\n        \")]),_vm._l((_vm.getSpCategories(_vm.unit)),function(category){return _c('v-flex',{key:(category + \"-\" + (_vm.unit.id) + \"-\" + _vm.index),staticStyle:{\"flex-grow\":\"0\"}},[_c('sp-icon',{attrs:{\"category\":category,\"displaySize\":22}})],1)})],2):_vm._e()],1)],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('generic-sprite-icon',{style:(_vm.inactive ? _vm.inactiveStyle : _vm.$attrs.style),attrs:{\"iconTitle\":\"Extra Skill Icon\",\"iconWidth\":_vm.iconSize,\"iconHeight\":_vm.iconSize,\"sheetWidth\":_vm.sheetSize[0],\"sheetHeight\":_vm.sheetSize[1],\"displayWidth\":_vm.displaySize,\"displayHeight\":_vm.displaySize,\"src\":require('@/assets/ex_icon.png'),\"iconX\":0,\"iconY\":0}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <generic-sprite-icon\n    iconTitle=\"Extra Skill Icon\"\n    :style=\"inactive ? inactiveStyle : $attrs.style\"\n    :iconWidth=\"iconSize\" :iconHeight=\"iconSize\"\n    :sheetWidth=\"sheetSize[0]\" :sheetHeight=\"sheetSize[1]\"\n    :displayWidth=\"displaySize\" :displayHeight=\"displaySize\"\n    :src=\"require('@/assets/ex_icon.png')\"\n    :iconX=\"0\" :iconY=\"0\"/>\n</template>\n\n<script>\nimport GenericSpriteIcon from '@/components/GenericSpriteIcon';\n\nexport default {\n  props: {\n    inactive: {\n      type: Boolean,\n      default: false,\n    },\n    displaySize: {\n      type: Number,\n      default: 32,\n    },\n  },\n  components: {\n    GenericSpriteIcon,\n  },\n  computed: {\n    iconSize () {\n      return 32;\n    },\n    sheetSize () {\n      return [32, 32];\n    },\n    inactiveStyle () {\n      return 'filter: brightness(75%) grayscale(100%)';\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExtraSkillIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExtraSkillIcon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExtraSkillIcon.vue?vue&type=template&id=1947700c&\"\nimport script from \"./ExtraSkillIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./ExtraSkillIcon.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-flex class=\"squad-unit-entry\" v-bind=\"$attrs\" v-on=\"$listeners\">\n    <slot name=\"before-content\"/>\n    <div style=\"display: flex;\">\n      <v-layout\n        column class=\"mx-2\"\n        :style=\"`flex-grow: 0!important; min-width: ${thumbnailSize}px; max-width: ${thumbnailSize}px;`\">\n        <v-flex text-xs-center v-if=\"$vuetify.breakpoint.xsOnly\">\n          <span class=\"caption text-no-wrap\">{{ unit.position }}</span>\n        </v-flex>\n        <v-layout align-content-center row style=\"flex-grow: 0\">\n          <unit-thumbnail\n            class=\"unit-thumbnail\"\n            :style=\"`border-color: ${orderSettings.border};`\"\n            :isVisible=\"isVisible\"\n            :src=\"getImageUrls(unit.id).ills_battle\"\n            :rarity=\"rarity\"\n            :imageTitle=\"name\"\n            :displayWidth=\"thumbnailSize\" :displayHeight=\"thumbnailSize\">\n            <template slot=\"after-image\">\n              <text\n                :x=\"0\"\n                :y=\"thumbnailSize * 0.75\">\n                {{ !isNaN(unit.bbOrder) ? unit.bbOrder : '-' }}\n              </text>\n            </template>\n          </unit-thumbnail>\n        </v-layout>\n        <v-flex class=\"text-xs-center\" v-if=\"orderSettings\">\n          <span\n            v-if=\"!isVisible\"\n            class=\"body-1\"\n            v-text=\"orderSettings.text\"/>\n          <v-chip\n            v-else\n            tabindex=\"-1\"\n            :style=\"`\n              background-color: ${orderSettings.background};\n              color: ${orderSettings.foreground};\n              border-color: ${orderSettings.border};\n            `\"\n            class=\"bb-order-chip\"\n            small>\n            <b>{{ orderSettings.text }}</b>\n          </v-chip>\n        </v-flex>\n      </v-layout>\n      <v-layout column style=\"align-self: flex-start;\">\n        <!-- name and leader/friend icon -->\n        <v-layout align-center>\n          <v-flex class=\"d-flex-container align-center font-weight-bold subheading\">\n            <span v-if=\"rarity < 8\">{{ rarity }}</span>\n            <rarity-icon\n              v-if=\"isVisible\"\n              :class=\"{ 'ml-1': rarity !== 8, 'mr-1': true, }\"\n              :rarity=\"rarity || 0\"\n              :displaySize=\"18\"/>\n            <span>{{ name }}</span>\n          </v-flex>\n          <v-spacer/>\n          <v-flex\n            v-if=\"isLead || isFriend\"\n            style=\"flex-grow: 0;\">\n            <leader-icon\n              v-if=\"isLead\"\n              :displaySize=\"18\"/>\n            <friend-icon\n              v-else-if=\"isFriend\"\n              :displaySize=\"18\"/>\n          </v-flex>\n        </v-layout>\n        <!-- extra skill -->\n        <v-layout align-center>\n          <v-layout style=\"flex-grow: 0;\" align-center justify-center>\n            <extra-skill-icon\n              v-if=\"isVisible\"\n              :inactive=\"!unit.es\"\n              :displaySize=\"22\"\n              class=\"mr-1\"/>\n          </v-layout>\n          <v-flex style=\"word-break: break-all; text-align: left;\">\n            {{ getExtraSkill(unit.es).name || 'No Extra Skill' }}\n          </v-flex>\n        </v-layout>\n        <!-- spheres -->\n        <v-layout row wrap align-center>\n          <v-layout\n            v-for=\"(sphereId, i) in (unit.spheres.length > 0 ? unit.spheres : ['No Sphere'])\"\n            :key=\"`${sphereId}-${i}`\"\n            align-center>\n            <v-layout style=\"flex-grow: 0;\" align-center justify-center>\n              <sphere-type-icon\n                v-if=\"isVisible\"\n                :category=\"getItem(sphereId)['sphere type']\"\n                :displaySize=\"22\"\n                class=\"mr-1\"/>\n            </v-layout>\n            <v-flex style=\"text-align: left\">\n              {{ getItem(sphereId).name || sphereId }}\n            </v-flex>\n          </v-layout>\n        </v-layout>\n\n        <!-- SP -->\n        <v-layout v-if=\"unit.sp && isVisible && getSpCost(unit) > 0\">\n          <v-flex style=\"flex-grow: 0;\" class=\"mr-1\">\n            {{ getSpCost(unit) }} SP:\n          </v-flex>\n          <v-flex\n            v-for=\"category in getSpCategories(unit)\"\n            :key=\"`${category}-${unit.id}-${index}`\"\n            style=\"flex-grow: 0;\">\n            <sp-icon\n              :category=\"category\"\n              :displaySize=\"22\"/>\n          </v-flex>\n        </v-layout>\n      </v-layout>\n    </div>\n  </v-flex>\n</template>\n\n<script>\nimport { squadUnitActions } from '@/modules/constants';\nimport { spCodeToIndex, spCodeToEffects } from '@/modules/core/units';\nimport { mapGetters } from 'vuex';\nimport colors from 'vuetify/es5/util/colors';\nimport UnitThumbnail from '@/components/Multidex/Units/UnitThumbnail';\nimport RarityIcon from '@/components/Multidex/RarityIcon';\nimport SphereTypeIcon from '@/components/Multidex/Items/SphereTypeIcon';\nimport LeaderIcon from '@/components/Multidex/MiniLeaderIcon';\nimport FriendIcon from '@/components/Multidex/MiniFriendIcon';\nimport ExtraSkillIcon from '@/components/Multidex/ExtraSkillIcon';\nimport SpIcon from '@/components/Multidex/Units/SpIcon';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\n\nexport default {\n  mixins: [GettersMixin],\n  components: {\n    UnitThumbnail,\n    RarityIcon,\n    SphereTypeIcon,\n    LeaderIcon,\n    FriendIcon,\n    ExtraSkillIcon,\n    SpIcon,\n  },\n  props: {\n    unit: {\n      type: Object,\n      required: true,\n    },\n    isLead: {\n      type: Boolean,\n      default: false,\n    },\n    isFriend: {\n      type: Boolean,\n      default: false,\n    },\n    isVisible: {\n      type: Boolean,\n      default: true,\n    },\n    index: {\n      type: Number,\n      default: -1,\n    },\n  },\n  computed: {\n    ...mapGetters('units', {\n      getImageUrls: 'getImageUrls',\n    }),\n    thumbnailSize () {\n      return 64;\n    },\n    iconSize () {\n      return 22;\n    },\n    orderSettings () {\n      const hasBbOrder = !isNaN(this.unit.bbOrder);\n      return {\n        text: (hasBbOrder && this.getOrderText(this.unit)) || '-',\n        ...this.getColorSetBasedOnAction((hasBbOrder && this.unit) || undefined),\n      };\n    },\n    rarity () {\n      return this.getUnit(this.unit.id).rarity;\n    },\n    name () {\n      return this.getUnit(this.unit.id).name || this.unit.id;\n    },\n  },\n  methods: {\n    getColorSetBasedOnAction (unit = {}) {\n      const colorKey = (unit.action === squadUnitActions.UBB && 'red') ||\n        (unit.action === squadUnitActions.SBB && 'amber') ||\n        (unit.action === squadUnitActions.BB && 'blueGrey') ||\n        'grey';\n\n      return {\n        border: colors[colorKey].base,\n        background: colors[colorKey].lighten4,\n        foreground: colors[colorKey].darken4,\n      };\n    },\n    getOrderText (unit = {}) {\n      // default to SBB or below (depending on if the unit has it)\n      const action = unit.action ||\n        (this.getUnit(unit.id).sbb && squadUnitActions.SBB) ||\n        (this.getUnit(unit.id).bb && squadUnitActions.BB) ||\n        (squadUnitActions.ATK);\n      return action.toUpperCase();\n    },\n    getSpCategories (unit = {}) {\n      const feSkills = this.getUnit(unit.id).feskills;\n      const enhancements = unit.sp;\n      if (!feSkills || !enhancements) {\n        return [];\n      }\n\n      const filteredSkills = spCodeToEffects(enhancements, feSkills)\n        .map(s => +s.category);\n      return Array.from(new Set(filteredSkills));\n    },\n    getSpCost (unit = {}) {\n      const feSkills = this.getUnit(unit.id).feskills;\n      const enhancements = unit.sp;\n      if (!feSkills || !enhancements) {\n        return 0;\n      }\n      return enhancements.split('')\n        .map(char => feSkills[spCodeToIndex(char)])\n        .filter(v => v)\n        .reduce((acc, s) => acc + +s.skill.bp, 0);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.squad-unit-entry {\n  .bb-order-chip {\n    justify-content: center;\n    margin: auto;\n    width: 100%;\n    border-top-left-radius: 0; \n    border-top-right-radius: 0;\n    margin-top: 0;\n  }\n\n  image.lazy-actual {\n    min-width: 64px;\n  }\n\n  .unit-thumbnail {\n    flex: 0 1 auto;\n    margin: auto;\n    font: bold 4.5em sans-serif;\n    stroke: black;\n    stroke-width: 2px;\n    fill: white;\n    border: 1px solid white;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadUnitEntry.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadUnitEntry.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SquadUnitEntry.vue?vue&type=template&id=56b89092&\"\nimport script from \"./SquadUnitEntry.vue?vue&type=script&lang=js&\"\nexport * from \"./SquadUnitEntry.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SquadUnitEntry.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadBuffExpandableList.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadBuffExpandableList.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('generic-sprite-icon',{attrs:{\"iconTitle\":_vm.label,\"iconWidth\":_vm.sheetSize[0],\"iconHeight\":_vm.sheetSize[1],\"sheetWidth\":_vm.sheetSize[0],\"sheetHeight\":_vm.sheetSize[1],\"displayWidth\":_vm.displaySize,\"displayHeight\":_vm.displaySize,\"src\":_vm.iconSrc,\"iconX\":0,\"iconY\":0}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <generic-sprite-icon\n    :iconTitle=\"label\"\n    :iconWidth=\"sheetSize[0]\" :iconHeight=\"sheetSize[1]\"\n    :sheetWidth=\"sheetSize[0]\" :sheetHeight=\"sheetSize[1]\"\n    :displayWidth=\"displaySize\" :displayHeight=\"displaySize\"\n    :src=\"iconSrc\"\n    :iconX=\"0\" :iconY=\"0\"/>\n</template>\n\n<script>\nimport GenericSpriteIcon from '@/components/GenericSpriteIcon';\n\nexport default {\n  props: {\n    displaySize: {\n      type: Number,\n      default: 52,\n    },\n  },\n  components: {\n    GenericSpriteIcon,\n  },\n  computed: {\n    label: () => 'Friend Unit',\n    iconSrc () {\n      return require('@/assets/battle_friend_icon.png');\n    },\n    sheetSize () {\n      return [17, 22];\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MiniFriendIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MiniFriendIcon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MiniFriendIcon.vue?vue&type=template&id=54344c36&\"\nimport script from \"./MiniFriendIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./MiniFriendIcon.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareSquadCard.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareSquadCard.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',[_c('h1',{staticClass:\"title\"},[_vm._v(\"Delete Confirmation\")])]),_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-flex',[_vm._v(\"Are you sure you want to delete the following squad?\")]),_c('squad-list-card',{attrs:{\"squad\":_vm.squad,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill}},[_c('div',{attrs:{\"slot\":\"card-actions\"},slot:\"card-actions\"})])],1),_c('v-card-actions',{staticStyle:{\"justify-content\":\"space-between\"}},[_c('v-btn',{attrs:{\"disabled\":_vm.isDeleting,\"flat\":\"\",\"color\":\"error\"},on:{\"click\":_vm.deleteSquad}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"delete\")]),_vm._v(\"\\n      Delete\\n    \")],1),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_vm._v(\"\\n      Cancel\\n    \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card>\n    <v-card-title>\n      <h1 class=\"title\">Delete Confirmation</h1>\n    </v-card-title>\n    <v-container fluid>\n      <v-flex>Are you sure you want to delete the following squad?</v-flex>\n      <squad-list-card\n        :squad=\"squad\"\n        :getUnit=\"getUnit\"\n        :getItem=\"getItem\"\n        :getExtraSkill=\"getExtraSkill\">\n        <div slot=\"card-actions\"/>\n      </squad-list-card>\n    </v-container>\n    <v-card-actions style=\"justify-content: space-between;\">\n      <v-btn :disabled=\"isDeleting\" flat color=\"error\" @click=\"deleteSquad\">\n        <v-icon left>delete</v-icon>\n        Delete\n      </v-btn>\n      <v-btn flat @click=\"$emit('cancel')\">\n        Cancel\n      </v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\nimport SquadListCard from '@/components/Tools/Squads/SquadListCard';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\n\nexport default {\n  mixins: [GettersMixin],\n  props: {\n    squad: {\n      type: Object,\n      required: true,\n    },\n    squadId: {\n      type: Number,\n      required: true,\n    },\n  },\n  components: {\n    SquadListCard,\n  },\n  data () {\n    return {\n      isDeleting: false,\n    };\n  },\n  methods: {\n    async deleteSquad () {\n      this.isDeleting = true;\n      try {\n        const result = await this.$store.dispatch('squads/deleteSquad', { id: this.squadId });\n        this.$emit('delete', result);\n      } finally {\n        this.isDeleting - false;\n      }\n    },\n  },\n};\n</script>\n\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteSquadCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteSquadCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DeleteSquadCard.vue?vue&type=template&id=9269e246&\"\nimport script from \"./DeleteSquadCard.vue?vue&type=script&lang=js&\"\nexport * from \"./DeleteSquadCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuffExpandableList.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuffExpandableList.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadUnitEntry.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadUnitEntry.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TriggeredOnCell.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TriggeredOnCell.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"buff-expandable-list-view\"},[_c('v-expansion-panel',{staticClass:\"order-configuration-panel\"},[_c('v-expansion-panel-content',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"\\n        Configure Buff List View\\n      \")]),_c('section',[_c('v-layout',{staticClass:\"pl-2\",attrs:{\"row\":\"\",\"justify-center\":\"\",\"align-center\":\"\"}},[_c('v-flex',{attrs:{\"xs2\":\"\"}},[_vm._v(\"\\n            View Mode\\n          \")]),_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs5\":\"\"}},[_c('v-btn',{attrs:{\"flat\":\"\",\"outline\":_vm.viewMode === _vm.TARGET_VIEW_TYPE},on:{\"click\":function($event){return _vm.emitNewViewMode(_vm.TARGET_VIEW_TYPE)}}},[_vm._v(\"\\n              Target\\n            \")])],1),_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs5\":\"\"}},[_c('v-btn',{attrs:{\"flat\":\"\",\"outline\":_vm.viewMode === _vm.OVERVIEW_VIEW_TYPE},on:{\"click\":function($event){return _vm.emitNewViewMode(_vm.OVERVIEW_VIEW_TYPE)}}},[_vm._v(\"\\n              Overview\\n            \")])],1)],1),_c('order-configurator',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.viewMode === 'target'),expression:\"viewMode === 'target'\"}],attrs:{\"getEntryName\":function (configIndex) { return _vm.possibleTables[configIndex].name; },\"fullValueSet\":_vm.defaultBuffTables},model:{value:(_vm.buffTables),callback:function ($$v) {_vm.buffTables=$$v},expression:\"buffTables\"}}),_c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.viewMode === 'target'),expression:\"viewMode === 'target'\"}]},[_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.buffTables = _vm.buffTables.concat(_vm.defaultBuffTables.filter(function (_, i) { return !_vm.buffTables.includes(i); }))}}},[_vm._v(\"Show All\")]),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.buffTables = []}}},[_vm._v(\"Hide All\")]),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.buffTables = _vm.defaultBuffTables.slice()}}},[_vm._v(\"Reset to Default\")])],1)],1),_vm._t(\"view-config-extra\")],2)],1),_c('section',{staticClass:\"buff-configuration-area my-2\"},[_c('proc-selector',{attrs:{\"showSelector\":_vm.activeSelector === 'procs',\"filterHelper\":_vm.filterHelper},on:{\"toggleview\":function ($show) { return _vm.activeSelector = $show ? 'procs' : ''; }},model:{value:(_vm.filterOptions),callback:function ($$v) {_vm.filterOptions=$$v},expression:\"filterOptions\"}}),_c('passive-selector',{attrs:{\"showSelector\":_vm.activeSelector === 'passives',\"filterHelper\":_vm.filterHelper},on:{\"toggleview\":function ($show) { return _vm.activeSelector = $show ? 'passives' : ''; }},model:{value:(_vm.filterOptions),callback:function ($$v) {_vm.filterOptions=$$v},expression:\"filterOptions\"}}),_c('div',{staticClass:\"px-2\",staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"Buff Highlighting\")]),(_vm.hasPassives || _vm.hasProcs)?[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[(_vm.hasProcs)?_c('v-flex',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"xs12\":\"\",\"md6\":_vm.hasPassives},on:{\"click\":function($event){_vm.activeSelector = 'procs'}}},[_c('v-combobox',{staticClass:\"mx-2\",attrs:{\"value\":_vm.filterOptions.procs,\"disabled\":\"\",\"label\":\"Highlight Active Buffs\",\"hint\":\"Empty selection is equivalent to showing all.\",\"multiple\":\"\",\"persistent-hint\":\"\"}})],1):_vm._e(),(_vm.hasPassives)?_c('v-flex',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"xs12\":\"\",\"md6\":_vm.hasProcs},on:{\"click\":function($event){_vm.activeSelector = 'passives'}}},[_c('v-combobox',{staticClass:\"mx-2\",attrs:{\"value\":_vm.filterOptions.passives,\"disabled\":\"\",\"label\":\"Highlight Passive Buffs\",\"hint\":\"Empty selection is equivalent to showing all.\",\"multiple\":\"\",\"persistent-hint\":\"\"}})],1):_vm._e()],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[(_vm.hasProcs)?_c('v-flex',{attrs:{\"xs12\":\"\",\"md6\":_vm.hasPassives}},[_c('v-alert',{staticClass:\"mx-2\",attrs:{\"value\":true,\"type\":(_vm.missingProcs.length > 0 && 'warning') || 'info'}},[(_vm.missingProcs.length > 0)?[_c('p',[_vm._v(\"The following active buffs are missing from the current squad.\")]),_c('ul',_vm._l((_vm.missingProcs),function(proc){return _c('li',{key:proc,domProps:{\"textContent\":_vm._s(_vm.getEffectNameForIdAndType(proc, 'proc'))}})}),0)]:(_vm.filterOptions.procs.length > 0)?_c('span',[_vm._v(\"All specified active buffs are present.\")]):_c('span',[_vm._v(\"No filters for active buffs specified.\")])],2)],1):_vm._e(),(_vm.hasPassives)?_c('v-flex',{attrs:{\"xs12\":\"\",\"md6\":_vm.hasProcs}},[_c('v-alert',{staticClass:\"mx-2\",attrs:{\"value\":true,\"type\":(_vm.missingPassives.length > 0 && 'warning') || 'info'}},[(_vm.missingPassives.length > 0)?[_c('p',[_vm._v(\"The following passive buffs are missing from the current squad.\")]),_c('ul',_vm._l((_vm.missingPassives),function(passive){return _c('li',{key:passive,domProps:{\"textContent\":_vm._s(_vm.getEffectNameForIdAndType(passive, 'passive'))}})}),0)]:(_vm.filterOptions.passives.length > 0)?_c('span',[_vm._v(\"All specified passive buffs are present.\")]):_c('span',[_vm._v(\"No filters for passive buffs specified.\")])],2)],1):_vm._e()],1)]:_vm._e()],2),_c('dl',[(_vm.viewMode === _vm.TARGET_VIEW_TYPE)?[_vm._l((_vm.buffTables),function(tableConfigIndex){return [_c('dt',{key:((_vm.possibleTables[tableConfigIndex].targetType) + \"-\" + (_vm.possibleTables[tableConfigIndex].effectType) + \"-title\"),class:_vm.buffListTitleClass,style:(_vm.buffListTitleStyle),domProps:{\"textContent\":_vm._s(_vm.possibleTables[tableConfigIndex].name)}}),_c('dd',{key:((_vm.possibleTables[tableConfigIndex].targetType) + \"-\" + (_vm.possibleTables[tableConfigIndex].effectType) + \"-table\")},[_vm._t(\"buffexpandablelist\",[_c('buff-expandable-list',{key:_vm.getEffectTypeKey(_vm.possibleTables[tableConfigIndex].effectType),attrs:{\"sources\":_vm.sources,\"effectType\":_vm.possibleTables[tableConfigIndex].effectType,\"inputEffectMappingBySource\":_vm.effectMappingByTable.get(_vm.getTableKey(_vm.possibleTables[tableConfigIndex].targetType, _vm.possibleTables[tableConfigIndex].effectType)),\"highlightedBuffIds\":_vm.getHighlightedBuffListForTable(_vm.possibleTables[tableConfigIndex].effectType),\"getTextForSource\":_vm.getTextForSource},scopedSlots:_vm._u([{key:\"allentrypreview\",fn:function(ref){\nvar entries = ref.entries;\nvar effectId = ref.effectId;\nreturn [_vm._t(\"allentrypreview\",_vm._l((entries),function(source,i){return _c('div',{key:i},[_vm._v(\"\\n                    \"+_vm._s(source)+\"\\n                  \")])}),{\"entries\":entries,\"effectId\":effectId,\"effectType\":_vm.possibleTables[tableConfigIndex].effectType,\"targetType\":_vm.possibleTables[tableConfigIndex].targetType})]}},{key:\"value-header\",fn:function(ref){\nvar entry = ref.entry;\nreturn [_vm._t(\"value-header\",[_c('span',[_vm._v(_vm._s(entry))])],{\"entry\":entry})]}}],null,true)},[_c('template',{slot:\"noentries\"},[_vm._t(\"noentries\",[_c('span',[_vm._v(\"No entries of type [\"+_vm._s(_vm.possibleTables[tableConfigIndex].effectType)+\"] were found.\")])],{\"effectType\":_vm.possibleTables[tableConfigIndex].effectType,\"targetType\":_vm.possibleTables[tableConfigIndex].targetType})],2)],2)],{\"sources\":_vm.sources,\"targetType\":_vm.possibleTables[tableConfigIndex].targetType,\"effectType\":_vm.possibleTables[tableConfigIndex].effectType,\"inputEffectMappingBySource\":_vm.effectMappingByTable.get(_vm.getTableKey(_vm.possibleTables[tableConfigIndex].targetType, _vm.possibleTables[tableConfigIndex].effectType)),\"highlightedBuffIds\":_vm.getHighlightedBuffListForTable(_vm.possibleTables[tableConfigIndex].effectType),\"getTextForSource\":_vm.getTextForSource,\"listKey\":_vm.getEffectTypeKey(_vm.possibleTables[tableConfigIndex].effectType)})],2)]})]:(_vm.viewMode === _vm.OVERVIEW_VIEW_TYPE)?[_vm._l((_vm.overviewTables),function(tableConfig){return [_c('dt',{key:((tableConfig.mappingKey) + \"-\" + (tableConfig.effectType) + \"-title\"),class:_vm.buffListTitleClass,style:(_vm.buffListTitleStyle),domProps:{\"textContent\":_vm._s(tableConfig.name)}}),_c('dd',{key:((tableConfig.mappingKey) + \"-\" + (tableConfig.effectType) + \"-table\")},[_vm._t(\"buffexpandablelist\",[_c('buff-expandable-list',{key:_vm.getEffectTypeKey(tableConfig.effectType),attrs:{\"sources\":_vm.sources,\"effectType\":tableConfig.effectType,\"inputEffectMappingBySource\":_vm.effectMappingByTable.get(tableConfig.mappingKey),\"highlightedBuffIds\":_vm.getHighlightedBuffListForTable(tableConfig.effectType),\"getTextForSource\":_vm.getTextForSource},scopedSlots:_vm._u([{key:\"allentrypreview\",fn:function(ref){\nvar entries = ref.entries;\nvar effectId = ref.effectId;\nreturn [_vm._t(\"allentrypreview\",_vm._l((entries),function(source,i){return _c('div',{key:i},[_vm._v(\"\\n                    \"+_vm._s(source)+\"\\n                  \")])}),{\"entries\":entries,\"effectId\":effectId,\"effectType\":tableConfig.effectType,\"targetType\":tableConfig.mappingKey})]}},{key:\"value-header\",fn:function(ref){\nvar entry = ref.entry;\nreturn [_vm._t(\"value-header\",[_c('span',[_vm._v(_vm._s(entry))])],{\"entry\":entry})]}}],null,true)},[_c('template',{slot:\"noentries\"},[_vm._t(\"noentries\",[_c('span',[_vm._v(\"No entries of type [\"+_vm._s(tableConfig.effectType)+\"] were found.\")])],{\"effectType\":tableConfig.effectType,\"targetType\":tableConfig.mappingKey})],2)],2)],{\"sources\":_vm.sources,\"targetType\":tableConfig.mappingKey,\"effectType\":tableConfig.effectType,\"inputEffectMappingBySource\":_vm.effectMappingByTable.get(tableConfig.mappingKey),\"highlightedBuffIds\":_vm.getHighlightedBuffListForTable(tableConfig.effectType),\"getTextForSource\":_vm.getTextForSource,\"listKey\":_vm.getEffectTypeKey(tableConfig.effectType)})],2)]})]:[_vm._v(\"\\n      Unknown view mode [\"+_vm._s(_vm.viewMode)+\"]\\n    \")]],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"order-configurator\"},[_vm._l((_vm.value),function(entry,i){return _c('li',{key:_vm.getValueOfEntry(entry, i)},[_c('v-btn',{attrs:{\"icon\":\"\",\"flat\":\"\",\"disabled\":i === 0},on:{\"click\":function($event){return _vm.moveEntryUp(i)}}},[_c('v-icon',[_vm._v(\"keyboard_arrow_up\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"flat\":\"\",\"disabled\":i === _vm.value.length - 1},on:{\"click\":function($event){return _vm.moveEntryDown(i)}}},[_c('v-icon',[_vm._v(\"keyboard_arrow_down\")])],1),_c('span',{domProps:{\"textContent\":_vm._s(_vm.getEntryName(entry))}}),_c('v-btn',{attrs:{\"icon\":\"\",\"flat\":\"\"},on:{\"click\":function($event){return _vm.hideEntry(i)}}},[_c('v-icon',[_vm._v(\"fa fa-eye\")])],1)],1)}),_vm._l((_vm.remainingValues),function(entry,i){return _c('li',{key:_vm.getValueOfEntry(entry, i + _vm.value.length)},[_c('v-btn',{attrs:{\"icon\":\"\",\"flat\":\"\",\"disabled\":\"\"}},[_c('v-icon',[_vm._v(\"keyboard_arrow_up\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"flat\":\"\",\"disabled\":\"\"}},[_c('v-icon',[_vm._v(\"keyboard_arrow_down\")])],1),_c('span',{staticClass:\"grey--text\",domProps:{\"textContent\":_vm._s(_vm.getEntryName(entry))}}),_c('v-btn',{attrs:{\"icon\":\"\",\"flat\":\"\"},on:{\"click\":function($event){return _vm.showEntry(i)}}},[_c('v-icon',[_vm._v(\"fa fa-eye-slash\")])],1)],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ul class=\"order-configurator\">\n    <li v-for=\"(entry, i) in value\" :key=\"getValueOfEntry(entry, i)\">\n      <v-btn icon flat @click=\"moveEntryUp(i)\" :disabled=\"i === 0\">\n        <v-icon>keyboard_arrow_up</v-icon>\n      </v-btn>\n      <v-btn icon flat @click=\"moveEntryDown(i)\" :disabled=\"i === value.length - 1\">\n        <v-icon>keyboard_arrow_down</v-icon>\n      </v-btn>\n      <span v-text=\"getEntryName(entry)\"/>\n      <v-btn icon flat @click=\"hideEntry(i)\">\n        <v-icon>fa fa-eye</v-icon>\n      </v-btn>\n    </li>\n    <li v-for=\"(entry, i) in remainingValues\" :key=\"getValueOfEntry(entry, i + value.length)\">\n      <v-btn icon flat disabled>\n        <v-icon>keyboard_arrow_up</v-icon>\n      </v-btn>\n      <v-btn icon flat disabled>\n        <v-icon>keyboard_arrow_down</v-icon>\n      </v-btn>\n      <span v-text=\"getEntryName(entry)\" class=\"grey--text\"/>\n      <v-btn icon flat @click=\"showEntry(i)\">\n        <v-icon>fa fa-eye-slash</v-icon>\n      </v-btn>\n    </li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  props: {\n    value: {\n      type: Array,\n      default: () => [],\n    },\n    getEntryName: {\n      type: Function,\n      default: (v) => (v && v.name) || v,\n    },\n    getEntryValue: {\n      required: false,\n    },\n    fullValueSet: {\n      required: false,\n    },\n  },\n  computed: {\n    remainingValues () {\n      // default to value array if no full value set is defined\n      const fullValueSet = Array.isArray(this.fullValueSet) ? this.fullValueSet : this.value;\n      let remainingValues;\n      if (fullValueSet !== this.value) {\n        remainingValues = this.fullValueSet.filter(v => !this.value.includes(v));\n      } else {\n        remainingValues = [];\n      }\n      return remainingValues;\n    },\n  },\n  methods: {\n    getValueOfEntry (v, i) {\n      return typeof this.getEntryValue !== 'function'\n        ? `${this.getEntryName(v)}-${i}`\n        : this.getEntryValue(v, i);\n    },\n    emitValue (value) {\n      this.$emit('input', value);\n    },\n    moveEntryUp (indexOfEntryToMove) {\n      const newOrder = this.value.slice();\n      if (indexOfEntryToMove > 0 && indexOfEntryToMove < newOrder.length) {\n        const otherEntry = newOrder[indexOfEntryToMove - 1];\n        const currentEntry = newOrder[indexOfEntryToMove];\n        newOrder[indexOfEntryToMove - 1] = currentEntry;\n        newOrder[indexOfEntryToMove] = otherEntry;\n      }\n      this.emitValue(newOrder);\n    },\n    moveEntryDown (indexOfEntryToMove) {\n      const newOrder = this.value.slice();\n      if (indexOfEntryToMove > -1 && indexOfEntryToMove < newOrder.length - 1) {\n        const otherEntry = newOrder[indexOfEntryToMove + 1];\n        const currentEntry = newOrder[indexOfEntryToMove];\n        newOrder[indexOfEntryToMove + 1] = currentEntry;\n        newOrder[indexOfEntryToMove] = otherEntry;\n      }\n      this.emitValue(newOrder);\n    },\n    hideEntry (indexOfEntry) {\n      this.emitValue(this.value.filter((v, i) => i !== indexOfEntry));\n    },\n    showEntry (indexOfEntry) {\n      const newOrder = this.value.slice();\n      if (indexOfEntry > -1 && indexOfEntry < this.remainingValues.length) {\n        newOrder.push(this.remainingValues[indexOfEntry]);\n      }\n      this.emitValue(newOrder);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\nul.order-configurator {\n  list-style-type: none;\n  padding: 0;\n\n  li {\n    display: grid;\n    // position-up position-down name toggle-display\n    grid-template-columns: auto auto 1fr auto;\n\n    align-items: center;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderConfigurator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderConfigurator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderConfigurator.vue?vue&type=template&id=6d540250&\"\nimport script from \"./OrderConfigurator.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderConfigurator.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderConfigurator.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"buff-expandable-list-view\">\n    <v-expansion-panel class=\"order-configuration-panel\">\n      <v-expansion-panel-content>\n        <div slot=\"header\">\n          Configure Buff List View\n        </div>\n        <section>\n          <v-layout row justify-center align-center class=\"pl-2\">\n            <v-flex xs2>\n              View Mode\n            </v-flex>\n            <v-flex xs5 class=\"text-xs-center\">\n              <v-btn\n                flat\n                :outline=\"viewMode === TARGET_VIEW_TYPE\"\n                @click=\"emitNewViewMode(TARGET_VIEW_TYPE)\"\n              >\n                Target\n              </v-btn>\n            </v-flex>\n            <v-flex xs5 class=\"text-xs-center\">\n              <v-btn\n                flat\n                :outline=\"viewMode === OVERVIEW_VIEW_TYPE\"\n                @click=\"emitNewViewMode(OVERVIEW_VIEW_TYPE)\"\n              >\n                Overview\n              </v-btn>\n            </v-flex>\n          </v-layout>\n          <order-configurator\n            v-show=\"viewMode === 'target'\"\n            v-model=\"buffTables\"\n            :getEntryName=\"(configIndex) => possibleTables[configIndex].name\"\n            :fullValueSet=\"defaultBuffTables\"\n          />\n          <section v-show=\"viewMode === 'target'\">\n            <v-btn flat @click=\"buffTables = buffTables.concat(defaultBuffTables.filter((_, i) => !buffTables.includes(i)))\">Show All</v-btn>\n            <v-btn flat @click=\"buffTables = []\">Hide All</v-btn>\n            <v-btn flat @click=\"buffTables = defaultBuffTables.slice()\">Reset to Default</v-btn>\n          </section>\n        </section>\n        <slot name=\"view-config-extra\"></slot>\n      </v-expansion-panel-content>\n    </v-expansion-panel>\n    <section class=\"buff-configuration-area my-2\">\n      <proc-selector\n        :showSelector=\"activeSelector === 'procs'\"\n        @toggleview=\"$show => activeSelector = $show ? 'procs' : ''\"\n        v-model=\"filterOptions\"\n        :filterHelper=\"filterHelper\"\n      />\n      <passive-selector\n        :showSelector=\"activeSelector === 'passives'\"\n        @toggleview=\"$show => activeSelector = $show ? 'passives' : ''\"\n        v-model=\"filterOptions\"\n        :filterHelper=\"filterHelper\"\n      />\n      <div class=\"px-2\" style=\"font-weight: bold;\">Buff Highlighting</div>\n      <template v-if=\"hasPassives || hasProcs\">\n        <v-layout row wrap>\n          <v-flex\n            v-if=\"hasProcs\"\n            xs12 :md6=\"hasPassives\"\n            @click=\"activeSelector = 'procs'\"\n            style=\"cursor: pointer;\"\n          >\n            <v-combobox\n              :value=\"filterOptions.procs\"\n              class=\"mx-2\"\n              disabled\n              label=\"Highlight Active Buffs\"\n              hint=\"Empty selection is equivalent to showing all.\"\n              multiple\n              persistent-hint/>\n          </v-flex>\n          <v-flex\n            v-if=\"hasPassives\"\n            xs12 :md6=\"hasProcs\"\n            @click=\"activeSelector = 'passives'\"\n            style=\"cursor: pointer;\"\n          >\n            <v-combobox\n              :value=\"filterOptions.passives\"\n              class=\"mx-2\"\n              disabled\n              label=\"Highlight Passive Buffs\"\n              hint=\"Empty selection is equivalent to showing all.\"\n              multiple\n              persistent-hint/>\n          </v-flex>\n        </v-layout>\n        <v-layout row wrap>\n          <v-flex v-if=\"hasProcs\" xs12 :md6=\"hasPassives\">\n            <v-alert\n              class=\"mx-2\"\n              :value=\"true\"\n              :type=\"(missingProcs.length > 0 && 'warning') || 'info'\"\n            >\n              <template v-if=\"missingProcs.length > 0\">\n                <p>The following active buffs are missing from the current squad.</p>\n                <ul>\n                  <li\n                    v-for=\"proc in missingProcs\"\n                    :key=\"proc\"\n                    v-text=\"getEffectNameForIdAndType(proc, 'proc')\"\n                  />\n                </ul>\n              </template>\n              <span v-else-if=\"filterOptions.procs.length > 0\">All specified active buffs are present.</span>\n              <span v-else>No filters for active buffs specified.</span>\n            </v-alert>\n          </v-flex>\n          <v-flex v-if=\"hasPassives\" xs12 :md6=\"hasProcs\">\n            <v-alert\n              class=\"mx-2\"\n              :value=\"true\"\n              :type=\"(missingPassives.length > 0 && 'warning') || 'info'\"\n            >\n              <template v-if=\"missingPassives.length > 0\">\n                <p>The following passive buffs are missing from the current squad.</p>\n                <ul>\n                  <li\n                    v-for=\"passive in missingPassives\"\n                    :key=\"passive\"\n                    v-text=\"getEffectNameForIdAndType(passive, 'passive')\"\n                  />\n                </ul>\n              </template>\n              <span v-else-if=\"filterOptions.passives.length > 0\">All specified passive buffs are present.</span>\n              <span v-else>No filters for passive buffs specified.</span>\n            </v-alert>\n          </v-flex>\n        </v-layout>\n      </template>\n    </section>\n    <dl>\n      <template v-if=\"viewMode === TARGET_VIEW_TYPE\">\n        <template v-for=\"tableConfigIndex in buffTables\">\n          <dt\n            :class=\"buffListTitleClass\"\n            :style=\"buffListTitleStyle\"\n            :key=\"`${possibleTables[tableConfigIndex].targetType}-${possibleTables[tableConfigIndex].effectType}-title`\"\n            v-text=\"possibleTables[tableConfigIndex].name\"\n          />\n          <dd :key=\"`${possibleTables[tableConfigIndex].targetType}-${possibleTables[tableConfigIndex].effectType}-table`\">\n            <slot\n              name=\"buffexpandablelist\"\n              :sources=\"sources\"\n              :targetType=\"possibleTables[tableConfigIndex].targetType\"\n              :effectType=\"possibleTables[tableConfigIndex].effectType\"\n              :inputEffectMappingBySource=\"effectMappingByTable.get(getTableKey(possibleTables[tableConfigIndex].targetType, possibleTables[tableConfigIndex].effectType))\"\n              :highlightedBuffIds=\"getHighlightedBuffListForTable(possibleTables[tableConfigIndex].effectType)\"\n              :getTextForSource=\"getTextForSource\"\n              :listKey=\"getEffectTypeKey(possibleTables[tableConfigIndex].effectType)\"\n            >\n              <buff-expandable-list\n                :key=\"getEffectTypeKey(possibleTables[tableConfigIndex].effectType)\"\n                :sources=\"sources\"\n                :effectType=\"possibleTables[tableConfigIndex].effectType\"\n                :inputEffectMappingBySource=\"effectMappingByTable.get(getTableKey(possibleTables[tableConfigIndex].targetType, possibleTables[tableConfigIndex].effectType))\"\n                :highlightedBuffIds=\"getHighlightedBuffListForTable(possibleTables[tableConfigIndex].effectType)\"\n                :getTextForSource=\"getTextForSource\"\n              >\n                <template slot=\"noentries\">\n                  <slot\n                    name=\"noentries\"\n                    :effectType=\"possibleTables[tableConfigIndex].effectType\"\n                    :targetType=\"possibleTables[tableConfigIndex].targetType\"\n                  >\n                    <span>No entries of type [{{ possibleTables[tableConfigIndex].effectType }}] were found.</span>\n                  </slot>\n                </template>\n                <template slot=\"allentrypreview\" slot-scope=\"{ entries, effectId }\">\n                  <slot\n                    name=\"allentrypreview\"\n                    :entries=\"entries\"\n                    :effectId=\"effectId\"\n                    :effectType=\"possibleTables[tableConfigIndex].effectType\"\n                    :targetType=\"possibleTables[tableConfigIndex].targetType\"\n                  >\n                    <div v-for=\"(source, i) in entries\" :key=\"i\">\n                      {{ source }}\n                    </div>\n                  </slot>\n                </template>\n                <template slot=\"value-header\" slot-scope=\"{ entry }\">\n                  <slot name=\"value-header\" :entry=\"entry\">\n                    <span>{{ entry }}</span>\n                  </slot>\n                </template>\n              </buff-expandable-list>\n            </slot>\n          </dd>\n        </template>\n      </template>\n      <template v-else-if=\"viewMode === OVERVIEW_VIEW_TYPE\">\n        <template v-for=\"tableConfig in overviewTables\">\n          <dt\n            :class=\"buffListTitleClass\"\n            :style=\"buffListTitleStyle\"\n            :key=\"`${tableConfig.mappingKey}-${tableConfig.effectType}-title`\"\n            v-text=\"tableConfig.name\"\n          />\n          <dd :key=\"`${tableConfig.mappingKey}-${tableConfig.effectType}-table`\">\n            <slot\n              name=\"buffexpandablelist\"\n              :sources=\"sources\"\n              :targetType=\"tableConfig.mappingKey\"\n              :effectType=\"tableConfig.effectType\"\n              :inputEffectMappingBySource=\"effectMappingByTable.get(tableConfig.mappingKey)\"\n              :highlightedBuffIds=\"getHighlightedBuffListForTable(tableConfig.effectType)\"\n              :getTextForSource=\"getTextForSource\"\n              :listKey=\"getEffectTypeKey(tableConfig.effectType)\"\n            >\n              <buff-expandable-list\n                :key=\"getEffectTypeKey(tableConfig.effectType)\"\n                :sources=\"sources\"\n                :effectType=\"tableConfig.effectType\"\n                :inputEffectMappingBySource=\"effectMappingByTable.get(tableConfig.mappingKey)\"\n                :highlightedBuffIds=\"getHighlightedBuffListForTable(tableConfig.effectType)\"\n                :getTextForSource=\"getTextForSource\"\n              >\n                <template slot=\"noentries\">\n                  <slot\n                    name=\"noentries\"\n                    :effectType=\"tableConfig.effectType\"\n                    :targetType=\"tableConfig.mappingKey\"\n                  >\n                    <span>No entries of type [{{ tableConfig.effectType }}] were found.</span>\n                  </slot>\n                </template>\n                <template slot=\"allentrypreview\" slot-scope=\"{ entries, effectId }\">\n                  <slot\n                    name=\"allentrypreview\"\n                    :entries=\"entries\"\n                    :effectId=\"effectId\"\n                    :effectType=\"tableConfig.effectType\"\n                    :targetType=\"tableConfig.mappingKey\"\n                  >\n                    <div v-for=\"(source, i) in entries\" :key=\"i\">\n                      {{ source }}\n                    </div>\n                  </slot>\n                </template>\n                <template slot=\"value-header\" slot-scope=\"{ entry }\">\n                  <slot name=\"value-header\" :entry=\"entry\">\n                    <span>{{ entry }}</span>\n                  </slot>\n                </template>\n              </buff-expandable-list>\n            </slot>\n          </dd>\n        </template>\n      </template>\n      <template v-else>\n        Unknown view mode [{{ viewMode }}]\n      </template>\n    </dl>\n  </div>\n</template>\n\n<script>\nimport { targetTypes, squadBuffTypes } from '@/modules/constants';\nimport { getEffectId } from '@/modules/EffectProcessor/processor-helper';\nimport { getEffectName } from '@/modules/core/buffs';\nimport FilterOptionsHelper from '@/modules/FilterOptionsHelper';\nimport OrderConfigurator from '@/components/OrderConfigurator';\nimport ProcSelector from '@/components/Multidex/Filters/BuffSelector/ProcSelector';\nimport PassiveSelector from '@/components/Multidex/Filters/BuffSelector/PassiveSelector';\nimport BuffExpandableList from './BuffExpandableList.vue';\n\nconst TARGET_VIEW_TYPE = 'target';\nconst OVERVIEW_VIEW_TYPE = 'overview';\nconst POSSIBLE_VIEW_TYPES = Object.freeze([TARGET_VIEW_TYPE, OVERVIEW_VIEW_TYPE]);\n\nexport default {\n props: {\n    sources: {\n      type: Array,\n      required: true,\n    },\n    getEffectsFromSource: {\n      type: Function,\n      default: () => [],\n    },\n    getTextForSource: {\n      type: Function,\n      // eslint-disable-next-line no-unused-vars\n      default: (path, source, initial) => initial || path,\n    },\n    titleTopOffset: {\n      type: Number,\n      default: 56,\n    },\n    hasPassives: {\n      type: Boolean,\n      default: true,\n    },\n    hasProcs: {\n      type: Boolean,\n      default: true,\n    },\n    inputFilterOptions: {\n      required: false,\n    },\n    viewMode: {\n      type: String,\n      default: POSSIBLE_VIEW_TYPES[0],\n    },\n    stickyTitles: {\n      type: Boolean,\n      default: true,\n    },\n },\n components: {\n    BuffExpandableList,\n    OrderConfigurator,\n    ProcSelector,\n    PassiveSelector,\n },\n computed: {\n   TARGET_VIEW_TYPE: () => TARGET_VIEW_TYPE,\n   OVERVIEW_VIEW_TYPE: () => OVERVIEW_VIEW_TYPE,\n   buffListTitleStyle () {\n     return {\n       top: `${this.titleTopOffset}px`,\n     };\n   },\n   buffListTitleClass () {\n     return {\n       title: true,\n       'is-sticky': this.stickyTitles,\n     };\n   },\n   possibleTables: () => Object.freeze([\n      {\n        name: 'Party Passives',\n        targetType: targetTypes.PARTY,\n        effectType: squadBuffTypes.PASSIVE,\n      },\n      {\n        name: 'Party Buffs',\n        targetType: targetTypes.PARTY,\n        effectType: squadBuffTypes.PROC,\n      },\n      {\n        name: 'For the Enemy',\n        targetType: targetTypes.ENEMY,\n        effectType: squadBuffTypes.PROC,\n      },\n      {\n        name: 'Self Passives',\n        targetType: targetTypes.SELF,\n        effectType: squadBuffTypes.PASSIVE,\n      },\n      {\n        name: 'Self Buffs',\n        targetType: targetTypes.SELF,\n        effectType: squadBuffTypes.PROC,\n      },\n      {\n        name: 'Other Passives',\n        targetType: targetTypes.OTHER,\n        effectType: squadBuffTypes.PASSIVE,\n      },\n      {\n        name: 'Other Buffs',\n        targetType: targetTypes.OTHER,\n        effectType: squadBuffTypes.PROC,\n      },\n    ]),\n    overviewTables: () => Object.freeze([\n      {\n        name: 'All Passive Buffs',\n        effectType: squadBuffTypes.PASSIVE,\n        mappingKey: 'allPassivesMapping',\n      },\n      {\n        name: 'All Active Buffs',\n        effectType: squadBuffTypes.PROC,\n        mappingKey: 'allProcsMapping',\n      },\n    ]),\n    defaultBuffTables () {\n      return Object.freeze(this.possibleTables.map((_, i) => i));\n    },\n    effectMappingByTable () {\n      const allProcIds = new Set();\n      const allPassiveIds = new Set();\n      const tableMapping = new Map();\n      const { sources, possibleTables, getEffectsFromSource, getTableKey } = this;\n\n      const allProcsBySource = new WeakMap();\n      const allPassivesBySource = new WeakMap();\n      possibleTables.forEach(({ targetType, effectType }) => {\n        const effectMappingBySource = new WeakMap();\n        sources.forEach(entry => {\n          const effects = getEffectsFromSource(entry, targetType, effectType);\n          const currentProcAggregate = allProcsBySource.get(entry) || [];\n          const currentPassiveAggregate = allPassivesBySource.get(entry) || [];\n          effects.forEach(effect => {\n            if (effectType === squadBuffTypes.PROC) {\n              allProcIds.add(getEffectId(effect));\n              currentProcAggregate.push(effect);\n            } else if (effectType === squadBuffTypes.PASSIVE) {\n              allPassiveIds.add(getEffectId(effect));\n              currentPassiveAggregate.push(effect);\n            }\n          });\n          effectMappingBySource.set(entry, effects);\n          allProcsBySource.set(entry, currentProcAggregate);\n          allPassivesBySource.set(entry, currentPassiveAggregate);\n        });\n        tableMapping.set(getTableKey(targetType, effectType), effectMappingBySource);\n      });\n\n      tableMapping.set('allProcs', Array.from(allProcIds).sort((a, b) => +a - +b));\n      tableMapping.set('allPassives', Array.from(allPassiveIds).sort((a, b) => +a - +b));\n      tableMapping.set('allProcsMapping', allProcsBySource);\n      tableMapping.set('allPassivesMapping', allPassivesBySource);\n      return tableMapping;\n    },\n    missingProcs () {\n      const allProcs = this.effectMappingByTable.get('allProcs');\n      const { procs } = this.filterOptions;\n      return procs.filter(id => !allProcs.includes(id));\n    },\n    missingPassives () {\n      const allPassives = this.effectMappingByTable.get('allPassives');\n      const { passives } = this.filterOptions;\n      return passives.filter(id => !allPassives.includes(id));\n    },\n    hasBuffFilters () {\n      return (this.hasProcs && this.filterOptions.procs.length > 0) ||\n        (this.hasPassives && this.filterOptions.passives.length > 0);\n    },\n  },\n  data () {\n    return {\n      buffTables: [],\n      filterOptions: {\n        procs: [],\n        passives: [],\n      },\n      activeSelector: '',\n      filterHelper: new FilterOptionsHelper(),\n    };\n  },\n  created () {\n    this.buffTables = this.defaultBuffTables.slice();\n    if (typeof this.inputFilterOptions === 'object') {\n      this.filterOptions.procs = Array.isArray(this.inputFilterOptions.procs)\n        ? this.inputFilterOptions.procs.slice()\n        : [];\n\n      this.filterOptions.passives = Array.isArray(this.inputFilterOptions.passives)\n        ? this.inputFilterOptions.passives.slice()\n        : [];\n    }\n  },\n  methods: {\n    getTableKey (targetType, effectType) {\n      return `${targetType}-${effectType}`;\n    },\n    getEffectTypeKey (effectType) {\n      let key = '';\n      if (effectType === squadBuffTypes.PROC) {\n        key = this.filterOptions.procs.join('-');\n      } else if (effectType === squadBuffTypes.PASSIVE) {\n        key = this.filterOptions.passives.join('-');\n      }\n      return key;\n    },\n    getEffectNameForIdAndType (id, type) {\n      let result;\n      if (type === squadBuffTypes.PASSIVE) {\n        result = getEffectName({ 'passive id': id });\n      } else if (type === squadBuffTypes.PROC) {\n        result = getEffectName({ 'proc id': id });\n      }\n\n      if (!result) {\n        result = `Unknown buff`;\n      }\n\n      return `${result} [${id}]`;\n    },\n    getHighlightedBuffListForTable (effectType) {\n      let list = [];\n      if (effectType === squadBuffTypes.PASSIVE && this.hasPassives) {\n        list = this.filterOptions.passives;\n      } else if (effectType === squadBuffTypes.PROC && this.hasProcs) {\n        list = this.filterOptions.procs;\n      }\n      return list;\n    },\n    emitNewViewMode (viewType = TARGET_VIEW_TYPE) {\n      this.$emit('viewmode', viewType);\n    },\n  },\n  watch: {\n    activeSelector () {\n      const { procs = [], passives = [] } = this.filterOptions;\n      this.$emit('filteroptions', { procs, passives });\n    },\n    viewMode: {\n      immediate: true,\n      handler (newValue) {\n        if (!POSSIBLE_VIEW_TYPES.includes(newValue)) {\n          this.emitNewViewMode(POSSIBLE_VIEW_TYPES[0]);\n        }\n      },\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.buff-expandable-list-view {\n  .order-configuration-panel {\n    .v-expansion-panel__header {\n      padding-left: 8px;\n      padding-right: 8px;\n      font-weight: bold;\n    }\n  }\n  dl {\n    width: 100%;\n\n    > dt {\n      background: var(--background-color);\n      padding: 0.75em 0.25em;\n      margin: 0 -0.25em;\n      border-bottom-left-radius: 8px;\n      border-bottom-right-radius: 8px;\n      border-bottom: 1px solid var(--background-color-alt);\n\n      &.is-sticky {\n        position: sticky;\n        z-index: 2;\n      }\n    }\n  }\n\n  dd {\n    // width: 100%;\n    overflow-x: auto;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuffExpandableListView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuffExpandableListView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BuffExpandableListView.vue?vue&type=template&id=154d8fc7&\"\nimport script from \"./BuffExpandableListView.vue?vue&type=script&lang=js&\"\nexport * from \"./BuffExpandableListView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BuffExpandableListView.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"squad-list--entry-card\"},[_c('v-layout',{staticClass:\"pa-2\",attrs:{\"row\":\"\"}},[_c('v-flex',[_c('h1',{staticClass:\"title\"},[_vm._v(\"\\n        \"+_vm._s(_vm.squad.name)+\"\\n      \")])]),_c('v-spacer'),_c('v-flex',{staticStyle:{\"flex-grow\":\"0\"}},[_c('h2',{staticClass:\"subheading\"},[_vm._v(\"\\n        \"+_vm._s(_vm.squadCost)+\" Cost\\n      \")])])],1),_c('v-layout',{staticClass:\"px-2\",attrs:{\"row\":\"\",\"wrap\":\"\"}},[(!_vm.isLoadingInParent)?_vm._l((_vm.fullUnits),function(unit,i){return _c('unit-entry',{key:_vm.getUnitEntryKey(unit, i),staticClass:\"d-flex py-1\",staticStyle:{\"align-items\":\"center\",\"border\":\"1px solid var(--background-color-alt)\"},attrs:{\"xs12\":\"\",\"sm6\":\"\",\"index\":i,\"isVisible\":_vm.isVisible,\"unit\":unit,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"isLead\":i === _vm.squad.lead,\"isFriend\":i === _vm.squad.friend}})}):_c('loading-indicator',{attrs:{\"loadingMessage\":\"Loading squad data\"}})],2),_c('v-divider',{staticClass:\"mt-2\"}),_vm._t(\"card-actions\",[_c('v-card-actions',[(_vm.to)?_c('v-btn',{attrs:{\"flat\":\"\",\"disabled\":_vm.isLoadingInParent || !_vm.isVisible,\"to\":_vm.to}},[_vm._v(\"View\")]):_c('v-btn',{attrs:{\"flat\":\"\",\"disabled\":_vm.isLoadingInParent || !_vm.isVisible},on:{\"click\":function($event){return _vm.$emit('view')}}},[_vm._v(\"View\")]),_c('v-btn',{attrs:{\"flat\":\"\",\"disabled\":_vm.isLoadingInParent || !_vm.isVisible},on:{\"click\":function($event){return _vm.$emit('share')}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"share\")]),_vm._v(\"\\n        Share\\n      \")],1),_c('v-spacer'),_c('v-btn',{attrs:{\"flat\":\"\",\"disabled\":_vm.isLoadingInParent || !_vm.isVisible},on:{\"click\":function($event){return _vm.$emit('delete')}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"delete\")]),_vm._v(\"\\n        Delete\\n      \")],1)],1)],{\"disabled\":_vm.isLoadingInParent || !_vm.isVisible})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card class=\"squad-list--entry-card\">\n    <v-layout row class=\"pa-2\">\n      <v-flex>\n        <h1 class=\"title\">\n          {{ squad.name }}\n        </h1>\n      </v-flex>\n      <v-spacer/>\n      <v-flex style=\"flex-grow: 0;\">\n        <h2 class=\"subheading\">\n          {{ squadCost }} Cost\n        </h2>\n      </v-flex>\n    </v-layout>\n    <v-layout row wrap class=\"px-2\">\n      <template v-if=\"!isLoadingInParent\">\n        <unit-entry\n          v-for=\"(unit, i) in fullUnits\"\n          :key=\"getUnitEntryKey(unit, i)\"\n          xs12 sm6\n          :index=\"i\"\n          :isVisible=\"isVisible\"\n          :unit=\"unit\"\n          :getUnit=\"getUnit\"\n          :getItem=\"getItem\"\n          :getExtraSkill=\"getExtraSkill\"\n          :isLead=\"i === squad.lead\"\n          :isFriend=\"i === squad.friend\"\n          class=\"d-flex py-1\"\n          style=\"align-items: center; border: 1px solid var(--background-color-alt);\"/>\n      </template>\n      <loading-indicator v-else loadingMessage=\"Loading squad data\"/>\n    </v-layout>\n    <v-divider class=\"mt-2\"/>\n    <slot name=\"card-actions\" :disabled=\"isLoadingInParent || !isVisible\">\n      <v-card-actions>\n        <v-btn flat :disabled=\"isLoadingInParent || !isVisible\" v-if=\"to\" :to=\"to\">View</v-btn>\n        <v-btn flat :disabled=\"isLoadingInParent || !isVisible\" v-else @click=\"$emit('view')\">View</v-btn>\n        <v-btn flat :disabled=\"isLoadingInParent || !isVisible\" @click=\"$emit('share')\">\n          <v-icon left>share</v-icon>\n          Share\n        </v-btn>\n        <v-spacer/>\n        <v-btn flat :disabled=\"isLoadingInParent || !isVisible\" @click=\"$emit('delete')\">\n          <v-icon left>delete</v-icon>\n          Delete\n        </v-btn>\n      </v-card-actions>\n    </slot>\n  </v-card>\n</template>\n\n<script>\nimport { unitPositionMapping } from '@/modules/constants';\nimport { generateFillerSquadUnitEntry } from '@/modules/core/squads';\nimport UnitEntry from '@/components/Tools/Squads/SquadUnitEntry';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\nimport LoadingIndicator from '@/components/LoadingIndicator';\n\nexport default {\n  mixins: [GettersMixin],\n  components: {\n    UnitEntry,\n    LoadingIndicator,\n  },\n  props: {\n    squad: {\n      type: Object,\n      required: true,\n    },\n    to: {\n      type: String,\n      default: '',\n    },\n    isVisible: {\n      type: Boolean,\n      default: true,\n    },\n    isLoadingInParent: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  computed: {\n    squadCost () {\n      return this.squad.units\n        .map(({ id }) => this.getUnit(id))\n        .reduce((acc, unit) => acc + (+(unit.cost || 0)), 0);\n    },\n    // fills empty positions with empty values\n    fullUnits () {\n      return unitPositionMapping.map(position => {\n        let unit = this.squad.units.find(unit => unit.position === position);\n        if (!unit) { // empty position, so fill it with empty data\n          unit = generateFillerSquadUnitEntry({ isEmpty: true, bbOrder: null, position });\n        }\n\n        return unit;\n      });\n    },\n  },\n  methods: {\n    getUnitEntryKey (unit = {}, i = 0) {\n      return `${JSON.stringify(unit)}-${i}`;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadListCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadListCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SquadListCard.vue?vue&type=template&id=14de4c07&\"\nimport script from \"./SquadListCard.vue?vue&type=script&lang=js&\"\nexport * from \"./SquadListCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',_vm._b({staticClass:\"squad-card--editable\"},'v-card',_vm.$attrs,false),[_c('v-layout',{staticClass:\"px-2 pt-2\",attrs:{\"row\":\"\",\"align-center\":\"\"}},[_c('v-flex',[_c('v-text-field',{attrs:{\"label\":\"Squad Name\"},model:{value:(_vm.squad.name),callback:function ($$v) {_vm.$set(_vm.squad, \"name\", $$v)},expression:\"squad.name\"}})],1),_c('v-flex',{staticClass:\"ml-2\",staticStyle:{\"flex-grow\":\"0\"}},[_c('h2',{staticClass:\"subheading\"},[_vm._v(\"\\n        \"+_vm._s(_vm.squadCost)+\" Cost\\n      \")])])],1),_c('v-layout',{staticClass:\"px-2\",attrs:{\"row\":\"\",\"wrap\":\"\"},on:{\"mouseleave\":function($event){_vm.highlightedIndex = -1}}},[(!_vm.isLoadingInParent)?[_vm._l((_vm.fullUnits),function(unit,i){return _c('unit-entry',{key:_vm.getUnitEntryKey(unit, i),staticClass:\"d-flex py-1\",style:((\"\\n          align-items: center;\\n          border: 1px solid \" + (_vm.selectedIndex === i ? 'yellow' : 'var(--background-color-alt)') + \";\\n          position: relative;\")),attrs:{\"xs12\":\"\",\"sm6\":\"\",\"index\":i,\"unit\":unit,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"isLead\":i === _vm.squad.lead,\"isFriend\":i === _vm.squad.friend},on:{\"mouseover\":function($event){_vm.highlightedIndex = i;},\"click\":function () { _vm.selectedIndex = (_vm.selectedIndex !== i ? i : -1) }}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.highlightedIndex === i),expression:\"highlightedIndex === i\"}],style:(\"\\n            position: absolute;\\n            width: 100%;\\n            height: 100%;\\n            z-index: 10;\\n            cursor: pointer;\\n          \"),attrs:{\"slot\":\"before-content\"},slot:\"before-content\"},[_c('v-container',{staticStyle:{\"background\":\"rgba(0, 0, 0, 0.5)\"},attrs:{\"fluid\":\"\",\"justify-center\":\"\",\"fill-height\":\"\"}},[_c('v-flex',{attrs:{\"align-center\":\"\"}},[_c('v-btn',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"flat\":\"\",\"block\":\"\"}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"create\")]),_vm._v(\"\\n                Edit\\n              \")],1)],1)],1)],1)])}),(_vm.squad.units[_vm.selectedIndex])?_c('v-flex',{staticClass:\"py-1\",attrs:{\"xs12\":\"\"}},[_c('v-divider')],1):_vm._e(),_c('v-layout',{attrs:{\"column\":\"\"}},[_c('v-flex',[_c('span',{domProps:{\"textContent\":_vm._s(_vm.unitSelectionText)}})]),(_vm.squad.units[_vm.selectedIndex])?_c('unit-entry-editor',{staticClass:\"py-2\",attrs:{\"squad\":_vm.squad,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"selectedIndex\":_vm.selectedIndex},on:{\"newunits\":function ($ev) { _vm.selectedIndex = $ev.newIndex; _vm.$emit('newunits', $ev.units) },\"newsquad\":function ($ev) { _vm.selectedIndex = $ev.newIndex; _vm.$emit('newsquad', $ev.squad); }}}):_vm._e()],1)]:_c('loading-indicator',{attrs:{\"loadingMessage\":\"Loading squad data\"}})],2),_c('v-divider',{staticClass:\"mt-2\"}),_vm._t(\"card-actions\",[_c('v-card-actions',{staticStyle:{\"justify-content\":\"space-between\"},attrs:{\"disabled\":_vm.isLoadingInParent}},[_c('v-btn',{attrs:{\"flat\":\"\",\"disabled\":_vm.isLoadingInParent},on:{\"click\":_vm.onSaveClick}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"save\")]),_vm._v(\"\\n        Save Squad\\n      \")],1),_c('v-btn',{attrs:{\"flat\":\"\",\"disabled\":_vm.isLoadingInParent,\"to\":_vm.redirectOnCancel ? '/tools/squads' : undefined},on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_c('span',[_vm._v(\"Cancel\")])])],1)])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{staticClass:\"unit-entry-editor\",attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-dialog',{attrs:{\"value\":!!_vm.activeDialog,\"lazy\":\"\"},on:{\"input\":function($event){_vm.activeDialog = ''}}},[(_vm.activeDialog === 'units')?_c('unit-selector',{on:{\"input\":function ($d) { return _vm.setUnit($d.data); },\"cancel\":function($event){_vm.activeDialog = ''}}}):(_vm.activeDialog === 'extraSkills')?_c('es-selector',{on:{\"input\":function ($d) { return _vm.setExtraSkill($d.id); },\"cancel\":function($event){_vm.activeDialog = ''}}}):(_vm.activeDialog === 'spheres')?_c('sphere-selector',{on:{\"input\":function ($d) { return _vm.onSelectSphere($d.id); },\"cancel\":function($event){_vm.activeDialog = ''}}}):_vm._e()],1),_c('v-layout',{staticStyle:{\"width\":\"100%\"},attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-subheader',[_vm._v(\"Unit\")])],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('unit-card',{key:_vm.unitData.id,staticClass:\"no-highlight ml-1\",attrs:{\"entry\":_vm.unitData}})],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"grid\":\"\"}},[_c('v-flex',{staticClass:\"px-1\",attrs:{\"xs12\":\"\"}},[_c('v-btn',{attrs:{\"block\":\"\"},on:{\"click\":function($event){_vm.activeDialog = 'units'}}},[_vm._v(\"\\n          Select Unit\\n        \")])],1),_c('v-flex',{staticClass:\"px-1\",attrs:{\"sm6\":\"\"}},[_c('v-btn',{attrs:{\"block\":\"\",\"disabled\":_vm.unitData.name === _vm.squadFillerMapping.EMPTY},on:{\"click\":function($event){return _vm.setUnit(_vm.squadFillerMapping.EMPTY)}}},[_vm._v(\"\\n          Set Empty\\n        \")])],1),_c('v-flex',{staticClass:\"px-1\",attrs:{\"sm6\":\"\"}},[_c('v-btn',{attrs:{\"block\":\"\",\"disabled\":_vm.unitData.name === _vm.squadFillerMapping.ANY},on:{\"click\":function($event){return _vm.setUnit(_vm.squadFillerMapping.ANY)}}},[_vm._v(\"\\n          Set Any\\n        \")])],1)],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-container',{staticClass:\"pa-1\",attrs:{\"fluid\":\"\",\"grid-list-md\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-subheader',[_vm._v(\"Position\")])],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.unitPositionMapping),function(position){return _c('v-flex',{key:position,attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-btn',{attrs:{\"block\":\"\",\"color\":position === _vm.activeUnit.position ? 'primary' : undefined},on:{\"click\":function($event){return _vm.setPosition(position)}}},[_vm._v(\"\\n            \"+_vm._s(position)+\"\\n          \")])],1)}),1)],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\"}},[_c('v-select',{staticClass:\"px-1\",attrs:{\"items\":_vm.leadFriendPossibilities,\"value\":_vm.leadFriendStatus,\"disabled\":_vm.isEmptyUnit,\"label\":\"Leader or Friend?\"},on:{\"input\":_vm.setLeadFriendStatus}})],1),_c('v-flex',{attrs:{\"xs6\":\"\",\"sm4\":\"\"}},[_c('v-layout',{attrs:{\"align-items-center\":\"\"}},[_c('v-flex',{staticClass:\"d-flex-container items-center\",staticStyle:{\"flex\":\"none\"}},[_c('v-subheader',{staticClass:\"pl-1\",staticStyle:{\"flex\":\"auto\"}},[_vm._v(\"BB Order\")])],1),_c('v-flex',{staticClass:\"d-flex-container items-center\"},[_c('v-select',{staticClass:\"pr-1\",attrs:{\"value\":_vm.activeUnit.bbOrder,\"items\":_vm.bbOrderPossibilities},on:{\"input\":_vm.setBbOrder}})],1)],1)],1),_c('v-flex',{attrs:{\"xs6\":\"\",\"sm4\":\"\"}},[_c('v-layout',{attrs:{\"align-items-center\":\"\"}},[_c('v-flex',{staticClass:\"d-flex-container items-center\",staticStyle:{\"flex\":\"none\"}},[_c('v-subheader',{staticClass:\"pl-1\",staticStyle:{\"flex\":\"auto\"}},[_vm._v(\"Action\")])],1),_c('v-flex',{staticClass:\"d-flex-container items-center\"},[_c('v-select',{staticClass:\"pr-1\",attrs:{\"disabled\":_vm.isEmptyUnit,\"items\":_vm.actionPossibilities,\"value\":_vm.activeUnit.action},on:{\"input\":_vm.setAction}})],1)],1)],1),_c('v-layout',{staticStyle:{\"width\":\"100%\",\"padding-bottom\":\"8px\"},attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-subheader',[_vm._v(\"Extra Skill\")])],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('extra-skill-card',{key:_vm.esData.id,staticClass:\"no-highlight ml-1\",attrs:{\"showAssociatedUnits\":false,\"entry\":_vm.esData}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\",\"fill-height\":\"\"}},[_c('v-flex',{staticClass:\"px-1\",attrs:{\"xs12\":\"\"}},[_c('v-btn',{attrs:{\"block\":\"\",\"disabled\":_vm.isEmptyUnit},on:{\"click\":function($event){_vm.activeDialog = 'extraSkills'}}},[_vm._v(\"\\n            Select Extra Skill\\n          \")])],1),_c('v-flex',{staticClass:\"px-1\",attrs:{\"xs12\":\"\"}},[_c('v-btn',{attrs:{\"block\":\"\",\"disabled\":_vm.esData.id === 0},on:{\"click\":function($event){return _vm.setExtraSkill('')}}},[_vm._v(\"\\n            Clear Extra Skill\\n          \")])],1)],1)],1)],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[(_vm.$vuetify.breakpoint.smAndUp)?_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-subheader',[_vm._v(\"Spheres\")])],1):_vm._e(),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-layout',{attrs:{\"column\":\"\"}},[(_vm.$vuetify.breakpoint.xsOnly)?_c('v-flex',[_c('v-subheader',[_vm._v(\"Sphere 1\")])],1):_vm._e(),_c('v-flex',[_c('sphere-card',{key:(_vm.sphereData[0] || _vm.emptySphere).id,staticClass:\"no-highlight ml-1\",attrs:{\"entry\":(_vm.sphereData[0] || _vm.emptySphere)}})],1),_c('v-flex',{staticClass:\"px-1\"},[_c('v-btn',{attrs:{\"block\":\"\",\"disabled\":_vm.isEmptyUnit},on:{\"click\":function () { _vm.lastSelectedSphereIndex = 0; _vm.activeDialog = 'spheres'; }}},[_vm._v(\"\\n            Select Sphere 1\\n          \")])],1),_c('v-flex',{staticClass:\"px-1\"},[_c('v-btn',{attrs:{\"block\":\"\",\"disabled\":!_vm.sphereData[0]},on:{\"click\":function($event){_vm.setSpheres(_vm.activeUnit.spheres.slice(1, 2))}}},[_vm._v(\"\\n            Clear Sphere 1\\n          \")])],1)],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-layout',{attrs:{\"column\":\"\"}},[(_vm.$vuetify.breakpoint.xsOnly)?_c('v-flex',[_c('v-subheader',[_vm._v(\"Sphere 2\")])],1):_vm._e(),_c('v-flex',[_c('sphere-card',{key:(_vm.sphereData[1] || _vm.emptySphere).id,staticClass:\"no-highlight ml-1\",attrs:{\"entry\":(_vm.sphereData[1] || _vm.emptySphere)}})],1),_c('v-flex',{staticClass:\"px-1\"},[_c('v-btn',{attrs:{\"block\":\"\",\"disabled\":_vm.isEmptyUnit},on:{\"click\":function () { _vm.lastSelectedSphereIndex = 1; _vm.activeDialog = 'spheres'; }}},[_vm._v(\"\\n            Select Sphere 2\\n          \")])],1),_c('v-flex',{staticClass:\"px-1\"},[_c('v-btn',{attrs:{\"block\":\"\",\"disabled\":!_vm.sphereData[1]},on:{\"click\":function($event){_vm.setSpheres(_vm.activeUnit.spheres.slice(0, 1))}}},[_vm._v(\"\\n            Clear Sphere 2\\n          \")])],1)],1)],1)],1),(!_vm.isEmptyUnit && Array.isArray(_vm.unitData.feskills))?_c('v-layout',{staticStyle:{\"width\":\"100%\"},attrs:{\"column\":\"\"}},[_c('v-flex',[_c('v-subheader',[_c('span',[_vm._v(\"SP Enhancements\")]),(_vm.activeUnit.sp)?_c('span',{staticClass:\"pl-1\"},[_vm._v(\"\\n          (\"+_vm._s(_vm.activeUnit.sp)+\")\\n        \")]):_vm._e()])],1),_c('v-flex',[_c('sp-build-table',{attrs:{\"value\":_vm.activeUnit.sp,\"feSkills\":_vm.unitData.feskills},on:{\"input\":_vm.setEnhancements}})],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-layout row wrap class=\"unit-entry-editor\">\n    <v-dialog\n      :value=\"!!activeDialog\"\n      @input=\"activeDialog = ''\"\n      lazy>\n      <unit-selector\n        v-if=\"activeDialog === 'units'\"\n        @input=\"$d => setUnit($d.data)\"\n        @cancel=\"activeDialog = ''\"/>\n      <es-selector\n        v-else-if=\"activeDialog === 'extraSkills'\"\n        @input=\"$d => setExtraSkill($d.id)\"\n        @cancel=\"activeDialog = ''\"/>\n      <sphere-selector\n        v-else-if=\"activeDialog === 'spheres'\"\n        @input=\"$d => onSelectSphere($d.id)\"\n        @cancel=\"activeDialog = ''\"/>\n    </v-dialog>\n    <v-layout row style=\"width: 100%;\" wrap>\n      <v-flex xs12>\n        <v-subheader>Unit</v-subheader>\n      </v-flex>\n      <v-flex xs12 sm6>\n        <unit-card\n          :key=\"unitData.id\"\n          :entry=\"unitData\"\n          class=\"no-highlight ml-1\"/>\n      </v-flex>\n      <v-layout row wrap grid>\n        <v-flex xs12 class=\"px-1\">\n          <v-btn block @click=\"activeDialog = 'units'\">\n            Select Unit\n          </v-btn>\n        </v-flex>\n        <v-flex sm6 class=\"px-1\">\n          <v-btn\n            block\n            @click=\"setUnit(squadFillerMapping.EMPTY)\"\n            :disabled=\"unitData.name === squadFillerMapping.EMPTY\">\n            Set Empty\n          </v-btn>\n        </v-flex>\n        <v-flex sm6 class=\"px-1\">\n          <v-btn\n            block\n            @click=\"setUnit(squadFillerMapping.ANY)\"\n            :disabled=\"unitData.name === squadFillerMapping.ANY\">\n            Set Any\n          </v-btn>\n        </v-flex>\n      </v-layout>\n    </v-layout>\n    <v-flex xs12>\n      <v-container fluid grid-list-md class=\"pa-1\">\n        <v-flex xs12>\n          <v-subheader>Position</v-subheader>\n        </v-flex>\n        <v-layout row wrap>\n          <v-flex\n            v-for=\"position in unitPositionMapping\"\n            :key=\"position\"\n            xs12 sm6>\n            <v-btn\n              block\n              @click=\"setPosition(position)\"\n              :color=\"position === activeUnit.position ? 'primary' : undefined\">\n              {{ position }}\n            </v-btn>\n          </v-flex>\n        </v-layout>\n      </v-container>\n    </v-flex>\n    <v-flex xs12 sm4>\n      <v-select\n        class=\"px-1\"\n        :items=\"leadFriendPossibilities\"\n        :value=\"leadFriendStatus\"\n        @input=\"setLeadFriendStatus\"\n        :disabled=\"isEmptyUnit\"\n        label=\"Leader or Friend?\"/>\n    </v-flex>\n    <v-flex xs6 sm4>\n      <v-layout align-items-center>\n        <v-flex style=\"flex: none;\" class=\"d-flex-container items-center\">\n          <v-subheader class=\"pl-1\" style=\"flex: auto;\">BB Order</v-subheader>\n        </v-flex>\n        <v-flex class=\"d-flex-container items-center\">\n        <v-select\n          class=\"pr-1\"\n          :value=\"activeUnit.bbOrder\"\n          @input=\"setBbOrder\"\n          :items=\"bbOrderPossibilities\"/>\n        </v-flex>\n      </v-layout>\n    </v-flex>\n    <v-flex xs6 sm4>\n      <v-layout align-items-center>\n        <v-flex style=\"flex: none;\" class=\"d-flex-container items-center\">\n          <v-subheader class=\"pl-1\" style=\"flex: auto;\">Action</v-subheader>\n        </v-flex>\n        <v-flex class=\"d-flex-container items-center\">\n        <v-select\n          class=\"pr-1\"\n          :disabled=\"isEmptyUnit\"\n          :items=\"actionPossibilities\"\n          :value=\"activeUnit.action\"\n          @input=\"setAction\"/>\n        </v-flex>\n      </v-layout>\n    </v-flex>\n    <v-layout row style=\"width: 100%; padding-bottom: 8px;\" wrap>\n      <v-flex xs12>\n        <v-subheader>Extra Skill</v-subheader>\n      </v-flex>\n      <v-flex xs12 sm6>\n        <extra-skill-card\n          :showAssociatedUnits=\"false\"\n          :key=\"esData.id\"\n          :entry=\"esData\"\n          class=\"no-highlight ml-1\"/>\n      </v-flex>\n      <v-flex xs12 sm6>\n        <v-layout row wrap align-center fill-height>\n          <v-flex xs12 class=\"px-1\">\n            <v-btn block :disabled=\"isEmptyUnit\" @click=\"activeDialog = 'extraSkills'\">\n              Select Extra Skill\n            </v-btn>\n          </v-flex>\n          <v-flex xs12 class=\"px-1\">\n            <v-btn\n              block\n              @click=\"setExtraSkill('')\"\n              :disabled=\"esData.id === 0\">\n              Clear Extra Skill\n            </v-btn>\n          </v-flex>\n        </v-layout>\n      </v-flex>\n    </v-layout>\n    <v-layout row wrap>\n      <v-flex xs12 v-if=\"$vuetify.breakpoint.smAndUp\">\n        <v-subheader>Spheres</v-subheader>\n      </v-flex>\n      <v-flex xs12 sm6>\n        <v-layout column>\n          <v-flex v-if=\"$vuetify.breakpoint.xsOnly\">\n            <v-subheader>Sphere 1</v-subheader>\n          </v-flex>\n          <v-flex>\n            <sphere-card\n              :key=\"(sphereData[0] || emptySphere).id\"\n              :entry=\"(sphereData[0] || emptySphere)\"\n              class=\"no-highlight ml-1\"/>\n          </v-flex>\n          <v-flex class=\"px-1\">\n            <v-btn block :disabled=\"isEmptyUnit\" @click=\"() => { lastSelectedSphereIndex = 0; activeDialog = 'spheres'; }\">\n              Select Sphere 1\n            </v-btn>\n          </v-flex>\n          <v-flex class=\"px-1\">\n            <v-btn\n              @click=\"setSpheres(activeUnit.spheres.slice(1, 2))\"\n              block\n              :disabled=\"!sphereData[0]\">\n              Clear Sphere 1\n            </v-btn>\n          </v-flex>\n        </v-layout>\n      </v-flex>\n      <v-flex xs12 sm6>\n        <v-layout column>\n          <v-flex v-if=\"$vuetify.breakpoint.xsOnly\">\n            <v-subheader>Sphere 2</v-subheader>\n          </v-flex>\n          <v-flex>\n            <sphere-card\n              :key=\"(sphereData[1] || emptySphere).id\"\n              :entry=\"(sphereData[1] || emptySphere)\"\n              class=\"no-highlight ml-1\"/>\n          </v-flex>\n          <v-flex class=\"px-1\">\n            <v-btn block :disabled=\"isEmptyUnit\" @click=\"() => { lastSelectedSphereIndex = 1; activeDialog = 'spheres'; }\">\n              Select Sphere 2\n            </v-btn>\n          </v-flex>\n          <v-flex class=\"px-1\">\n            <v-btn\n              block\n              @click=\"setSpheres(activeUnit.spheres.slice(0, 1))\"\n              :disabled=\"!sphereData[1]\">\n              Clear Sphere 2\n            </v-btn>\n          </v-flex>\n        </v-layout>\n      </v-flex>\n    </v-layout>\n    <v-layout column style=\"width: 100%;\" v-if=\"!isEmptyUnit && Array.isArray(unitData.feskills)\">\n      <v-flex>\n        <v-subheader>\n          <span>SP Enhancements</span>\n          <span v-if=\"activeUnit.sp\" class=\"pl-1\">\n            ({{ activeUnit.sp }})\n          </span>\n        </v-subheader>\n      </v-flex>\n      <v-flex>\n        <sp-build-table\n          :value=\"activeUnit.sp\"\n          @input=\"setEnhancements\"\n          :feSkills=\"unitData.feskills\"/>\n      </v-flex>\n    </v-layout>\n  </v-layout>\n</template>\n\n<script>\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\nimport UnitCard from '@/components/Multidex/Units/EntryCard';\nimport ExtraSkillCard from '@/components/Multidex/ExtraSkills/EntryCard';\nimport SphereCard from '@/components/Multidex/Items/EntryCard';\nimport SpBuildTable from '@/components/Multidex/Units/SpBuildTable';\nimport UnitSelector from '@/components/Tools/Squads/MultidexSelectors/UnitSelector';\nimport EsSelector from '@/components/Tools/Squads/MultidexSelectors/ExtraSkillSelector';\nimport SphereSelector from '@/components/Tools/Squads/MultidexSelectors/SphereSelector';\nimport { Logger } from '@/modules/Logger';\nimport { squadFillerMapping, unitPositionMapping, squadUnitActions } from '@/modules/constants';\nimport { isValidUnit, getFillerUnit } from '@/modules/core/units';\nimport { isValidSkill, getEmptySkill } from '@/modules/core/extra-skills';\nimport { isValidSphere, getEmptySphere } from '@/modules/core/items';\nimport { cloneSquad, sortUnitsByPosition, fixSquadErrors } from '@/modules/core/squads';\n\n// eslint-disable-next-line no-unused-vars\nconst logger = new Logger({ prefix: '[UnitEntryEditor]' });\nexport default {\n  mixins: [GettersMixin],\n  components: {\n    UnitCard,\n    ExtraSkillCard,\n    SphereCard,\n    SpBuildTable,\n    UnitSelector,\n    EsSelector,\n    SphereSelector,\n  },\n  props: {\n    squad: {\n      type: Object,\n      required: true,\n    },\n    selectedIndex: {\n      type: Number,\n      default: -1,\n    },\n  },\n  computed: {\n    activeUnit () {\n      return this.localSquad.units[this.selectedIndex] || {};\n    },\n    isEmptyUnit () {\n      return this.unitData.name === squadFillerMapping.EMPTY;\n    },\n    unitData () {\n      const initialData = this.getUnit(this.activeUnit.id);\n      return isValidUnit(initialData)\n        ? initialData\n        : getFillerUnit(this.activeUnit.id === squadFillerMapping.EMPTY);\n    },\n    esData () {\n      const initialData = this.getExtraSkill(this.activeUnit.es);\n      return isValidSkill(initialData)\n        ? initialData\n        : getEmptySkill();\n    },\n    sphereData () {\n      return this.activeUnit.spheres.map(sphereId => {\n        const initialData = this.getItem(sphereId);\n        return isValidSphere(initialData)\n          ? initialData\n          : this.emptySphere;\n      });\n    },\n    emptySphere () {\n      return getEmptySphere();\n    },\n    unitPositionMapping: () => unitPositionMapping,\n    squadFillerMapping: () => squadFillerMapping,\n    leadFriendPossibilities: () => ['Leader', 'Friend', 'Neither'],\n    leadFriendStatus () {\n      return [\n        this.localSquad.lead === this.selectedIndex && 'Leader',\n        this.localSquad.friend === this.selectedIndex && 'Friend',\n        'Neither',\n      ].find(v => v);\n    },\n    bbOrderPossibilities: () => Object.freeze(new Array(6).fill(0).map((_, i) => i + 1)),\n    actionPossibilities () {\n      const availableBurstTypes = [\n        {\n          text: 'BB',\n          value: squadUnitActions.BB,\n        },\n        {\n          text: 'SBB',\n          value: squadUnitActions.SBB,\n        },\n        {\n          text: 'UBB',\n          value: squadUnitActions.UBB,\n        },\n      ].filter(({ value }) => this.activeUnit.id === squadFillerMapping.ANY || this.unitData[value] || this.activeUnit.action === value);\n\n      const nonBurstActions = [\n        {\n          text: 'None',\n          value: squadUnitActions.NONE,\n        },\n        (!this.isEmptyUnit && {\n          text: 'Attack',\n          value: squadUnitActions.ATK,\n        }),\n      ].filter(v => v);\n      return nonBurstActions.concat(availableBurstTypes);\n    },\n  },\n  data () {\n    return {\n      activeDialog: '',\n      localSquad: {},\n      lastSelectedSphereIndex: -1,\n    };\n  },\n  methods: {\n    onSelectSphere (sphereId) {\n      let spheres = this.activeUnit.spheres.slice();\n      if (this.lastSelectedSphereIndex > -1 && !spheres.includes(sphereId) && !spheres.includes(+sphereId)) {\n        if (spheres[this.lastSelectedSphereIndex]) {\n          spheres[this.lastSelectedSphereIndex] = sphereId;\n        } else if (spheres.length < 2) {\n          spheres.push(sphereId);\n        } else {\n          // remove first sphere\n          spheres = [spheres[1], sphereId];\n        }\n        this.setSpheres(spheres);\n      }\n      this.activeDialog = '';\n    },\n    emitUnits (units = [], newIndex) {\n      this.$emit('newunits', { units, newIndex: !isNaN(newIndex) ? newIndex : this.selectedIndex });\n      if (this.activeDialog) {\n        this.activeDialog = '';\n      }\n    },\n    emitSquad (squad = {}, newIndex) {\n      this.$emit('newsquad', { squad, newIndex: !isNaN(newIndex) ? newIndex : this.selectedIndex });\n      if (this.activeDialog) {\n        this.activeDialog = '';\n      }\n    },\n    // update an internal value for the current unit\n    updateCurrentUnit (newUnitData = {}) {\n      this.lastSelectedSphereIndex = -1;\n      this.emitUnits([\n        ...this.localSquad.units.slice(0, this.selectedIndex),\n        {\n          ...this.activeUnit,\n          ...newUnitData,\n        },\n        ...this.localSquad.units.slice(this.selectedIndex + 1),\n      ]);\n    },\n    setPosition (position) {\n      const { units, lead, friend } = this.localSquad;\n      const unitToSwap = units.find(u => u.position === position);\n      if (unitToSwap && unitToSwap !== this.activeUnit) {\n        const otherUnits = units.filter((u, i) => i !== this.selectedIndex && u !== unitToSwap);\n        const newUnitList = sortUnitsByPosition([\n          ...otherUnits,\n          {\n            ...unitToSwap,\n            position: this.activeUnit.position,\n          },\n          {\n            ...this.activeUnit,\n            position,\n          },\n        ], false);\n\n        const newIndex = unitPositionMapping.indexOf(position);\n        this.emitSquad({\n          ...this.localSquad,\n          lead: this.selectedIndex === lead ? newIndex : lead,\n          friend: this.selectedIndex === friend ? newIndex : friend,\n          units: newUnitList,\n        }, newIndex);\n      }\n    },\n    setLeadFriendStatus (status) {\n      const { lead, friend } = this.localSquad;\n      if (status === 'Leader') {\n        if (friend === this.selectedIndex) {\n          this.localSquad.friend = lead;\n        }\n        this.localSquad.lead = this.selectedIndex;\n      } else if (status === 'Friend') {\n        if (lead === this.selectedIndex) {\n          this.localSquad.lead = friend;\n        }\n        this.localSquad.friend = this.selectedIndex;\n      } else {\n        // neither\n        // allow for squads to have no leader/friend lead\n        if (lead === this.selectedIndex) {\n          this.localSquad.lead = -1;\n        } else if (friend === this.selectedIndex) {\n          this.localSquad.friend = -1;\n        }\n      }\n\n      this.emitSquad(this.localSquad);\n    },\n    setBbOrder (order) {\n      const unitToSwapOrder = this.localSquad.units.find(u => u.bbOrder === order);\n      if (unitToSwapOrder && unitToSwapOrder !== this.activeUnit) {\n        const otherUnits = this.localSquad.units.filter((u, i) => i !== this.selectedIndex && u !== unitToSwapOrder);\n        const newUnitList = sortUnitsByPosition([\n          ...otherUnits,\n          {\n            ...unitToSwapOrder,\n            bbOrder: this.activeUnit.bbOrder,\n          },\n          {\n            ...this.activeUnit,\n            bbOrder: order,\n          },\n        ], false);\n        this.emitUnits(newUnitList);\n      }\n    },\n    setAction (action) {\n      if (this.actionPossibilities.some(({ value }) => action === value)) {\n        this.updateCurrentUnit({ action });\n      }\n    },\n    setEnhancements (sp) {\n      this.updateCurrentUnit({ sp });\n    },\n    async setUnit (id) {\n      let tempData;\n      if (id.then !== undefined) {\n        await id.then(data => {\n          tempData = data;\n        });\n      } else {\n        tempData = this.getUnit(id);\n      }\n      if (isValidUnit(tempData) || id === squadFillerMapping.ANY || id === squadFillerMapping.EMPTY) {\n        const { lead, friend, name } = this.localSquad;\n        // eslint-disable-next-line no-unused-vars\n        const { messages, ...squad } = fixSquadErrors({\n          lead,\n          friend,\n          name,\n          units: [\n            ...this.localSquad.units.slice(0, this.selectedIndex),\n            {\n              ...this.activeUnit,\n              id: (id.then !== undefined && tempData.id) || id,\n              sp: '', // reset SP on change\n            },\n            ...this.localSquad.units.slice(this.selectedIndex + 1),\n          ],\n        }, {\n          getUnit: (inputId) => +inputId === +tempData.id ? tempData : this.getUnit(inputId),\n          getExtraSkill: this.getExtraSkill,\n          getItem: this.getItem,\n        });\n        this.emitSquad(squad);\n      }\n    },\n    setExtraSkill (es) {\n      this.updateCurrentUnit({ es });\n    },\n    setSpheres (spheres = []) {\n      const newSphereList = spheres.map(id => (id || '').toString()).filter(v => v);\n      this.updateCurrentUnit({ spheres: newSphereList });\n    },\n  },\n  watch: {\n    squad: {\n      immediate: true,\n      deep: true,\n      handler (value) {\n        this.localSquad = cloneSquad(value);\n      },\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.unit-entry-editor {\n  .v-subheader {\n    padding-left: 0;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitEntryEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitEntryEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UnitEntryEditor.vue?vue&type=template&id=216b9afa&scoped=true&\"\nimport script from \"./UnitEntryEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./UnitEntryEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UnitEntryEditor.vue?vue&type=style&index=0&id=216b9afa&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"216b9afa\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-card class=\"squad-card--editable\" v-bind=\"$attrs\">\n    <v-layout row class=\"px-2 pt-2\" align-center>\n      <v-flex>\n        <v-text-field v-model=\"squad.name\" label=\"Squad Name\"/>\n      </v-flex>\n      <v-flex style=\"flex-grow: 0;\" class=\"ml-2\">\n        <h2 class=\"subheading\">\n          {{ squadCost }} Cost\n        </h2>\n      </v-flex>\n    </v-layout>\n    <v-layout row wrap class=\"px-2\" @mouseleave=\"highlightedIndex = -1\">\n      <template v-if=\"!isLoadingInParent\">\n        <unit-entry\n          v-for=\"(unit, i) in fullUnits\"\n          :key=\"getUnitEntryKey(unit, i)\"\n          xs12 sm6\n          :index=\"i\"\n          :unit=\"unit\"\n          :getUnit=\"getUnit\"\n          :getItem=\"getItem\"\n          :getExtraSkill=\"getExtraSkill\"\n          :isLead=\"i === squad.lead\"\n          :isFriend=\"i === squad.friend\"\n          @mouseover=\"highlightedIndex = i;\"\n          @click=\"() => { selectedIndex = (selectedIndex !== i ? i : -1) }\"\n          class=\"d-flex py-1\"\n          :style=\"`\n            align-items: center;\n            border: 1px solid ${selectedIndex === i ? 'yellow' : 'var(--background-color-alt)'};\n            position: relative;`\">\n          <div\n            slot=\"before-content\"\n            v-show=\"highlightedIndex === i\"\n            :style=\"`\n              position: absolute;\n              width: 100%;\n              height: 100%;\n              z-index: 10;\n              cursor: pointer;\n            `\">\n            <v-container\n              fluid justify-center\n              fill-height\n              style=\"background: rgba(0, 0, 0, 0.5);\">\n              <v-flex align-center>\n                <v-btn flat block style=\"pointer-events: none;\">\n                  <v-icon left>create</v-icon>\n                  Edit\n                </v-btn>\n              </v-flex>\n            </v-container>\n          </div>\n        </unit-entry>\n        <v-flex v-if=\"squad.units[selectedIndex]\" xs12 class=\"py-1\">\n          <v-divider/>\n        </v-flex>\n        <v-layout column>\n          <v-flex>\n            <span v-text=\"unitSelectionText\"/>\n          </v-flex>\n          <unit-entry-editor\n            v-if=\"squad.units[selectedIndex]\"\n            class=\"py-2\"\n            @newunits=\"($ev) => { selectedIndex = $ev.newIndex; $emit('newunits', $ev.units) }\"\n            @newsquad=\"($ev) => { selectedIndex = $ev.newIndex; $emit('newsquad', $ev.squad); }\"\n            :squad=\"squad\"\n            :getUnit=\"getUnit\"\n            :getItem=\"getItem\"\n            :getExtraSkill=\"getExtraSkill\"\n            :selectedIndex=\"selectedIndex\"/>\n        </v-layout>\n      </template>\n      <loading-indicator v-else loadingMessage=\"Loading squad data\"/>\n    </v-layout>\n    <v-divider class=\"mt-2\"/>\n    <slot name=\"card-actions\">\n      <v-card-actions style=\"justify-content: space-between;\" :disabled=\"isLoadingInParent\">\n        <v-btn\n          flat\n          :disabled=\"isLoadingInParent\"\n          @click=\"onSaveClick\">\n          <v-icon left>save</v-icon>\n          Save Squad\n        </v-btn>\n        <v-btn\n          flat\n          :disabled=\"isLoadingInParent\"\n          :to=\"redirectOnCancel ? '/tools/squads' : undefined\"\n          @click=\"$emit('cancel')\">\n          <span>Cancel</span>\n        </v-btn>\n      </v-card-actions>\n    </slot>\n  </v-card>\n</template>\n\n<script>\nimport { unitPositionMapping } from '@/modules/constants';\nimport { generateFillerSquadUnitEntry } from '@/modules/core/squads';\nimport UnitEntry from '@/components/Tools/Squads/SquadUnitEntry';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\nimport LoadingIndicator from '@/components/LoadingIndicator';\nimport UnitEntryEditor from '@/components/Tools/Squads/UnitEntryEditor';\n\nexport default {\n  mixins: [GettersMixin],\n  components: {\n    UnitEntry,\n    LoadingIndicator,\n    UnitEntryEditor,\n  },\n  props: {\n    squad: {\n      type: Object,\n      required: true,\n    },\n    isLoadingInParent: {\n      type: Boolean,\n      default: false,\n    },\n    redirectOnCancel: {\n      type: Boolean,\n      default: true,\n    },\n    squadId: {\n      type: String,\n      default: '',\n    },\n  },\n  computed: {\n    squadCost () {\n      return this.squad.units\n        .map(({ id }) => this.getUnit(id))\n        .reduce((acc, unit) => acc + (+(unit.cost || 0)), 0);\n    },\n    // fills empty positions with empty values\n    fullUnits () {\n      return unitPositionMapping.map(position => {\n        let unit = this.squad.units.find(unit => unit.position === position);\n        if (!unit) { // empty position, so fill it with empty data\n          unit = generateFillerSquadUnitEntry({ isEmpty: true, bbOrder: null, position });\n        }\n        return unit;\n      });\n    },\n    unitSelectionText () {\n      return [\n        'Select a unit to edit its details.',\n        this.squad.units[this.selectedIndex] && 'Select the same unit to deselect it.',\n      ].filter(v => v).join(' ');\n    },\n  },\n  data () {\n    return {\n      highlightedIndex: -1,\n      selectedIndex: -1,\n    };\n  },\n  methods: {\n    getUnitEntryKey (unit = {}, i = 0) {\n      return `${JSON.stringify(unit)}-${i}`;\n    },\n    async onSaveClick () {\n      const resultKey = await this.$store.dispatch('squads/storeSquad', {\n        server: this.$store.state.settings.activeServer,\n        squad: this.squad,\n        id: this.squadId || undefined,\n      });\n      this.$emit('save', resultKey);\n    },\n  },\n  watch: {\n    selectedIndex () {\n      this.highlightedIndex = -1;\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.squad-card--editable {\n  .v-card__actions {\n    position: sticky;\n    bottom: 0;\n    background-color: inherit;\n\n    a:not(:hover):before {\n      background-color: inherit;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadListCardEditable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadListCardEditable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SquadListCardEditable.vue?vue&type=template&id=0882479f&\"\nimport script from \"./SquadListCardEditable.vue?vue&type=script&lang=js&\"\nexport * from \"./SquadListCardEditable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SquadListCardEditable.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"buff-table-grid\",style:(_vm.mainGridStyle)},[(_vm.showHeaders)?[_c('span',{staticClass:\"id-cell header-cell\"},[_c('v-btn',{staticStyle:{\"min-height\":\"40px\"},attrs:{\"flat\":\"\",\"small\":\"\"},on:{\"click\":_vm.toggleAllEffectViews}},[_c('v-icon',[_vm._v(_vm._s(_vm.hiddenIndices.length === _vm.mappedEffects.length ? 'fullscreen' : 'fullscreen_exit'))]),_vm._v(\"\\n        ID\\n      \")],1)],1),_vm._m(0)]:_vm._e(),_vm._l((_vm.mappedEffects),function(effectEntry,i){return [_c('span',{key:((effectEntry.id) + \"-\" + i + \"=id\"),staticClass:\"id-cell\"},[_c('v-btn',{staticClass:\"collapse-btn\",attrs:{\"flat\":\"\",\"small\":\"\"},on:{\"click\":function () { return _vm.toggleEffectView(i); }}},[_c('span',{staticStyle:{\"flex\":\"1 1 100%\"}},[_c('v-icon',[_vm._v(_vm._s(_vm.hiddenIndices.includes(i) ? 'keyboard_arrow_up' : 'keyboard_arrow_down'))])],1),_c('span',{staticStyle:{\"flex\":\"1 1 100%\"}},[_vm._t(\"default\",[_vm._v(\"\\n            \"+_vm._s(effectEntry.id)+\"\\n          \")])],2),_c('span',{staticStyle:{\"flex\":\"1 1 100%\"}},[_c('v-icon',[_vm._v(_vm._s(_vm.hiddenIndices.includes(i) ? 'keyboard_arrow_down' : 'keyboard_arrow_up'))])],1)])],1),_c('span',{key:((effectEntry.id) + \"-\" + i + \"-value-subgrid\"),staticClass:\"value-subgrid\"},[(_vm.hiddenIndices.includes(i))?_c('span',{staticClass:\"property-cell\",staticStyle:{\"grid-column\":\"span 2\"},domProps:{\"textContent\":_vm._s(_vm.getEffectsHiddenText(_vm.getSortedProps(effectEntry.effect).length, effectEntry.effect))}}):[_vm._l((_vm.getSortedProps(effectEntry.effect)),function(prop,j){\nvar _obj, _obj$1, _obj$2;\nreturn [_c('span',{key:((effectEntry.id) + \"-\" + i + \"-\" + j + \"-property\"),class:( _obj = {\n              'property-cell': true\n            }, _obj[j % 2 === 0 ? 'even-row' : 'odd-row'] = true, _obj['only-row'] =  _vm.getSortedProps(effectEntry.effect).length === 1, _obj )},[_c('span',{domProps:{\"textContent\":_vm._s(prop)}})]),(_vm.hasBuffTable && _vm.isProcBuffList(prop))?_c('span',{key:((effectEntry.id) + \"-\" + i + \"-\" + j + \"-table\"),class:( _obj$1 = {\n              'value-cell has-table': true\n            }, _obj$1[j % 2 === 0 ? 'even-row' : 'odd-row'] = true, _obj$1['only-row'] =  _vm.getSortedProps(effectEntry.effect).length === 1, _obj$1 )},[_c('buff-table-grid',{attrs:{\"effects\":effectEntry.effect[prop]}})],1):_c('span',{key:((effectEntry.id) + \"-\" + i + \"-\" + j + \"-value\"),class:( _obj$2 = {\n              'value-cell': true\n            }, _obj$2[j % 2 === 0 ? 'even-row' : 'odd-row'] = true, _obj$2['only-row'] =  _vm.getSortedProps(effectEntry.effect).length === 1, _obj$2 ),staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\"}},[_vm._v(\"\\n            \"+_vm._s(effectEntry.effect[prop])+\"\\n            \"),(_vm.isEmptyArray(effectEntry.effect[prop]))?_c('span',{staticStyle:{\"padding-left\":\"4px\"}},[_vm._v(\"\\n              (None)\\n            \")]):_vm._e()])]})]],2)]})],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"value-subgrid header-grid\"},[_c('span',{staticClass:\"property-cell header-cell\"},[_vm._v(\"\\n        Buff Property\\n      \")]),_c('span',{staticClass:\"value-cell header-cell\"},[_vm._v(\"\\n        Buff Value\\n      \")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"buff-table-grid\" :style=\"mainGridStyle\">\n    <template v-if=\"showHeaders\">\n      <span class=\"id-cell header-cell\">\n        <v-btn flat @click=\"toggleAllEffectViews\" small style=\"min-height: 40px;\">\n          <v-icon>{{ hiddenIndices.length === mappedEffects.length ? 'fullscreen' : 'fullscreen_exit' }}</v-icon>\n          ID\n        </v-btn>\n      </span>\n      <span class=\"value-subgrid header-grid\">\n        <span class=\"property-cell header-cell\">\n          Buff Property\n        </span>\n        <span class=\"value-cell header-cell\">\n          Buff Value\n        </span>\n      </span>\n    </template>\n    <template v-for=\"(effectEntry, i) in mappedEffects\">\n      <span class=\"id-cell\" :key=\"`${effectEntry.id}-${i}=id`\">\n        <v-btn flat small class=\"collapse-btn\" @click=\"() => toggleEffectView(i)\">\n          <span style=\"flex: 1 1 100%;\">\n            <v-icon>{{ hiddenIndices.includes(i) ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}</v-icon>\n          </span>\n          <span style=\"flex: 1 1 100%;\">\n            <slot name=\"default\">\n              {{ effectEntry.id }}\n            </slot>\n          </span>\n          <span style=\"flex: 1 1 100%;\">\n            <v-icon>{{ hiddenIndices.includes(i) ? 'keyboard_arrow_down' : 'keyboard_arrow_up' }}</v-icon>\n          </span>\n        </v-btn>\n      </span>\n      <span  \n        class=\"value-subgrid\"\n        :key=\"`${effectEntry.id}-${i}-value-subgrid`\"\n      >\n        <span\n          v-if=\"hiddenIndices.includes(i)\"\n          class=\"property-cell\"\n          style=\"grid-column: span 2\"\n          v-text=\"getEffectsHiddenText(getSortedProps(effectEntry.effect).length, effectEntry.effect)\"\n        />\n        <template v-else>\n          <template v-for=\"(prop, j) in getSortedProps(effectEntry.effect)\">\n            <span\n              :class=\"{\n                'property-cell': true,\n                [j % 2 === 0 ? 'even-row' : 'odd-row']: true,\n                'only-row': getSortedProps(effectEntry.effect).length === 1,\n              }\"\n              :key=\"`${effectEntry.id}-${i}-${j}-property`\"\n            >\n              <span v-text=\"prop\"/>\n            </span>\n            <span\n              v-if=\"hasBuffTable && isProcBuffList(prop)\"\n              :class=\"{\n                'value-cell has-table': true,\n                [j % 2 === 0 ? 'even-row' : 'odd-row']: true,\n                'only-row': getSortedProps(effectEntry.effect).length === 1,\n              }\"\n              :key=\"`${effectEntry.id}-${i}-${j}-table`\"\n            >\n              <buff-table-grid :effects=\"effectEntry.effect[prop]\"/>\n            </span>\n            <span\n              v-else\n              :class=\"{\n                'value-cell': true,\n                [j % 2 === 0 ? 'even-row' : 'odd-row']: true,\n                'only-row': getSortedProps(effectEntry.effect).length === 1,\n              }\"\n              :key=\"`${effectEntry.id}-${i}-${j}-value`\"\n              style=\"display: flex; align-items: center; justify-content: center;\"\n            >\n              {{ effectEntry.effect[prop] }}\n              <span v-if=\"isEmptyArray(effectEntry.effect[prop])\" style=\"padding-left: 4px\">\n                (None)\n              </span>\n            </span>\n          </template>\n        </template>\n      </span>\n    </template>\n  </div>\n</template>\n\n<script>\nimport { getEffectType, getEffectId } from '@/modules/EffectProcessor/processor-helper';\nimport { getEffectName, handleUnknownParams } from '@/modules/core/buffs';\n\nexport default {\n  props: {\n    effects: {\n      type: Array,\n      default: () => [],\n    },\n    showHeaders: {\n      type: Boolean,\n      default: false,\n    },\n    translateEffectNames: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  computed: {\n    idKeys: () => ['passive id', 'unknown passive id', 'proc id', 'unknown proc id'],\n    mappedEffects () {\n      return this.effects.map(this.getEffectDetails);\n    },\n    hasBuffTable () {\n      return this.mappedEffects.some(entry => entry.type === 'passive' && +entry.id === 66);\n    },\n    gridRowConfig () {\n      const numEffectRows = this.mappedEffects.length; // number of effect rows\n      return [\n        this.showHeaders ? 'minmax(40px, auto)' : '',\n        `repeat(${numEffectRows}, auto)`,\n      ].filter(v => v).join(' ');\n    },\n    mainGridStyle () {\n      return {\n        'grid-template-rows': this.gridRowConfig,\n      };\n    },\n  },\n  data () {\n    return {\n      sortedPropsCache: new WeakMap(),\n      hiddenIndices: [],\n    };\n  },\n  methods: {\n    getEffectDetails (effect) {\n      const type = getEffectType(effect);\n      const id = getEffectId(effect);\n      const filteredEffect = {};\n      const processedEffect = handleUnknownParams(effect);\n      Object.keys(processedEffect).forEach(key => {\n        // get everything but the ID\n        if (!this.idKeys.includes(key)) {\n          filteredEffect[key] = processedEffect[key];\n        }\n      });\n      if (this.translateEffectNames) {\n        filteredEffect['translated name'] = getEffectName(effect) || `Unknown buff ${id}`;\n      }\n      return { type, id, effect: filteredEffect };\n    },\n    getSortedProps (effect) {\n      if (!this.sortedPropsCache.has(effect)) {\n        this.sortedPropsCache.set(effect, Object.freeze(Object.keys(effect).sort((a, b) => {\n          if (a === 'translated name') {\n            return -1;\n          } else if (b === 'translated name') {\n            return 1;\n          } else {\n            return a < b ? -1 : 1;\n          }\n        })));\n      }\n      return this.sortedPropsCache.get(effect);\n    },\n    toggleEffectView (i) {\n      if (this.hiddenIndices.includes(i)) {\n        this.hiddenIndices = this.hiddenIndices.filter(val => val !== i);\n      } else {\n        this.hiddenIndices.push(i);\n      }\n    },\n    toggleAllEffectViews () {\n      if (this.hiddenIndices.length === this.mappedEffects.length) {\n        this.hiddenIndices = [];\n      } else {\n        this.hiddenIndices = this.mappedEffects.map((val, i) => i);\n      }\n    },\n    isProcBuffList (prop) {\n      return prop === 'triggered effect';\n    },\n    getValueSubgridStyle (effect) {\n      const numProps = Object.keys(effect);\n      return {\n        'grid-template-rows': `repeat(${numProps}, minmax(36px, auto))`,\n      };\n    },\n    isEmptyArray (obj) {\n      return Array.isArray(obj) && obj.length === 0;\n    },\n    getEffectsHiddenText (numProps, effect) {\n      const effectName = effect['translated name'] || getEffectName(effect);\n      const subEffectNames = (effect['triggered effect'] || []).map(getEffectName);\n      return [\n        `${numProps} ${numProps !== 1 ? 'Effects' : 'Effect'} Hidden`,\n        effectName && `for ${effectName}`,\n        subEffectNames.length > 0 && `(${subEffectNames.join(', ')})`,\n      ].filter(v => v).join(' ');\n    },\n  },\n  name: 'buff-table-grid',\n};\n</script>\n\n<style lang=\"less\">\ndiv.buff-table-grid {\n  --table-border-color: var(--background-color-alt);\n  --table-background-color: var(--background-color-alt--lighten-1);\n  --table-border-settings: 1px solid var(--table-border-color);\n\n  display: grid;\n  grid-template-columns: minmax(64px, auto) 1fr;\n  border: var(--table-border-settings);\n  width: 100%;\n\n  .header-cell {\n    font-weight: bold;\n    border-bottom: var(--table-border-settings);\n  }\n\n  .id-cell {\n    height: 100%;\n    display: flex;\n    align-content: center;\n  }\n\n  .id-cell button {\n    height: auto;\n    min-width: 0;\n    flex: auto;\n\n    .v-btn__content {\n      flex-wrap: wrap;\n    }\n  }\n\n  .value-cell {\n    text-align: center;\n  }\n\n  .property-cell, .value-cell {\n    padding: 0.5em;\n    word-break: break-word;\n    hyphens: auto;\n  }\n\n  .property-cell, .header-cell {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .property-cell span {\n    flex: 1 0 100%;\n    text-align: center;\n  }\n\n  .id-cell:not(.header-cell), .value-subgrid:not(.header-grid) {\n    border-top: 2px solid var(--table-background-color);\n    border-bottom: 2px solid var(--table-background-color);\n  }\n\n  .value-subgrid {\n    width: 100%;\n    height: 100%;\n    display: grid;\n    grid-template-columns: 17.5em 1fr;\n    grid-auto-flow: stretch;\n\n    // nested table\n    .value-subgrid {\n      grid-template-columns: minmax(17.5em, auto) 1fr;\n    }\n\n    .even-row:not(.value-cell), .even-row.value-cell:not(:hover) {\n      &:not(.only-row) {\n        background-color: var(--table-border-color);\n      }\n    }\n\n    .value-cell:not(.header-cell):hover {\n      background-color: var(--background-color--card);\n    }\n\n    .value-cell.has-table:not(.header-cell):hover {\n      background-color: var(--background-color);\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainTable.vue?vue&type=template&id=d870379a&\"\nimport script from \"./MainTable.vue?vue&type=script&lang=js&\"\nexport * from \"./MainTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MainTable.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAWCAMAAAARtodwAAAAA3NCSVQICAjb4U/gAAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABdQwleRAliSAlnTAl0WQuWeA2afA6fgA6hgg6igw6jhA6niA6pig6qiw+tjQ+fikytjg+tjw+wkA+wkQ+ykhGzlBa0lRe1lxy3miO7ny20nk69oTO+ozbBp0C/qE7BqU/ErErJs1vKtFvLtV7NuWbPu23WxX/XyIbYyIjp4bzt5sft5snv6M3////////v5nCgAAAA/3RSTlMA/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////3N8PqRcAAAAZUlEQVQY043PsQqAMAwE0F4MgqOLq///gRJsS85FxSjYZgoPclw0vUf7hOeK36vs8CnInlGjuGFfgrAKY05fQ//IwFPlEh3fnUWLgNRHjtsAL/Ml1QwQkLds7kwpidw5a7MhWl8ckMkhdzTgrLoAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAADAFBMVEUAAAAAAAAPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8QEBARERESEhIiIiIkJCQsLCw3G2U1HlstLS03HGg4H104GnM5G3E6GXw6JVo9GYUyMjI9Goc0NDRFIIJDK2I5OTlDHJxEHJo8PDxHHKZNJoBGHKxHG65IHKtJHahLHqhIHLVMHrRHO1ZLHbpCQkJMHb5PH7dIPVZOHr1cJplVMHtbKJZFRUVZI61dKpFQH8VSIMJNPmBfKZxHR0dgLJVISEhRIMtMRFZNQ1hSIMxJSUlSIM9UIcpjKqFMR1FiJ7VOSVNWItFaI85YItVNTU5YItZTS1tPT09dJNZdJNlUS2BnKcVqK7tdQ3hgJNxWTmBfR3dZTmdVU1dnJ91yLcNxLMx2MMV5L9FeVGl9M8ZzYQR6L+WCN8aANNOAMtyFNtSCM+aEM+eINt6GPsiERbmMPNOOOd9mZmaNN+poZ2hqamqUPOttbW18XZtubm6QUcVzcnSIXa2MWreQV7t0dHSdSO11dXWGZ6V4eHiVWsV6enqHbp58fHyCgoKUdrCGhoaYc7eHh4edcMSTeqykatWIiIiKioqNjY2sbeSoctarcNyxa+yQkJCRkZGSkpK0b+6xcumueN22cPCwduSrftKWlpaufdi1du2Xl5eyfeG1eunAoQavgteZmZmpicW4ee+ampqzgd62gOW4fuq8gPG+gvKhoaG+g/K2jNq5ieGlpaW4l9S8mdurq6u9mdusrKy8nNitra3ElujAnd/HmO+xsbHDoOLEoeOzs7O0tLS1tbXIounLoe+5ubm6urq9vb2+vr7AwMDBwcHCwsLExMTHx8fKysrXwejNzc3Ozs7bwvDR0dHdyuzU1NTV1dXW1tb/30HX19fZ2dna2trc3Nzf39/h4eHi4uLq2/fk5OTl5eXm5ubp6env4/nq6urr6+vw5vnt7e3x6fju7u7z6/nw8PD/87n07vry8vLz8/P19fWNGpipAAAAj3RSTlMA/wIEBm1unZ6gsbLCyMnKz/Hy/f///////////////////////////////fz//v///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////so7r1QAAALpSURBVDjLY2AgHjCx8goKi4gIC/KxMmGRZuYS9Zhz/c3fv2+uz/EQ5WJGl2cXq3v8/9+vb1++fPv17//jOjF2VHke2Zv/fp2t87IEAq/6c7/+3ZTlQZYX8Hr963xk7owDJw7v3biyJy3y/K/XjgIIed7Ibz/Whk7YfPDEhTMn9m1bPb0peO2PbzF8cPtV3/9YlTL5zs8/9y9cOHN817plM9viV/34oAp1B4v49R/7U6Y+/P7109uLFy+e3LF+6fyZ7dH7f1wXZwEr4Kr58TydEQG2rFk6F0jlPvtRwwUOH9F7XxamMj59+hsEGJ/+ZlyygPH3U8akhV/uiYJCjM3xy8v0DqDEBhBg3PB0AyOYqEx/+cWRDeSFKZ/PuvWBFEBsABoBMoCxwu3U5ym8QAWC578ssm8BK9i5a89yoO7fv4EGVBXaL/xyThCoQPju54nOFTATuroYN/wGMquLMj0nfr4nDFQg8uhzr3s2UMFTIGBsaAAaATSgPCczqPPzIxGQgrsf+x0yYSbU1jICXfubsTgn0673412QAuHL72frJ4IVlJaWlQEZ+flAR2Yl6s/+cAlkheCmV4c0Q2AmFDCCaKARCSGah16vBTmSr/HFYx8nqBuegn0I9quTz6MX9SBvsmnd/tKswbgBAhiBDszIADqUUaP5y20tNnBQb3p12QYpLpKjwsKBlM3lV5tEwSmPy//K593yJta2LmEBYUAQEOZia20iv/vzFX8uSHSLTbr1rE7a2MzMxcUvIMDPxcXMzFiu7vGtSWKQ6GbgkNz64G69jI6BnqmVKRDpGejI1N99sFWSE5ak+NS33n2y21xJW8/A0NBAT1vJfPfju1vV+ZASrerCq9+utfoqK6qoKSj7tl79dnWhqgBysuaTaFx77cvjY4unTVl05NGXa2sbJfhQMwanqG73rN03nr979/zG7lnduqKcGFmPW1Qqpr5/0qT++hgpUW5mbLmTlV8IlHmF+FmZScjzAMUkXkPay/MUAAAAAElFTkSuQmCC\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTable.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTable.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderConfigurator.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderConfigurator.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('module-checker',{attrs:{\"requiredModules\":_vm.requiredModules}},[_c('promise-wait',{attrs:{\"promise\":_vm.initialLoadPromise}},[_c('v-container',{directives:[{name:\"resize\",rawName:\"v-resize\",value:(_vm.onPageReady),expression:\"onPageReady\"}],staticClass:\"squad-page\",attrs:{\"fluid\":\"\"}},[_c('v-container',{staticClass:\"pa-0\"},[_c('v-layout',{attrs:{\"justify-center\":\"\"}},[(!_vm.editMode)?_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('squad-list-card',{key:_vm.squadCode,attrs:{\"squad\":_vm.squad,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"isLoadingInParent\":_vm.isLoadingSquadData},scopedSlots:_vm._u([{key:\"card-actions\",fn:function(ref){\nvar disabled = ref.disabled;\nreturn _c('v-card-actions',{},[_c('v-btn',{attrs:{\"flat\":\"\",\"icon\":_vm.minimizeSquadActionButtons,\"disabled\":disabled},on:{\"click\":function($event){_vm.editMode = true}}},[_c('v-icon',{attrs:{\"left\":!_vm.minimizeSquadActionButtons}},[_vm._v(\"edit\")]),(!_vm.minimizeSquadActionButtons)?_c('span',[_vm._v(\"\\n                    Edit\\n                  \")]):_vm._e()],1),_c('v-btn',{attrs:{\"flat\":\"\",\"icon\":_vm.minimizeSquadActionButtons,\"disabled\":disabled},on:{\"click\":function($event){_vm.activeSquadDialog = 'share'}}},[_c('v-icon',{attrs:{\"left\":!_vm.minimizeSquadActionButtons}},[_vm._v(\"share\")]),(!_vm.minimizeSquadActionButtons)?_c('span',[_vm._v(\"\\n                    Share\\n                  \")]):_vm._e()],1),(_vm.squadCode)?_c('v-btn',{attrs:{\"flat\":\"\",\"icon\":_vm.minimizeSquadActionButtons,\"disabled\":disabled,\"to\":_vm.getSquadUrl(_vm.squadCode)}},[_c('v-icon',{attrs:{\"left\":!_vm.minimizeSquadActionButtons}},[_vm._v(\"file_copy\")]),(!_vm.minimizeSquadActionButtons)?_c('span',[_vm._v(\"\\n                    Clone\\n                  \")]):_vm._e()],1):_vm._e(),_c('v-spacer'),_c('v-btn',{attrs:{\"flat\":\"\",\"icon\":_vm.minimizeSquadActionButtons,\"disabled\":disabled},on:{\"click\":function($event){_vm.activeSquadDialog = 'delete'}}},[_c('v-icon',{attrs:{\"left\":!_vm.minimizeSquadActionButtons}},[_vm._v(\"delete\")]),(!_vm.minimizeSquadActionButtons)?_c('span',[_vm._v(\"\\n                    Delete\\n                  \")]):_vm._e()],1)],1)}}],null,false,962298881)})],1):_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('squad-list-card-editable',{attrs:{\"squad\":_vm.tempSquad,\"squadId\":_vm.id,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"redirectOnCancel\":false,\"isLoadingInParent\":_vm.isLoadingSquadData},on:{\"newsquad\":function ($sq) { return _vm.tempSquad = $sq; },\"newunits\":_vm.onNewUnits,\"save\":function () { _vm.squad = _vm.tempSquad; _vm.editMode = false; },\"cancel\":function($event){_vm.editMode = false}}})],1)],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-divider',{staticClass:\"mt-2\"})],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-card',[(!_vm.isLoadingSquadData && !_vm.editMode)?_c('tab-container',{staticClass:\"mt-2 mx-0\",attrs:{\"centeredTabs\":true,\"growTabs\":true,\"tabs\":_vm.tabConfig},model:{value:(_vm.currentTabIndex),callback:function ($$v) {_vm.currentTabIndex=$$v},expression:\"currentTabIndex\"}},[_c('v-layout',{attrs:{\"slot\":\"multidex-links\",\"column\":\"\"},slot:\"multidex-links\"},[_c('multidex-links',{attrs:{\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"squad\":_vm.squad}})],1),_c('v-layout',{staticClass:\"buff-lists\",attrs:{\"slot\":\"buffs\",\"column\":\"\"},slot:\"buffs\"},[_c('squad-buff-expandable-list-view',{attrs:{\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"squad\":_vm.squad,\"topNavbarHeight\":_vm.topNavbarHeight}})],1),_c('v-layout',{attrs:{\"slot\":\"spark-statistics\"},slot:\"spark-statistics\"},[_c('squad-spark-statistics-area',{attrs:{\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"squad\":_vm.squad,\"initialSimulatorOptions\":_vm.simulatorOptions},on:{\"simoptions\":function ($v) { return _vm.simulatorOptions = $v; },\"share\":function ($sparkResult) { _vm.sparkResultToShare = $sparkResult; _vm.activeSquadDialog = 'share'; },\"apply\":_vm.applySparkResult,\"currentsquadresult\":function ($v) { return _vm.sparkResultToShare = $v; }}})],1),_c('v-layout',{staticStyle:{\"overflow-x\":\"auto\"},attrs:{\"slot\":\"arena\"},slot:\"arena\"},[_c('squad-arena-suggestion-table',{attrs:{\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"squad\":_vm.squad}})],1)],1):_vm._e()],1)],1),_c('v-dialog',{attrs:{\"value\":!_vm.isLoadingSquadData && !!_vm.activeSquadDialog,\"lazy\":\"\"},on:{\"input\":function ($v) { return _vm.activeSquadDialog = $v ? _vm.activeSquadDialog : ''; }}},[(_vm.squadCode)?[(_vm.activeSquadDialog === 'share')?_c('share-squad-card',{attrs:{\"squad\":_vm.squad,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"sparkResult\":_vm.sparkResultToShare},on:{\"back\":function($event){_vm.activeSquadDialog = ''}}}):(_vm.activeSquadDialog === 'delete')?_c('delete-squad-card',{attrs:{\"squad\":_vm.squad,\"squadId\":+_vm.id,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill},on:{\"delete\":function($event){return _vm.$router.push('/tools/squads')},\"cancel\":function($event){_vm.activeSquadDialog = ''}}}):_vm._e()]:_c('v-card',[_c('v-card-text',[_vm._v(\"\\n            No squad selected\\n          \")]),_c('v-card-actions',{staticStyle:{\"justify-content\":\"flex-end\"}},[_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.activeSquadDialog = ''}}},[_vm._v(\"\\n              Back\\n            \")])],1)],1)],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('buff-expandable-list-view',{attrs:{\"sources\":_vm.squad.units,\"getEffectsFromSource\":_vm.getEffectsForSquadUnit,\"titleTopOffset\":_vm.topNavbarHeight,\"inputFilterOptions\":_vm.filterOptions,\"getTextForSource\":_vm.getTextForSourceInSquadUnit,\"viewMode\":_vm.viewMode},on:{\"filteroptions\":function ($f) { return _vm.filterOptions = $f; },\"viewmode\":function ($v) { return _vm.viewMode = $v; }},scopedSlots:_vm._u([{key:\"buffexpandablelist\",fn:function(ref){\nvar sources = ref.sources;\nvar targetType = ref.targetType;\nvar effectType = ref.effectType;\nvar inputEffectMappingBySource = ref.inputEffectMappingBySource;\nvar highlightedBuffIds = ref.highlightedBuffIds;\nvar listKey = ref.listKey;\nreturn [_c('squad-buff-expandable-list',{key:listKey,attrs:{\"squad\":_vm.squad,\"targetType\":targetType,\"effectType\":effectType,\"inputEffectMappingByUnitEntry\":inputEffectMappingBySource,\"highlightedProcs\":(_vm.squadBuffTypes.PROC === effectType && highlightedBuffIds) || [],\"highlightedPassives\":(_vm.squadBuffTypes.PASSIVE === effectType && highlightedBuffIds) || [],\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill}})]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('buff-expandable-list',{staticClass:\"squad-buff-expandable-list\",attrs:{\"sources\":_vm.unitEntries,\"getEffectsFromSource\":_vm.getEffectsForSquadUnit,\"highlightedBuffIds\":_vm.highlightedBuffIds,\"effectType\":_vm.effectType,\"getTextForSource\":_vm.getTextForSourceInSquadUnit},scopedSlots:_vm._u([{key:\"allentrypreview\",fn:function(ref){\nvar entries = ref.entries;\nreturn _c('div',{staticClass:\"expandable-list-entry--columns-preview\"},_vm._l((entries),function(entry){return _c('div',{key:((entry.source.id) + \"-\" + (entry.source.position)),staticClass:\"expandable-list-entry--columns-preview-entry\"},[_c('v-layout',{attrs:{\"align-content-center\":\"\",\"row\":\"\"}},[_c('unit-thumbnail',{staticClass:\"unit-thumbnail\",attrs:{\"src\":_vm.getImageUrls(entry.source.id).ills_battle,\"rarity\":_vm.getUnit(entry.source.id).rarity,\"imageTitle\":_vm.getUnit(entry.source.id).name,\"displayWidth\":_vm.thumbnailSize,\"displayHeight\":_vm.thumbnailSize}},[_c('template',{slot:\"after-image\"},[_c('text',{attrs:{\"x\":0,\"y\":_vm.thumbnailSize}},[_vm._v(\"\\n              \"+_vm._s(!isNaN(entry.source.bbOrder) ? entry.source.bbOrder : '-')+\"\\n            \")])])],2)],1),_c('v-flex',{attrs:{\"text-xs-center\":\"\"}},[_c('span',{staticClass:\"caption text-no-wrap\"},[_vm._v(_vm._s(entry.source.position))])])],1)}),0)}},{key:\"value-header\",fn:function(ref){\nvar entry = ref.entry;\nreturn _c('v-layout',{staticStyle:{\"max-width\":\"500px\",\"width\":\"100%\",\"min-width\":\"300px\"},attrs:{\"row\":\"\"}},[_c('unit-entry',{staticClass:\"d-flex py-1\",staticStyle:{\"align-items\":\"center\",\"border\":\"1px solid var(--background-color-alt)\"},attrs:{\"xs12\":\"\",\"index\":_vm.squad.units.indexOf(entry),\"unit\":entry,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"isLead\":_vm.squad.units.indexOf(entry) === _vm.squad.lead,\"isFriend\":_vm.squad.units.indexOf(entry) === _vm.squad.friend}})],1)}}])},[_c('span',{attrs:{\"slot\":\"noentries\"},slot:\"noentries\"},[_vm._v(\"\\n    No entries of type [\"+_vm._s(_vm.effectType)+\"] targeting [\"+_vm._s(_vm.targetType)+\"] were found.\\n  \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <buff-expandable-list\n    class=\"squad-buff-expandable-list\"\n    :sources=\"unitEntries\"\n    :getEffectsFromSource=\"getEffectsForSquadUnit\"\n    :highlightedBuffIds=\"highlightedBuffIds\"\n    :effectType=\"effectType\"\n    :getTextForSource=\"getTextForSourceInSquadUnit\"\n  >\n    <span slot=\"noentries\">\n      No entries of type [{{ effectType }}] targeting [{{ targetType }}] were found.\n    </span>\n    <div\n      class=\"expandable-list-entry--columns-preview\"\n      slot=\"allentrypreview\"\n      slot-scope=\"{ entries }\"\n    >\n      <div\n        class=\"expandable-list-entry--columns-preview-entry\"\n        v-for=\"entry in entries\"\n        :key=\"`${entry.source.id}-${entry.source.position}`\"\n      >\n        <v-layout align-content-center row>\n          <unit-thumbnail\n            class=\"unit-thumbnail\"\n            :src=\"getImageUrls(entry.source.id).ills_battle\"\n            :rarity=\"getUnit(entry.source.id).rarity\"\n            :imageTitle=\"getUnit(entry.source.id).name\"\n            :displayWidth=\"thumbnailSize\" :displayHeight=\"thumbnailSize\">\n            <template slot=\"after-image\">\n              <text\n                :x=\"0\"\n                :y=\"thumbnailSize\">\n                {{ !isNaN(entry.source.bbOrder) ? entry.source.bbOrder : '-' }}\n              </text>\n            </template>\n          </unit-thumbnail>\n        </v-layout>\n        <v-flex text-xs-center>\n          <span class=\"caption text-no-wrap\">{{ entry.source.position }}</span>\n        </v-flex>\n      </div>\n    </div>\n    <v-layout\n      slot=\"value-header\"\n      slot-scope=\"{ entry }\"\n      style=\"max-width: 500px; width: 100%; min-width: 300px;\"\n      row\n    >\n      <unit-entry\n        xs12\n        :index=\"squad.units.indexOf(entry)\"\n        :unit=\"entry\"\n        :getUnit=\"getUnit\"\n        :getItem=\"getItem\"\n        :getExtraSkill=\"getExtraSkill\"\n        :isLead=\"squad.units.indexOf(entry) === squad.lead\"\n        :isFriend=\"squad.units.indexOf(entry) === squad.friend\"\n        class=\"d-flex py-1\"\n        style=\"align-items: center; border: 1px solid var(--background-color-alt);\"/>\n    </v-layout>\n  </buff-expandable-list>\n</template>\n\n<script>\nimport { getEffectsListForSquadUnitEntry } from '@/modules/core/squads';\nimport { mapGetters } from 'vuex';\nimport { squadBuffTypes, SOURCE_PATH_TO_TEXT_MAPPING } from '@/modules/constants';\nimport UnitEntry from '@/components/Tools/Squads/SquadUnitEntry';\nimport UnitThumbnail from '@/components/Multidex/Units/UnitThumbnail';\nimport BuffExpandableList from '@/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableList';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\n\nexport default {\n  mixins: [GettersMixin],\n  props: {\n    squad: {\n      type: Object,\n      required: true,\n    },\n    targetType: {\n      type: String,\n      required: true,\n    },\n    effectType: {\n      type: String,\n      required: true,\n    },\n    inputEffectMappingByUnitEntry: {\n      type: WeakMap,\n      default: () => new WeakMap(),\n    },\n    highlightedProcs: {\n      type: Array,\n      default: () => [],\n    },\n    highlightedPassives: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  components: {\n    UnitThumbnail,\n    UnitEntry,\n    BuffExpandableList,\n  },\n  computed: {\n    blacklistedKeys: () => [\n      'passive id',\n      'unknown passive id',\n      'proc id',\n      'unknown proc id',\n      'add to bb',\n      'add to sbb',\n      'add to ubb',\n      'trigger on bb',\n      'trigger on sbb',\n      'trigger on ubb',\n    ],\n    ...mapGetters('units', {\n      getImageUrls: 'getImageUrls',\n    }),\n    thumbnailSize () {\n      return 48;\n    },\n    unitEntries () {\n      return this.squad.units;\n    },\n    effectMappingByUnitEntry () {\n      const mapping = new WeakMap();\n      this.unitEntries.forEach(unit => {\n        let effects = this.inputEffectMappingByUnitEntry.get(unit);\n        if (!Array.isArray(effects)) {\n          effects = getEffectsListForSquadUnitEntry({\n            unitEntry: unit,\n            target: this.targetType,\n            effectType: this.effectType,\n            squad: this.squad,\n          }, this);\n        }\n        mapping.set(unit, effects);\n      });\n      return mapping;\n    },\n    highlightedBuffIds () {\n      let ids = [];\n      if (this.effectType === squadBuffTypes.PASSIVE) {\n        ids = this.highlightedPassives;\n      } else if (this.effectType === squadBuffTypes.PROC) {\n        ids = this.highlightedProcs;\n      }\n      return ids;\n    },\n  },\n  methods: {\n    getEffectsForSquadUnit (unit) {\n      const effects = this.effectMappingByUnitEntry.get(unit);\n      return Array.isArray(effects) ? effects : [];\n    },\n    getTextForSourceInSquadUnit (path, source) {\n      let displayValue = SOURCE_PATH_TO_TEXT_MAPPING[path];\n      if (!displayValue) {\n        if (path === 'es') {\n          displayValue = `Elgif: ${this.getExtraSkill(source.es).name || source.es || path}`;\n        } else if (path.startsWith('sphere:')) {\n          const sphereId = path.split(':')[1];\n          displayValue = `Sphere: ${this.getItem(sphereId).name || sphereId || path}`;\n        }\n      }\n      return displayValue || path;\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.squad-buff-expandable-list {\n  .expandable-list-entry--columns-preview {\n    display: flex;\n    margin-left: 1em;\n    justify-content: flex-end;\n    flex-wrap: wrap;\n  }\n\n  .expandable-list-entry--columns-preview-entry {\n    margin: 0 0.5em;\n    min-width: 70px;\n    image.lazy-actual {\n      min-width: 48px;\n    }\n\n    .unit-thumbnail {\n      flex: 0 1 auto;\n      margin: auto;\n      font: bold 4.5em sans-serif;\n      stroke: black;\n      stroke-width: 2px;\n      fill: white;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadBuffExpandableList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadBuffExpandableList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SquadBuffExpandableList.vue?vue&type=template&id=72983506&\"\nimport script from \"./SquadBuffExpandableList.vue?vue&type=script&lang=js&\"\nexport * from \"./SquadBuffExpandableList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SquadBuffExpandableList.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <buff-expandable-list-view\n    :sources=\"squad.units\"\n    :getEffectsFromSource=\"getEffectsForSquadUnit\"\n    :titleTopOffset=\"topNavbarHeight\"\n    :inputFilterOptions=\"filterOptions\"\n    :getTextForSource=\"getTextForSourceInSquadUnit\"\n    @filteroptions=\"$f => filterOptions = $f\"\n    :viewMode=\"viewMode\"\n    @viewmode=\"$v => viewMode = $v\"\n  >\n    <template\n      slot=\"buffexpandablelist\"\n      slot-scope=\"{ sources, targetType, effectType, inputEffectMappingBySource, highlightedBuffIds, listKey }\"\n    >\n      <squad-buff-expandable-list\n        :key=\"listKey\"\n        :squad=\"squad\"\n        :targetType=\"targetType\"\n        :effectType=\"effectType\"\n        :inputEffectMappingByUnitEntry=\"inputEffectMappingBySource\"\n        :highlightedProcs=\"(squadBuffTypes.PROC === effectType && highlightedBuffIds) || []\"\n        :highlightedPassives=\"(squadBuffTypes.PASSIVE === effectType && highlightedBuffIds) || []\"\n        :getUnit=\"getUnit\"\n        :getItem=\"getItem\"\n        :getExtraSkill=\"getExtraSkill\"\n      />\n    </template>\n  </buff-expandable-list-view>\n</template>\n\n<script>\nimport { targetTypes, squadBuffTypes, SOURCE_PATH_TO_TEXT_MAPPING } from '@/modules/constants';\nimport { getEffectsListForSquadUnitEntry } from '@/modules/core/squads';\nimport { getEffectId } from '@/modules/EffectProcessor/processor-helper';\nimport BuffExpandableListView from '@/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableListView';\nimport SquadBuffExpandableList from '@/components/Multidex/BuffList/SquadBuffExpandableList';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\n\nexport default {\n  mixins: [GettersMixin],\n  props: {\n    squad: {\n      type: Object,\n      required: true,\n    },\n    topNavbarHeight: {\n      type: Number,\n      default: 56,\n    },\n  },\n  components: {\n    SquadBuffExpandableList,\n    BuffExpandableListView,\n  },\n  computed: {\n    squadBuffTypes: () => squadBuffTypes,\n    possibleTables: () => Object.freeze([\n      {\n        name: 'Party Passives',\n        targetType: targetTypes.PARTY,\n        effectType: squadBuffTypes.PASSIVE,\n      },\n      {\n        name: 'Party Buffs',\n        targetType: targetTypes.PARTY,\n        effectType: squadBuffTypes.PROC,\n      },\n      {\n        name: 'For the Enemy',\n        targetType: targetTypes.ENEMY,\n        effectType: squadBuffTypes.PROC,\n      },\n      {\n        name: 'Self Passives',\n        targetType: targetTypes.SELF,\n        effectType: squadBuffTypes.PASSIVE,\n      },\n      {\n        name: 'Self Buffs',\n        targetType: targetTypes.SELF,\n        effectType: squadBuffTypes.PROC,\n      },\n      {\n        name: 'Other Passives',\n        targetType: targetTypes.OTHER,\n        effectType: squadBuffTypes.PASSIVE,\n      },\n      {\n        name: 'Other Buffs',\n        targetType: targetTypes.OTHER,\n        effectType: squadBuffTypes.PROC,\n      },\n    ]),\n    effectMappingByTable () {\n      const allProcIds = new Set();\n      const allPassiveIds = new Set();\n      const tableMapping = new Map();\n      const { squad } = this;\n      const unitEntries = squad.units;\n      this.possibleTables.forEach(({ targetType, effectType }) => {\n        const effectMappingByUnit = new WeakMap();\n        unitEntries.forEach(entry => {\n          const effects = getEffectsListForSquadUnitEntry({\n            unitEntry: entry,\n            target: targetType,\n            effectType,\n            squad,\n          }, this);\n          effects.forEach(effect => {\n            if (effectType === squadBuffTypes.PROC) {\n              allProcIds.add(getEffectId(effect));\n            } else if (effectType === squadBuffTypes.PASSIVE) {\n              allPassiveIds.add(getEffectId(effect));\n            }\n          });\n          effectMappingByUnit.set(entry, effects);\n        });\n        tableMapping.set(this.getTableKey(targetType, effectType), effectMappingByUnit);\n      });\n\n      tableMapping.set('allProcs', Array.from(allProcIds).sort((a, b) => +a - +b));\n      tableMapping.set('allPassives', Array.from(allPassiveIds).sort((a, b) => +a - +b));\n      return tableMapping;\n    },\n  },\n  data () {\n    return {\n      filterOptions: {\n        procs: [],\n        passives: [],\n      },\n      viewMode: '',\n    };\n  },\n  created () {\n    if (this.squad.filterOptions) {\n      this.filterOptions.procs = Array.isArray(this.squad.filterOptions.procs)\n        ? this.squad.filterOptions.procs.slice()\n        : [];\n\n      this.filterOptions.passives = Array.isArray(this.squad.filterOptions.passives)\n        ? this.squad.filterOptions.passives.slice()\n        : [];\n    }\n\n    if (this.squad.viewMode) {\n      this.viewMode = this.squad.viewMode;\n    }\n  },\n  methods: {\n    getTableKey (targetType, effectType) {\n      return `${targetType}-${effectType}`;\n    },\n    getEffectsForSquadUnit (unit, targetType, effectType) {\n      const table = this.effectMappingByTable.get(this.getTableKey(targetType, effectType));\n      const effects = table.get(unit);\n      return Array.isArray(effects) ? effects : [];\n    },\n    getTextForSourceInSquadUnit (path, source) {\n      let displayValue = SOURCE_PATH_TO_TEXT_MAPPING[path];\n      if (!displayValue) {\n        if (path === 'es') {\n          displayValue = `Elgif: ${this.getExtraSkill(source.es).name || source.es || path}`;\n        } else if (path.startsWith('sphere:')) {\n          const sphereId = path.split(':')[1];\n          displayValue = `Sphere: ${this.getItem(sphereId).name || sphereId || path}`;\n        }\n      }\n      return displayValue || path;\n    },\n  },\n  watch: {\n    filterOptions (newOptions) {\n      this.squad.filterOptions = newOptions;\n    },\n    viewMode (newMode) {\n      this.squad.viewMode = newMode;\n    },\n  },\n};\n</script>\n\n\n<style lang=\"less\">\n.squad-buff-expandable-list-view {\n  .order-configuration-panel {\n    .v-expansion-panel__header {\n      padding-left: 8px;\n      padding-right: 8px;\n      font-weight: bold;\n    }\n  }\n  dl {\n    width: 100%;\n\n    > dt {\n      position: sticky;\n      background: var(--background-color);\n      z-index: 2;\n      padding: 0.75em 0.25em;\n      margin: 0 -0.25em;\n      border-bottom-left-radius: 8px;\n      border-bottom-right-radius: 8px;\n    }\n  }\n\n  dd {\n    // width: 100%;\n    overflow-x: auto;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadBuffExpandableListView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadBuffExpandableListView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SquadBuffExpandableListView.vue?vue&type=template&id=3ac365dc&\"\nimport script from \"./SquadBuffExpandableListView.vue?vue&type=script&lang=js&\"\nexport * from \"./SquadBuffExpandableListView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SquadBuffExpandableListView.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"squad-arena-suggestion-table\"},[_c('span',{staticStyle:{\"text-transform\":\"capitalize\",\"font-weight\":\"bold\",\"text-align\":\"center\",\"grid-column\":\"span 2\"},domProps:{\"innerHTML\":_vm._s((\"<u>Applicable Colosseum Classes:</u> \" + (_vm.usableColoClasses.join(', '))))}}),_vm._l((_vm.fullUnits),function(unit,i){return [_c('div',{key:(_vm.squadKey + \"-\" + (unit.position) + \"-suggestion\"),staticClass:\"suggestion-text\"},[(i !== _vm.squad.friend)?[_c('div',{staticStyle:{\"text-transform\":\"capitalize\",\"font-weight\":\"bold\",\"text-align\":\"center\"},domProps:{\"innerHTML\":_vm._s((\"<u>Suggestion:</u> \" + (_vm.suggestionsBySquadEntry.get(unit).join(' or '))))}}),_vm._l((_vm.arenaTextDataBySquadEntry.get(unit)),function(arenaText,a){return _c('div',{key:(_vm.squadKey + \"-\" + (unit.position) + \"-\" + a + \"-arena-text\"),domProps:{\"textContent\":_vm._s(arenaText)}})})]:_c('span',[_vm._v(\"\\n        Friend units are not allowed in Arena\\n      \")])],2),_c('unit-entry',{key:(_vm.squadKey + \"-\" + (unit.position) + \"-entry\"),staticClass:\"d-flex py-1\",staticStyle:{\"align-items\":\"center\",\"border\":\"1px solid var(--background-color-alt)\"},attrs:{\"index\":i,\"unit\":unit,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"isLead\":i === _vm.squad.lead,\"isFriend\":i === _vm.squad.friend}})]})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"squad-arena-suggestion-table\">\n    <span\n      style=\"text-transform: capitalize; font-weight: bold; text-align: center; grid-column: span 2;\"\n      v-html=\"`<u>Applicable Colosseum Classes:</u> ${usableColoClasses.join(', ')}`\"\n    />\n    <template v-for=\"(unit, i) in fullUnits\">\n      <div :key=\"`${squadKey}-${unit.position}-suggestion`\" class=\"suggestion-text\">\n        <template v-if=\"i !== squad.friend\">\n          <div\n            style=\"text-transform: capitalize; font-weight: bold; text-align: center;\"\n            v-html=\"`<u>Suggestion:</u> ${suggestionsBySquadEntry.get(unit).join(' or ')}`\"\n          />\n          <div\n            v-for=\"(arenaText, a) in arenaTextDataBySquadEntry.get(unit)\"\n            :key=\"`${squadKey}-${unit.position}-${a}-arena-text`\"\n            v-text=\"arenaText\"\n          />\n        </template>\n        <span v-else>\n          Friend units are not allowed in Arena\n        </span>\n      </div>\n      <unit-entry :key=\"`${squadKey}-${unit.position}-entry`\"\n        :index=\"i\"\n        :unit=\"unit\"\n        :getUnit=\"getUnit\"\n        :getItem=\"getItem\"\n        :getExtraSkill=\"getExtraSkill\"\n        :isLead=\"i === squad.lead\"\n        :isFriend=\"i === squad.friend\"\n        class=\"d-flex py-1\"\n        style=\"align-items: center; border: 1px solid var(--background-color-alt);\"\n      />\n    </template>\n  </section>\n</template>\n\n<script>\nimport {\n  getArenaPositionRecommendation,\n  arenaConditionCodeToText,\n  arenaConditionToText,\n  getColoClassUsage,\n} from '@/modules/core/units';\nimport { generateFillerSquadUnitEntry, squadToShorthand } from '@/modules/core/squads';\nimport { unitPositionMapping, squadFillerMapping } from '@/modules/constants';\nimport UnitEntry from '@/components/Tools/Squads/SquadUnitEntry';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\n\nexport default {\n  mixins: [GettersMixin],\n  props: {\n    squad: {\n      type: Object,\n      required: true,\n    },\n  },\n  components: {\n    UnitEntry,\n  },\n  computed: {\n    // fills empty positions with empty values\n    fullUnits () {\n      return unitPositionMapping.map(position => {\n        let unit = this.squad.units.find(unit => unit.position === position);\n        if (!unit) { // empty position, so fill it with empty data\n          unit = generateFillerSquadUnitEntry({ isEmpty: true, bbOrder: null, position });\n        }\n\n        return unit;\n      });\n    },\n    suggestionsBySquadEntry () {\n      const mapping = new WeakMap();\n      this.fullUnits.forEach(unit => {\n        const unitData = this.getUnit(unit.id) || {};\n        mapping.set(unit, this.getSuggestionsForUnit(unitData));\n      });\n      return mapping;\n    },\n    arenaTextDataBySquadEntry () {\n      const mapping = new WeakMap();\n      this.fullUnits.forEach(unit => {\n        const unitData = this.getUnit(unit.id) || {};\n        const aiData = Array.isArray(unitData.ai) ? unitData.ai : [];\n        // console.warn(unit.position, aiData);\n        if (aiData.length > 0) {\n          mapping.set(unit, aiData.map(this.generateArenaText));\n        } else {\n          mapping.set(unit, ['No Arena AI data found']);\n        }\n      });\n      return mapping;\n    },\n    usableColoClasses () {\n      const classesBySquadEntry = new Map();\n      const activeServer = this.$store.state.settings.activeServer;\n      const applicableUnits = this.fullUnits\n        .filter((u, i) => i !== this.squad.friend\n          && u.id !== squadFillerMapping.EMPTY\n          && u.id !== squadFillerMapping.ANY\n        );\n      \n      applicableUnits.forEach(unit => {\n        const unitData = this.getUnit(unit.id) || {};\n        const applicableColoClasses = !isNaN(unitData.cost)\n          ? getColoClassUsage(+unitData.cost, activeServer === 'gl')\n          : [];\n        classesBySquadEntry.set(unit, applicableColoClasses);\n      });\n      \n      const commonColoClasses = new Set();\n      applicableUnits.forEach(unit => {\n        const currentClasses = classesBySquadEntry.get(unit);\n        const otherUnits = applicableUnits.filter(u => u !== unit);\n        currentClasses.forEach(coloClass => {\n          if (!commonColoClasses.has(coloClass) && otherUnits.every(otherUnit => classesBySquadEntry.get(otherUnit).includes(coloClass))) {\n            commonColoClasses.add(coloClass);\n          }\n        });\n      });\n\n      return Object.freeze(Array.from(commonColoClasses));\n    },\n    squadKey () {\n      return squadToShorthand(this.squad);\n    },\n  },\n  methods: {\n    getSuggestionsForUnit (unit = {}) {\n      return Object.freeze(getArenaPositionRecommendation(unit).map(arenaConditionCodeToText));\n    },\n    generateArenaText (data = {}) {\n      return arenaConditionToText(data);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.squad-arena-suggestion-table {\n  width: 100%;\n  display: grid;\n  grid-template-columns: minmax(300px, 1fr) minmax(300px, 1fr);\n\n  .suggestion-text {\n    align-self: center;\n    justify-self: center;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadArenaSuggestionTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadArenaSuggestionTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SquadArenaSuggestionTable.vue?vue&type=template&id=48be27a9&\"\nimport script from \"./SquadArenaSuggestionTable.vue?vue&type=script&lang=js&\"\nexport * from \"./SquadArenaSuggestionTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SquadArenaSuggestionTable.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"spark-statistics-container\"},[_c('v-expansion-panel',{model:{value:(_vm.currentSection),callback:function ($$v) {_vm.currentSection=$$v},expression:\"currentSection\"}},[_c('v-expansion-panel-content',[_c('span',{staticClass:\"subheading\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"Current Squad Statistics\")]),_c('section',[(_vm.resultForCurrentSquad)?_c('spark-squad-card',{attrs:{\"squad\":_vm.squad,\"sparkResult\":_vm.resultForCurrentSquad,\"getUnit\":_vm.getUnit,\"simulatorOptions\":_vm.simulatorOptions},on:{\"share\":function () { return _vm.emitShareEvent(_vm.resultForCurrentSquad); }}}):_c('span',[_c('v-alert',{attrs:{\"value\":true,\"color\":\"error\",\"icon\":\"warning\"}},[_vm._v(\"\\n            There was a problem generating the spark results for the current squad configuration. (\"+_vm._s((_vm.errorForCurrentSquad && _vm.errorForCurrentSquad.message) || _vm.errorForCurrentSquad || 'Unknown error')+\")\\n          \")])],1)],1)]),_c('v-expansion-panel-content',[_c('span',{staticClass:\"subheading\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"Spark Simulator Input\")]),_c('section',[_c('spark-squad-card-editable',{attrs:{\"squad\":_vm.squad,\"getUnit\":_vm.getUnit},model:{value:(_vm.simulatorOptions),callback:function ($$v) {_vm.simulatorOptions=$$v},expression:\"simulatorOptions\"}})],1),_c('section',[_c('overall-simulator-options',{attrs:{\"squad\":_vm.squad},model:{value:(_vm.simulatorOptions),callback:function ($$v) {_vm.simulatorOptions=$$v},expression:\"simulatorOptions\"}})],1),_c('section',[_c('v-alert',{attrs:{\"value\":true,\"icon\":_vm.simulatorWarnings.length === 0 ? 'info' : 'priority_high',\"color\":_vm.simulatorWarnings.length === 0 ? 'info' : 'warning'}},[(_vm.simulatorWarnings.length > 0)?[_c('span',[_vm._v(\"Warnings that may affect the accuracy of results:\")]),_c('ul',_vm._l((_vm.simulatorWarnings),function(w){return _c('li',{key:w,domProps:{\"textContent\":_vm._s(w)}})}),0)]:_c('span',[_vm._v(\"No squad level warnings found. Make sure to check individual units for warnings.\")])],2)],1),_c('section',[_c('v-btn',{attrs:{\"block\":\"\"},on:{\"click\":_vm.runSimulator}},[_vm._v(\"Run Simulator\")])],1)]),_c('v-expansion-panel-content',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.runningSimulator && (_vm.results || _vm.errorForCalculations)),expression:\"!runningSimulator && (results || errorForCalculations)\"}]},[_c('span',{staticClass:\"subheading\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"Simulator Results\")]),_c('div',[_c('section',{staticClass:\"mx-2\"},[_c('v-alert',{attrs:{\"color\":\"info\",\"value\":true}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',[_vm._v(\"\\n                Time Elapsed: \"+_vm._s(_vm.simulationElapsedText)+\"\\n              \")]),_c('v-flex',[_vm._v(\"\\n                Total Combinations Tested: \"+_vm._s(_vm.lastTestedCount)+\"\\n              \")]),_c('v-flex',[_vm._v(\"\\n                Combinations Tested/Second: \"+_vm._s(_vm.combosTestedPerSecond)+\"\\n              \")])],1)],1)],1),(Array.isArray(_vm.results) && _vm.results.length > 0)?_c('section',[_c('section',{staticClass:\"result-navigator\"},[_c('v-btn',{attrs:{\"flat\":\"\",\"icon\":_vm.$vuetify.breakpoint.xsOnly,\"disabled\":_vm.currentResultIndex <= 0},on:{\"click\":function($event){_vm.currentResultIndex = Math.max(_vm.currentResultIndex - 1, 0)}}},[_c('v-icon',[_vm._v(\"chevron_left\")])],1),_c('v-select',{staticClass:\"mx-2\",attrs:{\"items\":_vm.resultSelectValues,\"item-text\":\"label\",\"item-value\":\"value\"},model:{value:(_vm.currentResultIndex),callback:function ($$v) {_vm.currentResultIndex=$$v},expression:\"currentResultIndex\"}}),_c('v-btn',{attrs:{\"flat\":\"\",\"icon\":_vm.$vuetify.breakpoint.xsOnly,\"disabled\":_vm.currentResultIndex + 1 >= _vm.results.length},on:{\"click\":function($event){_vm.currentResultIndex = Math.min(_vm.currentResultIndex + 1, _vm.results.length - 1)}}},[_c('v-icon',[_vm._v(\"chevron_right\")])],1)],1),_c('section',[_c('spark-squad-card',{key:_vm.getResultName(_vm.results[_vm.currentResultIndex], _vm.currentResultIndex),attrs:{\"squad\":_vm.squad,\"sparkResult\":_vm.results[_vm.currentResultIndex],\"getUnit\":_vm.getUnit,\"simulatorOptions\":_vm.simulatorOptions}},[_c('v-card-actions',{attrs:{\"slot\":\"card-actions\"},slot:\"card-actions\"},[_c('v-btn',{attrs:{\"outline\":\"\"},on:{\"click\":function () { return _vm.applySparkResult(_vm.results[_vm.currentResultIndex]); }}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"save\")]),_vm._v(\"\\n                Apply\\n              \")],1)],1)],1)],1)]):(_vm.errorForCalculations)?_c('section',[_c('v-alert',{attrs:{\"value\":true,\"color\":\"error\",\"icon\":\"warning\"}},[_vm._v(\"\\n            There was a problem generating the spark results for the current squad configuration. (\"+_vm._s(_vm.errorForCalculations.message || _vm.errorForCalculations)+\")\\n          \")])],1):_c('section',[_vm._v(\"\\n          No results found for given configuration.\\n        \")])])])],1),_c('v-dialog',{attrs:{\"value\":_vm.showProgressDialog,\"max-width\":\"500px\",\"persistent\":\"\"}},[_c('v-card',[_c('v-card-text',[_c('v-progress-linear',{attrs:{\"value\":_vm.progressPercent,\"indeterminate\":_vm.progressPercent === 0,\"query\":\"\"}}),_c('div',[_vm._v(_vm._s(_vm.progressLabel))]),_c('div',[_vm._v(\"Time Elapsed: \"+_vm._s(_vm.simulationElapsedText))])],1),_c('v-card-actions',[_c('v-spacer'),(!_vm.runningSimulator)?_c('v-btn',{on:{\"click\":function($event){_vm.showProgressDialog = false}}},[_vm._v(\"\\n          Close\\n        \")]):_c('v-btn',{attrs:{\"disabled\":_vm.progressTotal === 0},on:{\"click\":_vm.cancelCalculations}},[_vm._v(\"\\n          Cancel\\n        \")])],1)],1)],1),_vm._m(0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"mt-3\"},[_vm._v(\"\\n    Powered by \"),_c('a',{attrs:{\"href\":\"https://joshuacastor.me/project-sparkle/\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"Project Sparkle\")])])}]\n\nexport { render, staticRenderFns }","const passiveProcMetadata = require('@/assets/buff-translation/passive-proc-metadata.json');\n\nexport const ATTACKING_PROCS = Object.freeze(\n  Object.keys(passiveProcMetadata.proc)\n    .filter(id => passiveProcMetadata.proc[id].Type === 'Attack')\n);\n\nexport const MOVESPEED_OFFSETS = Object.freeze({\n  '1': {\n    'Top Left': 15,\n    'Top Right': 30,\n    'Middle Left': 20,\n    'Middle Right': 40,\n    'Bottom Left': 18,\n    'Bottom Right': 33,\n  },\n  '2': {\n    'Top Left': 13,\n    'Top Right': 24,\n    'Middle Left': 16,\n    'Middle Right': 33,\n    'Bottom Left': 15,\n    'Bottom Right': 27,\n  },\n  '3': {\n    'Top Left': 10,\n    'Top Right': 19,\n    'Middle Left': 13,\n    'Middle Right': 26,\n    'Bottom Left': 12,\n    'Bottom Right': 21,\n  },\n  '4': {\n    'Top Left': 7,\n    'Top Right': 14,\n    'Middle Left': 9,\n    'Middle Right': 19,\n    'Bottom Left': 8,\n    'Bottom Right': 15,\n  },\n  '5': {\n    'Top Left': 4,\n    'Top Right': 9,\n    'Middle Left': 6,\n    'Middle Right': 12,\n    'Bottom Left': 5,\n    'Bottom Right': 9,\n  },\n});\n\nexport const TELEPORTER_OFFSETS = Object.freeze({\n  // from Hamza Khan\n  '850328': 19, // ezra\n  '750167': 11, // arthur\n  '810278': 25, // zeis\n  '810108': 32, // ciara\n  '61007': 48, // kalon\n  '860357': 34, // neferet\n  '850418': 30, // gabriela\n  '20887': 43, // mariela\n  '860258': 21, // zenia\n  '850158': 23, // carrol\n  '61087': 17, // zalvard\n  '51107': 21, // diastima\n  '40857': 15, // licht\n  '860518': 23, // beatrix\n  '860548': 20, // mard\n  // from BluuArc\n  '51317': 105, // karna masta\n  '830048': 18, // dranoel\n  '61207': 29, // alza masta\n  '850568': 29, // qiutong\n});\n\nexport const UNIT_SKILL_TYPES = {\n  BB: 'bb',\n  SBB: 'sbb',\n  UBB: 'ubb',\n};\n\nexport const SBB_NO_CUTIN_DELAY = 2;\nexport const SBB_CUTIN_DELAY = 1;\n\nexport const MAX_WORKERS = 2;\n","import { SBB_NO_CUTIN_DELAY, ATTACKING_PROCS, TELEPORTER_OFFSETS, MOVESPEED_OFFSETS, SBB_CUTIN_DELAY, MAX_WORKERS } from './constants';\nimport {\n  getBurstEffects,\n  getHealFrameData,\n  getHitCountData as getHitCountDataFromBurst,\n} from '@/modules/core/bursts';\nimport {\n  generateFillerSquadUnitEntry,\n  getEffectsListForSquadUnitEntry,\n  generateDefaultSquad,\n  makeSquadUnitEntry,\n  cloneSquad,\n  sortUnitsByPosition,\n} from '@/modules/core/squads';\nimport { getMoveType } from '@/modules/core/units';\nimport {\n  targetAreaMapping,\n  moveTypeIdByName,\n  squadFillerMapping,\n  targetTypes,\n  squadBuffTypes,\n  squadUnitActions,\n  ANY_BB_ORDER,\n  unitPositionMapping,\n} from '@/modules/constants';\nimport { getEffectId } from '@/modules/EffectProcessor/processor-helper';\n\nimport { Logger } from '@/modules/Logger';\nconst logger = new Logger({ prefix: '[SparkSimulator/utils]' }); // eslint-disable-line no-unused-vars\n\nexport function getHitCountData (burst) {\n  return getHitCountDataFromBurst(burst, f => ATTACKING_PROCS.includes(f.id));\n}\n\nexport function getExtraAttackFrames (burst) {\n  const attackFrameSets = getHitCountData(burst).map(d => d.frames);\n  const healFrameSets = getHealFrameData(burst).map(d => d.frames);\n  \n  // aggregate frame data\n  const unifiedFrames = [];\n  [attackFrameSets, healFrameSets].forEach(frameGroup => {\n    frameGroup.forEach((frameSet, setIndex) => {\n      let frameIndex = setIndex === 0 ? 0 : 1; // drop first frame for second attack onward\n      const numFrames = frameSet['frame times'].length;\n      for (; frameIndex < numFrames; frameIndex++) {\n        unifiedFrames.push({\n          time: frameSet['frame times'][frameIndex],\n          dmg: frameSet['hit dmg% distribution'][frameIndex],\n        });\n      }\n    });\n  });\n\n  // transform aggregate back into a frame object with sorted times\n  const resultFrames = {\n    'frame times': [],\n    'hit dmg% distribution': [],\n  };\n  unifiedFrames.sort((a, b) => a.time - b.time).forEach(({ time, dmg }) => {\n    resultFrames['frame times'].push(time);\n    resultFrames['hit dmg% distribution'].push(dmg);\n  });\n  return resultFrames;\n}\n\nexport function convertExtraAttackInfoToHitCountData (extraAttackEffect = {}, extrAttackFrames = getExtraAttackFrames()) {\n  return {\n    target: targetAreaMapping[extraAttackEffect['random attack'] ? 'random' : extraAttackEffect['target area']],\n    id: getEffectId(extraAttackEffect).toString(),\n    frames: extrAttackFrames,\n    effects: extraAttackEffect,\n    delay: extraAttackEffect['effect delay time(ms)/frame'],\n    source: extraAttackEffect.source || extraAttackEffect.sourcePath,\n  };\n}\n\nexport function getAttackEffectsFromBurst (burst = {}) {\n  return ((getBurstEffects(burst) || {}).effects || [])\n    .filter(b => ATTACKING_PROCS.includes(getEffectId(b).toString()));\n}\n\nexport function getFramesForSparkUnitEntry ({\n  burst = {},\n  extraAttackEffects = [],\n  delay = 0,\n  moveTypeId = moveTypeIdByName.Moving,\n  moveSpeed = 0,\n  teleporterId = 0,\n}) {\n  const burstFrames = (burst['damage frames'] || [])\n    .filter(b => ATTACKING_PROCS.includes(getEffectId(b).toString()));\n  if (burstFrames.length === 0 && extraAttackEffects.length === 0) {\n    return [];\n  }\n\n  const burstEffects = getAttackEffectsFromBurst(burst);\n  \n  const baseOffset = [\n    moveTypeId === moveTypeIdByName['Non-Moving'] ? moveSpeed : 0,\n    (moveTypeId === moveTypeIdByName.Teleporting && TELEPORTER_OFFSETS[teleporterId.toString()]) || 0,\n    !isNaN(delay) ? +delay : 0,\n  ].reduce((acc, val) => acc + val, 0);\n\n  const processFrameTimes = (frameTimes = [], totalOffset, isAoe) => {\n    return frameTimes.map(time => ({\n      frame: (+time) + totalOffset,\n      target: isAoe ? 'aoe' : 'st',\n    }));\n  };\n\n  let resultAttackFrames = burstFrames.map((frameInfo, index) => {\n    const isAoe = burstEffects[index]['target area'] === 'aoe';\n    const effectDelay = moveTypeId === moveTypeIdByName.Teleporting\n      ? 0\n      : +frameInfo['effect delay time(ms)/frame'].split('/')[1];\n    const totalOffset = (moveTypeId === moveTypeIdByName.Teleporting ? 0 : effectDelay) + baseOffset;\n    return processFrameTimes(frameInfo['frame times'], totalOffset, isAoe);\n  });\n\n  if (extraAttackEffects.length > 0) {\n    const extraAttackFrames = getExtraAttackFrames(burst);\n    const resultExtraAttackFrames = extraAttackEffects.filter(b => ATTACKING_PROCS.includes(getEffectId(b).toString()))\n      .map(effect => {\n        const isAoe = effect['target area'] === 'aoe';\n        const effectDelay = +effect['effect delay time(ms)/frame'].split('/')[1];\n        const totalOffset = (moveTypeId === moveTypeIdByName.Teleporting ? 0 : effectDelay) + baseOffset;\n        return processFrameTimes(extraAttackFrames['frame times'], totalOffset, isAoe);\n      });\n      resultAttackFrames = resultAttackFrames.concat(resultExtraAttackFrames);\n      // logger.warn({\n      //   burstFrames,\n      //   burstEffects,\n      //   extraAttackEffects: extraAttackEffects.filter(b => ATTACKING_PROCS.includes(getEffectId(b).toString())),\n      //   extraAttackFrames,\n      //   moveSpeed,\n      //   resultAttackFrames,\n      //   resultExtraAttackFrames,\n      //   baseOffset,\n      // });\n  }\n  return resultAttackFrames;\n}\n\nexport function convertSquadUnitEntryToSparkUnitEntry ({\n  entry = generateFillerSquadUnitEntry(),\n  synchronousGetters = {},\n  squad = generateDefaultSquad(),\n  originalPosition,\n  unitConfig = getSparkSimUnitConfig(),\n} = {}) {\n  const unitData = synchronousGetters.unit(entry.id);\n  const sourcesToIgnore = ['unit.bb', 'unit.sbb', 'unit.ubb'];\n  const extraAttackEffects = getEffectsListForSquadUnitEntry({\n    unitEntry: {\n      ...entry,\n      bbOrder: unitConfig.bbOrder || entry.bbOrder,\n      action: unitConfig.action,\n    },\n    target: targetTypes.ENEMY,\n    effectType: squadBuffTypes.PROC,\n    squad,\n  }, {\n    getUnit: synchronousGetters.unit,\n    getItem: synchronousGetters.item,\n    getExtraSkill: synchronousGetters.extraSkill,\n  }).filter(effect => !sourcesToIgnore.includes(effect.sourcePath) && (!effect.triggeredOn || (effect.triggeredOn === entry.action)));\n\n  let delay;\n  if (!isNaN(unitConfig.delay)) {\n    delay = +unitConfig.delay;\n  } else {\n    delay = !isNaN(entry.delay) ? +entry.delay : 0;\n  }\n  const sparkUnitEntry = {\n    id: entry.id,\n    position: entry.position,\n    bbOrder: unitConfig.bbOrder || entry.bbOrder,\n    action: unitConfig.action || entry.action,\n    name: unitData.name || entry.id,\n    extraAttackEffects,\n    burst: unitData[unitConfig.action],\n    moveTypeId: (unitData.movement && unitData.movement.skill && +unitData.movement.skill['move type']) || 0,\n    moveSpeed: (unitData.movement && unitData.movement.skill && +unitData.movement.skill['move speed']) || 0,\n    moveSpeedType: (unitData.movement && unitData.movement.skill && +unitData.movement.skill['move speed type']) || '1',\n    delay,\n    teleporterId: entry.id,\n    weight: unitConfig.weight,\n    originalPosition,\n  };\n  sparkUnitEntry.frames = getFramesForSparkUnitEntry(sparkUnitEntry);\n\n  return sparkUnitEntry;\n}\n\nexport function getBattleFrames (entry = convertSquadUnitEntryToSparkUnitEntry(), cutinDelay = SBB_NO_CUTIN_DELAY) {\n  const battleFrames = {};\n  if (entry.id !== squadFillerMapping.ANY && entry.id !== squadFillerMapping.EMPTY) {\n    const frameDelay = [\n      (entry.bbOrder - 1) * cutinDelay,\n      entry.moveTypeId === moveTypeIdByName.Moving\n        ? +MOVESPEED_OFFSETS[entry.moveSpeedType][entry.position]\n        : 0,\n    ].reduce((acc, val) => acc + val, 0);\n\n    entry.frames.forEach(attack => {\n      attack.forEach(({ frame, target }) => {\n        const actualFrame = +frame + frameDelay;\n        if (!battleFrames[actualFrame]) {\n          battleFrames[actualFrame] = {\n            aoe: 0,\n            st: 0,\n          };\n        }\n        battleFrames[actualFrame][target] += 1;\n      });\n    });\n  }\n  return battleFrames;\n}\n\nexport function calculateSparksForSparkSimSquad (squad = [convertSquadUnitEntryToSparkUnitEntry()], options = getSimulatorOptions()) {\n  const { enemyCount, burstCutins } = options;\n  const aggregatedBattleFrames = {};\n  const battleFramesByUnit = new Map();\n  // aggregate battle frames\n  squad.forEach(unit => {\n    const unitBattleFrames = getBattleFrames(unit, burstCutins ? SBB_CUTIN_DELAY : SBB_NO_CUTIN_DELAY);\n    Object.keys(unitBattleFrames)\n      .forEach(frame => {\n        if (!aggregatedBattleFrames[frame]) {\n          aggregatedBattleFrames[frame] = {\n            aoe: 0,\n            st: 0,\n          };\n        }\n\n        aggregatedBattleFrames[frame].aoe += unitBattleFrames[frame].aoe;\n        aggregatedBattleFrames[frame].st += unitBattleFrames[frame].st;\n      });\n    battleFramesByUnit.set(unit, unitBattleFrames);\n  });\n\n  let possibleSparksSquad = 0;\n  let actualSparkSquad = 0;\n  // logger.warn(battleFramesByUnit);\n  const sparkResults = squad.map(unit => {\n    const unitBattleFrames = battleFramesByUnit.get(unit);\n    const frameTimes = Object.keys(unitBattleFrames);\n\n    const possibleSparks = frameTimes\n      .map(frame => unitBattleFrames[frame].aoe * enemyCount + unitBattleFrames[frame].st)\n      .reduce((acc, val) => acc + val, 0);\n    const actualSparks = frameTimes.map(frame => {\n      const { aoe: selfAoe, st: selfSt } = unitBattleFrames[frame];\n      const remainingAoe = aggregatedBattleFrames[frame].aoe - selfAoe;\n      const remainingSt = aggregatedBattleFrames[frame].st - selfSt;\n\n      const hasSparkableAoe = [\n        remainingAoe > 0 && selfAoe > 0, // 1+ AOE and self AOE\n        selfAoe > 1, // self sparking AOE\n      ].some(v => v);\n      const hasSparkableSt = [\n        remainingSt > 0 && selfSt > 0, // 2+ ST attacks in same frame\n        remainingAoe > 0 && selfSt > 0, // 1+ AOE and self ST\n        remainingSt > 0 && selfAoe > 0, // 1+ ST and self AOE\n        selfAoe > 0 && selfSt > 0, // self AOE and self ST\n        selfSt > 1, // self sparking ST\n      ].some(v => v);\n\n      let count = 0;\n      if (hasSparkableAoe) {\n        count += selfAoe * enemyCount;\n      }\n\n      if (hasSparkableSt) {\n        count += selfSt;\n        if (remainingSt > 0 && selfAoe > 0 && !hasSparkableAoe) {\n          count += selfAoe;\n        }\n      }\n      return count;\n    }).reduce((acc, val) => acc + val, 0);\n\n    possibleSparksSquad += possibleSparks;\n    actualSparkSquad += actualSparks;\n\n    return {\n      id: unit.id,\n      name: unit.name || unit.id,\n      position: unit.position,\n      bbOrder: unit.bbOrder,\n      action: unit.action,\n      actualSparks,\n      possibleSparks,\n      delay: unit.delay,\n      originalPosition: unit.originalPosition,\n      weight: unit.weight,\n    };\n  });\n\n  const totalWeight = sparkResults\n    .filter(u => u.weight > 0)\n    .reduce((acc, val) => acc + val.weight, 0);\n  let weightedPercentage;\n  if (totalWeight <= 0) {\n    weightedPercentage = 0;\n  } else {\n    weightedPercentage = sparkResults\n      .map(val => {\n        const percentSparked = val.actualSparks / Math.max(1, val.possibleSparks);\n        const weight = val.weight / totalWeight;\n        return percentSparked * weight;\n      })\n      .reduce((acc, val) => acc + val, 0);\n  }\n\n  return {\n    actualSparks: actualSparkSquad,\n    possibleSparks: possibleSparksSquad,\n    weightedPercentage,\n    squad: sortUnitsByPosition(sparkResults, false),\n  };\n}\n\nexport function getDelayDescriptionForSparkUnitResult ({\n  sparkUnitResult = {},\n  unitData = {},\n  burstCutins = false,\n} = {}) {\n  const makeEntry = (delay = 0, description = '') => ({ delay, description });\n  if (sparkUnitResult.id === squadFillerMapping.EMPTY) {\n    return [makeEntry(0, 'Empty Units have no delay')];\n  }\n\n  const moveTypeId = (unitData.movement && unitData.movement.skill && +unitData.movement.skill['move type']) || 0;\n  const moveSpeed = (unitData.movement && unitData.movement.skill && +unitData.movement.skill['move speed']) || 0;\n  const moveTypeName = unitData.movement && getMoveType(unitData);\n  const moveSpeedType = (unitData.movement && unitData.movement.skill && +unitData.movement.skill['move speed type']) || '1';\n\n  const teleporterOffset = (moveTypeId === moveTypeIdByName.Teleporting && TELEPORTER_OFFSETS[unitData.id.toString()]) || 0;\n  const positionBasedOffset = +MOVESPEED_OFFSETS[moveSpeedType][sparkUnitResult.position];\n  const inputDelay = !isNaN(sparkUnitResult.delay) ? +sparkUnitResult.delay : 0;\n  const squadLevelDelay = !isNaN(sparkUnitResult.squadLevelDelay) ? +sparkUnitResult.squadLevelDelay : 0;\n\n  return [\n    moveTypeId === moveTypeIdByName['Non-Moving'] && makeEntry(moveSpeed, `innate move speed as a ${moveTypeName} unit`),\n    moveTypeId === moveTypeIdByName.Teleporting && makeEntry(teleporterOffset, `custom offset as a ${moveTypeName} unit`),\n    moveTypeId === moveTypeIdByName.Moving && makeEntry(positionBasedOffset, `offset based on position and move speed type as a ${moveTypeName} unit`),\n    makeEntry(burstCutins ? SBB_CUTIN_DELAY : SBB_NO_CUTIN_DELAY, `burst cut-in delay (cut-ins ${burstCutins ? 'on' : 'off'})`),\n    inputDelay > 0 && makeEntry(inputDelay, `custom unit delay`),\n    squadLevelDelay > 0 && makeEntry(squadLevelDelay, `custom squad delay`),\n  ].filter(v => v);\n}\n\nfunction getNumberOrDefault (num, defaultValue = 0) {\n  return !isNaN(num) ? +num : defaultValue;\n}\n\nexport function getSimulatorOptions ({\n  unitConfig = [],\n  enemyCount = 6,\n  burstCutins = false,\n  resultThreshold = 50,\n  workerCount = MAX_WORKERS,\n  maxResults = 10,\n  optimize = false,\n} = {}, squad = generateDefaultSquad()) {\n  let resultUnitConfig = Array.isArray(unitConfig)\n    ? unitConfig.map((config, i) => getSparkSimUnitConfig({ ...config, id: squad.units[i].id }))\n    : [];\n  if (Array.isArray(squad.units) && resultUnitConfig.length < squad.units.length) {\n    const numUnits = squad.units.length;\n    // ensure that every unit entry has a corresponding spark unit config entry\n    for (let i = resultUnitConfig.length; i < numUnits; ++i) {\n      resultUnitConfig.push(getSparkSimUnitConfig(squad.units[i]));\n    }\n  }\n  return Object.freeze({\n    unitConfig: resultUnitConfig,\n    enemyCount: Math.max(1, getNumberOrDefault(enemyCount, 6)),\n    burstCutins: !!burstCutins,\n    resultThreshold: Math.max(0, Math.min(100, getNumberOrDefault(resultThreshold, 50))),\n    workerCount: (Math.max(1, Math.min(MAX_WORKERS, getNumberOrDefault(workerCount, MAX_WORKERS)))),\n    maxResults: Math.max(1, Math.min(100, getNumberOrDefault(maxResults, 10))),\n    optimize: !!optimize,\n  });\n}\n\nexport function getSparkSimUnitConfig ({\n  action = squadUnitActions.ATK,\n  bbOrder = 1,\n  delay = 0,\n  weight = 1,\n  lockPosition = false,\n  id,\n} = {}) {\n  let finalAction;\n  if (id === squadFillerMapping.EMPTY) {\n    finalAction = squadUnitActions.NONE;\n  } else if (id !== squadFillerMapping.EMPTY && action === squadUnitActions.NONE) {\n    finalAction = squadUnitActions.ATK;\n  } else {\n    finalAction = action;\n  }\n\n  return Object.freeze({\n    action: finalAction,\n    bbOrder: id !== squadFillerMapping.EMPTY ? getNumberOrDefault(bbOrder, ANY_BB_ORDER) : ANY_BB_ORDER,\n    delay: getNumberOrDefault(delay, 0),\n    weight: getNumberOrDefault(weight, 1),\n    lockPosition: !!lockPosition,\n  });\n}\n\nexport function getSimulatorWarningsForSquadUnit ({\n  unit = generateFillerSquadUnitEntry(),\n  attackEffects = [],\n  unitData = {},\n} = {}) {\n  const attackTargets = new Set();\n  attackEffects.forEach(attack => {\n    const effectId = getEffectId(attack);\n    const targetArea = attack['target area'];\n    const isRandom = +effectId === 13 && !!attack['random attack'];\n\n    attackTargets.add(isRandom ? 'rt' : targetArea);\n  });\n\n  const warnings = Array.from(attackTargets).length === 0\n    ? []\n    : [\n      attackTargets.has('rt') && 'Random attacks aren\\'t supported yet',\n      !attackTargets.has('aoe') && 'No AOE attacks found',\n    ].filter(v => v);\n\n  const moveTypeId = (unitData.movement && unitData.movement.skill && +unitData.movement.skill['move type']) || 0;\n  if (moveTypeId === moveTypeIdByName.Teleporting && !TELEPORTER_OFFSETS.hasOwnProperty((unitData.id || unit.id).toString())) {\n    warnings.push('This teleporting unit is not supported yet');\n  }\n\n  return warnings;\n}\n\nexport function getSimulatorWarningsForSquad (squad = generateDefaultSquad(), options = getSimulatorOptions()) {\n  const warnings = [];\n  const emptyUnits = squad.units.filter(u => u.id === squadFillerMapping.EMPTY);\n  const maxBbOrder = squad.units.length - emptyUnits.length;\n  let highestBbOrderForNonEmptyUnits = 0, lowestBbOrderForEmptyUnits = 0;\n  const usedOrders = new Set();\n  squad.units.forEach((unit, index) => {\n    const unitConfig = options.unitConfig[index];\n    if (unit.id === squadFillerMapping.EMPTY) {\n      const bbOrder = !isNaN(unitConfig.bbOrder) ? +unitConfig.bbOrder : squad.units.length;\n      lowestBbOrderForEmptyUnits = Math.min(lowestBbOrderForEmptyUnits, bbOrder);\n    } else {\n      const bbOrder = !isNaN(unitConfig.bbOrder) ? +unitConfig.bbOrder : 0;\n      highestBbOrderForNonEmptyUnits = Math.max(highestBbOrderForNonEmptyUnits, bbOrder);\n      if (bbOrder > 0) {\n        if (!usedOrders.has(bbOrder)) {\n          usedOrders.add(bbOrder);\n        } else {\n          warnings.push(`Duplicate BB Order found [${bbOrder}]`);\n        }\n      }\n    }\n  });\n\n  if (highestBbOrderForNonEmptyUnits > maxBbOrder) {\n    warnings.push(`BB Order for non-empty units should not exceed number of non-empty units (${maxBbOrder})`);\n  }\n  if (lowestBbOrderForEmptyUnits > 0 && lowestBbOrderForEmptyUnits <= maxBbOrder) {\n    warnings.push(`BB Order for empty units should not be lower than the number of non-empty units (${maxBbOrder})`);\n  }\n\n  return warnings;\n}\n\nexport function applySparkResultToSquad (squad = generateDefaultSquad(), sparkResult = calculateSparksForSparkSimSquad(), originalOptions = getSimulatorOptions()) {\n  const newUnitSet = [], newSparkResultSquad = [];\n  let { lead, friend } = squad;\n  let leadUnit, friendUnit;\n  unitPositionMapping.forEach((position, index) => {\n    const squadUnitIndex = squad.units.findIndex(u => u.position === position);\n    const sparkUnitIndex = sparkResult.squad.findIndex(u => u.originalPosition === position);\n\n    newUnitSet.push(makeSquadUnitEntry({\n      ...squad.units[squadUnitIndex],\n      position: sparkResult.squad[sparkUnitIndex].position,\n      bbOrder: sparkResult.squad[sparkUnitIndex].bbOrder,\n      action: sparkResult.squad[sparkUnitIndex].action,\n    }));\n    newSparkResultSquad.push(sparkResult.squad[sparkUnitIndex]);\n\n    if (squadUnitIndex === lead) {\n      leadUnit = newUnitSet[index];\n    }\n    if (squadUnitIndex === friend) {\n      friendUnit = newUnitSet[index];\n    }\n  });\n\n  // set lead and friend indices properlty\n  sortUnitsByPosition(newUnitSet, false);\n  sortUnitsByPosition(newSparkResultSquad, false);\n  if (leadUnit) {\n    lead = newUnitSet.indexOf(leadUnit);\n  }\n  if (friendUnit) {\n    friend = newUnitSet.indexOf(friendUnit);\n  }\n\n  return {\n    squad: cloneSquad({\n      ...squad,\n      lead,\n      friend,\n      units: newUnitSet,\n    }),\n    sparkResult: {\n      ...sparkResult,\n      squad: newSparkResultSquad,\n    },\n    options: getSimulatorOptions({\n      ...originalOptions,\n      unitConfig: extractUnitConfigFromSparkResultSquad(newSparkResultSquad),\n    }),\n  };\n}\n\nexport function extractUnitConfigFromSparkResultSquad (squad = calculateSparksForSparkSimSquad().squad) {\n  // assumption: order of units in spark result does not differ from squad it is to be applid on\n  return squad.map(getSparkSimUnitConfig);\n}\n\n// original source: https://initjs.org/all-permutations-of-a-set-f1be174c79f8\nexport function getAllPermutations(arr = []) {\n  const results = [];\n\n  if (arr.length === 1) {\n    results.push(arr);\n  } else {\n    arr.forEach((d, i) => {\n      const remainingElements = arr.slice(0, i).concat(arr.slice(i + 1, arr.length));\n      const innerPermutations = getAllPermutations(remainingElements);\n      innerPermutations.forEach(permutation => {\n        results.push([d].concat(permutation));\n      });\n    });\n  }\n  return results;\n}\n\nexport function getPositionPermutations (squad = [convertSquadUnitEntryToSparkUnitEntry()], options = getSimulatorOptions()) {\n  const lockedIndices = [], unlockedPositions = [];\n  squad.forEach((unit, i) => {\n    const unitConfig = options.unitConfig[i];\n    if (unitConfig.lockPosition) {\n      lockedIndices.push(i);\n    } else {\n      unlockedPositions.push(unit.position);\n    }\n  });\n\n  let resultPositions = [[]];\n  const createPositionArray = (positionPermutation = []) => {\n    let currentPermutationIndex = 0;\n    // fill in mapping based on locked and unlocked indices\n    return unitPositionMapping.map((_, i) =>\n      lockedIndices.includes(i)\n        ? squad[i].position\n        : positionPermutation[currentPermutationIndex++]\n    );\n  };\n  if (unlockedPositions.length > 0) {\n    resultPositions = getAllPermutations(unlockedPositions)\n      .map(permutation => createPositionArray(permutation));\n  } else {\n    resultPositions = [lockedIndices.map(i => squad[i].position)];\n  }\n  return resultPositions;\n}\n\nexport function getOrderPermutations (squad = [convertSquadUnitEntryToSparkUnitEntry()], options = getSimulatorOptions()) {\n  const allOrders = squad.map((_, i) => i + 1);\n  const emptyUnits = squad.filter(u => u.id === squadFillerMapping.EMPTY);\n  const lockedUnits = [], unlockedUnits = [];\n  squad.forEach((unit, i) => {\n    const config = options.unitConfig[i];\n    if (!isNaN(config.bbOrder) && allOrders.includes(config.bbOrder)) {\n      lockedUnits.push({ unit, bbOrder: +config.bbOrder });\n    } else if (config.bbOrder === ANY_BB_ORDER) {\n      unlockedUnits.push(unit);\n    }\n  });\n  const emptyOrders = allOrders\n    .filter(order => order > (squad.length - emptyUnits.length))\n    .map((order, index) => ({ unit: emptyUnits[index], bbOrder: order }));\n  const lockedOrders = lockedUnits.map(({ bbOrder }) => bbOrder);\n  const unlockedOrders = allOrders.filter(order => !lockedOrders.includes(order) && order <= (squad.length - emptyUnits.length));\n  let unitOrderPairings = [[]];\n  if (unlockedOrders.length > 0) {\n    unitOrderPairings = getAllPermutations(unlockedOrders)\n      .map(permutation => {\n        return permutation.map((bbOrder, index) => ({ unit: unlockedUnits[index], bbOrder }))\n          .filter(p => p.unit)\n          .concat(lockedUnits).concat(emptyOrders);\n      });\n  } else {\n    unitOrderPairings = [lockedUnits.concat(emptyOrders)];\n  }\n  return unitOrderPairings.map(permutation => {\n    return permutation\n      .sort((a, b) => squad.indexOf(a.unit) - squad.indexOf(b.unit))\n      .map(p => p.bbOrder);\n  });\n}\n\nexport async function generateSimulatorPermutations (squad = [convertSquadUnitEntryToSparkUnitEntry()], options = getSimulatorOptions(), delay = () => {}) {\n  const positionPermutations = getPositionPermutations(squad, options);\n  const orderPermutations = getOrderPermutations(squad, options);\n  const getResultKey = (currentSquad = squad, unitConfig = [{ bbOrder: 0, position: unitPositionMapping[0] }]) => {\n    return currentSquad.map((unit, index) => {\n      const config = unitConfig[index];\n      const unitKey = unit.id === squadFillerMapping.EMPTY || unit.id === squadFillerMapping.ANY\n        ? ''\n        : `${unit.id}|${unit.extraAttackEffects.length}|${unit.action}|${config.position}|${config.bbOrder}`;\n      return unitKey;\n    }).filter(v => v).join('-');\n  };\n  logger.debug({\n    positionPermutations,\n    orderPermutations,\n  });\n  const squadPermutations = [];\n  const permutationHistory = new Map();\n  let currentIndex = 0;\n  for (const positionPermutation of positionPermutations) {\n    if (currentIndex % 5 === 0) {\n      await Promise.resolve(delay());\n    }\n    orderPermutations.forEach(orderPermutation => {\n      const resultMapping = squad.map((_, i) => ({ position: positionPermutation[i], bbOrder: orderPermutation[i] }));\n      const resultKey = getResultKey(squad, resultMapping);\n      if (!permutationHistory.get(resultKey)) {\n        permutationHistory.set(resultKey, true);\n        squadPermutations.push(resultMapping);\n      }\n    });\n  }\n\n  return squadPermutations;\n}\n\nexport function getUnitConfigForUnoptimizedRun (config = getSparkSimUnitConfig(), unit = generateFillerSquadUnitEntry()) {\n  return {\n    ...config,\n    bbOrder: !isNaN(config.bbOrder) ? config.bbOrder : unit.bbOrder,\n  };\n}\n\nexport function applyPermutationToUnitConfig (options = [getSparkSimUnitConfig()], permutation = [{ bbOrder: 1, position: unitPositionMapping[0] }]) {\n  return options.map((config, i) => getSparkSimUnitConfig({\n    ...config,\n    ...permutation[i],\n  }));\n}\n\nexport function applyPermutationToSparkSquad (squad = [convertSquadUnitEntryToSparkUnitEntry()], permutation = [{ bbOrder: 1, position: unitPositionMapping[0] }]) {\n  return squad.map((unit, i) => ({\n    ...unit,\n    bbOrder: permutation[i].bbOrder,\n    position: permutation[i].position,\n  }));\n}\n","import { convertSquadUnitEntryToSparkUnitEntry, getSimulatorOptions } from '@/modules/spark-simulator/utils';\n\nexport default class SparkSimWorkerInterface {\n  /* eslint-disable no-unused-vars */\n  static _defer (name = 'name of method to be deferred') {\n    return Promise.reject(new Error(`Must implement ${name}() in subclass`));\n  }\n\n  run ({\n    permutations = [],\n    sparkSquad = [convertSquadUnitEntryToSparkUnitEntry()],\n    options = getSimulatorOptions(),\n  } = {}) {\n    return SparkSimWorkerInterface._defer('run');\n  }\n\n  cancel () {\n    return SparkSimWorkerInterface._defer('cancel');\n  }\n\n  onProgress ({ total = 0, completed = 0 } = {}) {\n    return SparkSimWorkerInterface._defer('onProgress');\n  }\n  /* eslint-enable no-unused-vars */\n}\n","import PromiseWorkerExchangeClient from '@/modules/PromiseWorkerExchange/client';\nimport SparkSimWorkerInterface from '../ClientWorkerInterface';\nimport { convertSquadUnitEntryToSparkUnitEntry, getSimulatorOptions } from '@/modules/spark-simulator/utils';\nimport { Logger } from '@/modules/Logger';\n\n// eslint-disable-next-line no-unused-vars\nconst logger = new Logger({ prefix: '[SparkSimWorker/client]' });\nexport default class SparkSimClient extends SparkSimWorkerInterface {\n  constructor (exchangeWorker = new PromiseWorkerExchangeClient()) {\n    super();\n    this._worker = exchangeWorker;\n    this._progressListeners = new Set();\n\n    this._worker.registerCommand('progress', progress => {\n      this.onProgress(progress);\n    });\n  }\n\n  get exchangeWorker () {\n    return this._worker;\n  }\n\n  request (method, data) {\n    logger.debug('starting request for', { method, data });\n    return this._worker.request(method, data);\n  }\n\n  run (simArguments = {\n    permutations: null,\n    sparkSquad: [convertSquadUnitEntryToSparkUnitEntry()],\n    options: getSimulatorOptions(),\n  }) {\n    return this._worker.request('run', simArguments);\n  }\n\n  cancel () {\n    return this._worker.request('cancel');\n  }\n\n  onProgress (progress = { total: 0, completed: 0 }) {\n    this._progressListeners.forEach(listener => {\n      listener(progress);\n    });\n  }\n\n  addProgressListener (fn) {\n    if (typeof fn === 'function') {\n      this._progressListeners.add(fn);\n    }\n  }\n\n  removeProgressListener (fn) {\n    if (typeof fn === 'function') {\n      this._progressListeners.delete(fn);\n    }\n  }\n\n  removeAllListeners () {\n    this._progressListeners.clear();\n  }\n\n  close () {\n    this._worker.close();\n    this._worker = null;\n  }\n}\n","import PromiseWorkerExchangeClient from '@/modules/PromiseWorkerExchange/client';\nimport SimWorker from 'worker-loader!../worker/index.js';\nimport ClientApi from './ClientApi';\n\nexport default function makeWorker () {\n  const worker = new PromiseWorkerExchangeClient(new SimWorker());\n  return new ClientApi(worker);\n}\n","import { generateDefaultSquad } from '@/modules/core/squads';\nimport {\n  convertSquadUnitEntryToSparkUnitEntry,\n  calculateSparksForSparkSimSquad,\n  getSimulatorOptions,\n  getUnitConfigForUnoptimizedRun,\n  generateSimulatorPermutations,\n} from './utils';\nimport { MAX_WORKERS } from './constants';\nimport makeWorker from './client';\nimport { Logger } from '@/modules/Logger';\n\nconst logger = new Logger({ prefix: '[SparkSimulator]' });\nexport default class SparkSimulator {\n  constructor () {\n    this._squad = null;\n\n    const noop = () => ({});\n    this._dbGetters = {\n      unit: noop,\n      item: noop,\n      extraSkill: noop,\n    };\n\n    this._progressListeners = new Set();\n    this._workers = [];\n    this._progressTotal = 0;\n    this._progressPerWorker = [];\n  }\n\n  set getters (getters = {}) {\n    Object.keys(this._dbGetters).forEach(getterType => {\n      if (typeof getters[getterType] === 'function') {\n        this._dbGetters[getterType] = getters[getterType];\n      }\n    });\n  }\n\n  calculateSparksForSquad (squad = generateDefaultSquad(), options = getSimulatorOptions()) {\n    const sparkSquad = squad.units.map((u, i) => convertSquadUnitEntryToSparkUnitEntry({\n      entry: u,\n      synchronousGetters: this._dbGetters,\n      squad,\n      originalPosition: u.position,\n      unitConfig: getUnitConfigForUnoptimizedRun(options.unitConfig[i], u),\n    }));\n    return calculateSparksForSparkSimSquad(sparkSquad, options);\n  }\n\n  async calculateOptimalOrdersForSquad(squad = generateDefaultSquad(), options = getSimulatorOptions()) {\n    const sparkSquad = squad.units.map((u, i) => convertSquadUnitEntryToSparkUnitEntry({\n      entry: u,\n      synchronousGetters: this._dbGetters,\n      squad,\n      originalPosition: u.position,\n      unitConfig: options.unitConfig[i],\n    }));\n    logger.debug('getting permutations for spark squad', sparkSquad);\n    const permutations = await generateSimulatorPermutations(sparkSquad, options, () => new Promise(fulfill => setTimeout(() => fulfill())));\n    logger.debug('permutations', permutations.length);\n    this._progressTotal = permutations.length;\n\n    const calcPromises = [];\n    const workerCount = Math.min(MAX_WORKERS, Math.max(1, options.workerCount));\n    const sliceSize = Math.max(1, Math.floor(permutations.length / workerCount));\n    let sliceIndex = 0;\n    for (let i = 0; i < workerCount; ++i) {\n      const currentWorker = makeWorker();\n      this._workers.push(currentWorker);\n      this._progressPerWorker.push(0);\n      currentWorker.addProgressListener(p => this.onProgress(p, i));\n      let permutationsForWorker;\n      if (workerCount === 1) {\n        permutationsForWorker = permutations;\n      } else {\n        permutationsForWorker = i + 1 !== workerCount\n          ? permutations.slice(sliceIndex, sliceIndex + sliceSize)\n          : permutations.slice(sliceIndex);\n      }\n      logger.debug('slice', sliceIndex, sliceSize, permutationsForWorker.length);\n      sliceIndex += sliceSize;\n      calcPromises.push(currentWorker.run({\n        permutations: permutationsForWorker,\n        sparkSquad,\n        options,\n      }));\n    }\n    const results = await Promise.all(calcPromises);\n    const aggregateResult = { errors: [], results: [], countTested: permutations.length };\n    results.forEach((sparkResult, i) => {\n      aggregateResult.errors = aggregateResult.errors.concat(sparkResult.errors);\n      aggregateResult.results = aggregateResult.results.concat(sparkResult.results)\n        .sort((a, b) => b.weightedPercentage - a.weightedPercentage)\n        .slice(0, options.maxResults);\n      this._workers[i].close();\n    });\n\n    this._workers = [];\n    this._progressPerWorker = [];\n    return aggregateResult;\n  }\n\n  onProgress ({ completed = 0 } = {}, workerIndex = 0) {\n    this._progressPerWorker[workerIndex] = completed;\n    const sum = this._progressPerWorker.reduce((acc, val) => acc + val, 0);\n    this._progressListeners.forEach(listener => {\n      listener({ total: this._progressTotal, completed: sum });\n    });\n  }\n  \n  addProgressListener (fn) {\n    if (typeof fn === 'function') {\n      this._progressListeners.add(fn);\n    }\n  }\n\n  removeProgressListener (fn) {\n    if (typeof fn === 'function') {\n      this._progressListeners.delete(fn);\n    }\n  }\n\n  removeAllListeners () {\n    this._progressListeners.clear();\n  }\n\n  cancelCalculations () {\n    this._workers.forEach(worker => {\n      worker.cancel();\n    });\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"spark-squad-card\"},[_c('v-layout',{staticClass:\"pa-2\",attrs:{\"row\":\"\",\"align-center\":\"\"}},[_c('v-flex',[_c('h1',{staticClass:\"title\"},[_vm._v(\"\\n        \"+_vm._s(_vm.sparkPercentage)+\" Weighted Hits Sparked\\n      \")])]),_c('v-flex',{staticStyle:{\"flex\":\"none\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"flat\":\"\",\"color\":_vm.bbOrderColorToggleIconColor},on:{\"click\":_vm.toggleBbOrderColor}},[_c('v-icon',[_vm._v(\"color_lens\")])],1)],1)],1),_c('v-layout',{staticClass:\"px-2\",attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.fullUnits),function(unit,i){return _c('unit-entry',{key:_vm.getUnitEntryKey(unit, i),staticClass:\"d-flex py-1\",staticStyle:{\"align-items\":\"center\",\"border\":\"1px solid var(--background-color-alt)\"},attrs:{\"xs12\":\"\",\"sm6\":\"\",\"index\":i,\"unit\":unit,\"getUnit\":_vm.getUnit,\"isLead\":_vm.squad.units.indexOf(unit) === _vm.squad.lead,\"isFriend\":_vm.squad.units.indexOf(unit) === _vm.squad.friend,\"sparkResultForUnit\":_vm.sparkResultsByUnit.get(unit),\"relativeWeight\":_vm.relativeWeightByUnit.get(unit),\"warnings\":_vm.warningsByUnit.get(unit),\"burstCutins\":_vm.simulatorOptions.burstCutins}})}),1),_c('v-divider',{staticClass:\"mt-2\"}),_vm._t(\"card-actions\",[_c('v-card-actions',[_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){return _vm.$emit('share')}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"share\")]),_vm._v(\"\\n        Share\\n      \")],1)],1)])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-flex',_vm._g(_vm._b({staticClass:\"spark-unit-entry\"},'v-flex',_vm.$attrs,false),_vm.$listeners),[_vm._t(\"before-content\"),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('v-layout',{staticClass:\"mx-2\",style:((\"flex-grow: 0!important; min-width: \" + _vm.thumbnailSize + \"px; max-width: \" + _vm.thumbnailSize + \"px;\")),attrs:{\"column\":\"\"}},[(_vm.$vuetify.breakpoint.xsOnly)?_c('v-flex',{attrs:{\"text-xs-center\":\"\"}},[_c('span',{staticClass:\"caption text-no-wrap\"},[_vm._v(_vm._s(_vm.position))])]):_vm._e(),_c('v-layout',{attrs:{\"align-content-center\":\"\",\"row\":\"\"}},[_c('unit-thumbnail',{staticClass:\"unit-thumbnail\",style:((\"border-color: \" + (_vm.orderSettings.border) + \";\")),attrs:{\"src\":_vm.getImageUrls(_vm.unit.id).ills_battle,\"rarity\":_vm.rarity,\"imageTitle\":_vm.name,\"displayWidth\":_vm.thumbnailSize,\"displayHeight\":_vm.thumbnailSize}},[_c('template',{slot:\"after-image\"},[_c('text',{style:(_vm.bbOrderStyle),attrs:{\"x\":0,\"y\":_vm.thumbnailSize * 0.75}},[_vm._v(\"\\n              \"+_vm._s(!isNaN(_vm.bbOrder) ? _vm.bbOrder : '-')+\"\\n            \")])])],2)],1),(_vm.orderSettings)?_c('v-flex',{staticClass:\"text-xs-center\"},[_c('v-chip',{staticClass:\"bb-order-chip\",style:((\"\\n            background-color: \" + (_vm.orderSettings.background) + \";\\n            color: \" + (_vm.orderSettings.foreground) + \";\\n            border-color: \" + (_vm.orderSettings.border) + \";\\n          \")),attrs:{\"tabindex\":\"-1\",\"small\":\"\"}},[_c('b',[_vm._v(_vm._s(_vm.orderSettings.text))])])],1):_vm._e()],1),_c('v-layout',{staticStyle:{\"align-self\":\"flex-start\"},attrs:{\"column\":\"\"}},[_c('v-layout',{attrs:{\"align-center\":\"\"}},[_c('v-flex',{staticClass:\"d-flex-container align-center font-weight-bold subheading\"},[(_vm.rarity < 8)?_c('span',[_vm._v(_vm._s(_vm.rarity))]):_vm._e(),_c('rarity-icon',{class:{ 'ml-1': _vm.rarity !== 8, 'mr-1': true, },attrs:{\"rarity\":_vm.rarity || 0,\"displaySize\":18}}),_c('span',[_vm._v(_vm._s(_vm.name))])],1),_c('v-spacer'),(_vm.isLead || _vm.isFriend)?_c('v-flex',{staticStyle:{\"flex-grow\":\"0\"}},[(_vm.isLead)?_c('leader-icon',{attrs:{\"displaySize\":18}}):(_vm.isFriend)?_c('friend-icon',{attrs:{\"displaySize\":18}}):_vm._e()],1):_vm._e()],1),_c('v-layout',{attrs:{\"column\":\"\"}},[_c('v-flex',[_c('span',{staticClass:\"headline\",domProps:{\"textContent\":_vm._s(_vm.sparkFraction)}}),_c('span',{staticClass:\"subheading\",staticStyle:{\"margin-left\":\"0.5em\"},domProps:{\"textContent\":_vm._s('SPARKS')}})]),_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{staticClass:\"body-1\"},[_vm._v(\"\\n            Delay:\\n            \"),_vm._l((_vm.delayDescription),function(entry,i){return [_c('v-tooltip',{key:entry.description,attrs:{\"bottom\":\"\"}},[_c('span',{staticStyle:{\"text-decoration\":\"underline dashed\"},attrs:{\"slot\":\"activator\"},domProps:{\"textContent\":_vm._s(entry.delay)},slot:\"activator\"}),_c('span',{domProps:{\"textContent\":_vm._s(entry.description)}})]),(i !== _vm.delayDescription.length - 1)?_c('span',{key:i,staticStyle:{\"margin\":\"0 0.5em\"},domProps:{\"textContent\":_vm._s('+')}}):_vm._e()]}),_vm._v(\"\\n            ,\\n            \"),_c('v-tooltip',{attrs:{\"bottom\":\"\"}},[_c('span',{staticStyle:{\"text-decoration\":\"underline dashed\"},attrs:{\"slot\":\"activator\"},slot:\"activator\"},[_vm._v(\"\\n                Weight:\\n              \")]),_c('span',[_vm._v(\"Represents how much this unit contributes to the overall spark percentage of the squad.\")])]),_vm._v(\"\\n            \"+_vm._s(_vm.sparkResultForUnit.weight)+\" (\"+_vm._s(_vm.relativeWeight)+\"%)\\n          \")],2),(_vm.warnings.length > 0)?_c('v-flex',{staticStyle:{\"flex-grow\":\"0\"}},[_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.showWarningDialog),callback:function ($$v) {_vm.showWarningDialog=$$v},expression:\"showWarningDialog\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"fab\":\"\",\"small\":\"\",\"color\":\"warning\"},slot:\"activator\"},[_c('v-icon',[_vm._v(\"info\")])],1),_c('v-card',[_c('v-card-text',[_c('v-container',{staticClass:\"pa-0\",attrs:{\"fluid\":\"\"}},[_c('v-flex',[_c('v-alert',{staticStyle:{\"overflow-x\":\"auto\"},attrs:{\"outline\":\"\",\"value\":true,\"type\":\"warning\"}},[_c('span',[_vm._v(\"This unit has issues that may affect the accuracy of results.\")]),_c('v-list',_vm._l((_vm.warnings),function(message){return _c('v-list-tile',{key:message},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n                                \"+_vm._s(message)+\"\\n                              \")])],1)],1)}),1)],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.showWarningDialog = false}}},[_vm._v(\"\\n                    Back\\n                  \")])],1)],1)],1)],1):_vm._e()],1)],1)],1)],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-flex class=\"spark-unit-entry\" v-bind=\"$attrs\" v-on=\"$listeners\">\n    <slot name=\"before-content\"/>\n    <div style=\"display: flex;\">\n      <v-layout\n        column class=\"mx-2\"\n        :style=\"`flex-grow: 0!important; min-width: ${thumbnailSize}px; max-width: ${thumbnailSize}px;`\">\n        <v-flex text-xs-center v-if=\"$vuetify.breakpoint.xsOnly\">\n          <span class=\"caption text-no-wrap\">{{ position }}</span>\n        </v-flex>\n        <v-layout align-content-center row>\n          <unit-thumbnail\n            class=\"unit-thumbnail\"\n            :style=\"`border-color: ${orderSettings.border};`\"\n            :src=\"getImageUrls(unit.id).ills_battle\"\n            :rarity=\"rarity\"\n            :imageTitle=\"name\"\n            :displayWidth=\"thumbnailSize\" :displayHeight=\"thumbnailSize\">\n            <template slot=\"after-image\">\n              <text\n                :x=\"0\"\n                :y=\"thumbnailSize * 0.75\"\n                :style=\"bbOrderStyle\"\n              >\n                {{ !isNaN(bbOrder) ? bbOrder : '-' }}\n              </text>\n            </template>\n          </unit-thumbnail>\n        </v-layout>\n        <v-flex class=\"text-xs-center\" v-if=\"orderSettings\">\n          <v-chip\n            tabindex=\"-1\"\n            :style=\"`\n              background-color: ${orderSettings.background};\n              color: ${orderSettings.foreground};\n              border-color: ${orderSettings.border};\n            `\"\n            class=\"bb-order-chip\"\n            small>\n            <b>{{ orderSettings.text }}</b>\n          </v-chip>\n        </v-flex>\n      </v-layout>\n      <v-layout column style=\"align-self: flex-start;\">\n        <!-- name and leader/friend icon -->\n        <v-layout align-center>\n          <v-flex class=\"d-flex-container align-center font-weight-bold subheading\">\n            <span v-if=\"rarity < 8\">{{ rarity }}</span>\n            <rarity-icon\n              :class=\"{ 'ml-1': rarity !== 8, 'mr-1': true, }\"\n              :rarity=\"rarity || 0\"\n              :displaySize=\"18\"/>\n            <span>{{ name }}</span>\n          </v-flex>\n          <v-spacer/>\n          <v-flex\n            v-if=\"isLead || isFriend\"\n            style=\"flex-grow: 0;\">\n            <leader-icon\n              v-if=\"isLead\"\n              :displaySize=\"18\"/>\n            <friend-icon\n              v-else-if=\"isFriend\"\n              :displaySize=\"18\"/>\n          </v-flex>\n        </v-layout>\n        <v-layout column>\n          <v-flex>\n            <span class=\"headline\" v-text=\"sparkFraction\"/>\n            <span class=\"subheading\" v-text=\"'SPARKS'\" style=\"margin-left: 0.5em\"/>\n          </v-flex>\n          <v-layout row>\n            <v-flex class=\"body-1\">\n              Delay:\n              <template v-for=\"(entry, i) in delayDescription\">\n                <v-tooltip\n                  :key=\"entry.description\"\n                  bottom\n                >\n                  <span\n                    slot=\"activator\"\n                    v-text=\"entry.delay\"\n                    style=\"text-decoration: underline dashed\"\n                  />\n                  <span v-text=\"entry.description\"/>\n                </v-tooltip>\n                <span\n                  v-if=\"i !== delayDescription.length - 1\"\n                  :key=\"i\"\n                  style=\"margin: 0 0.5em\"\n                  v-text=\"'+'\"\n                />\n              </template>\n              ,\n              <v-tooltip bottom>\n                <span slot=\"activator\" style=\"text-decoration: underline dashed\">\n                  Weight:\n                </span>\n                <span>Represents how much this unit contributes to the overall spark percentage of the squad.</span>\n              </v-tooltip>\n              {{ sparkResultForUnit.weight }} ({{ relativeWeight }}%)\n            </v-flex>\n            <v-flex style=\"flex-grow: 0\" v-if=\"warnings.length > 0\">\n              <v-dialog v-model=\"showWarningDialog\" max-width=\"500px\">\n                <v-btn\n                  fab\n                  small\n                  color=\"warning\"\n                  slot=\"activator\"\n                >\n                  <v-icon>info</v-icon>\n                </v-btn>\n                <v-card>\n                  <v-card-text>\n                    <v-container fluid class=\"pa-0\">\n                      <v-flex>\n                        <v-alert outline :value=\"true\" type=\"warning\" style=\"overflow-x: auto;\">\n                          <span>This unit has issues that may affect the accuracy of results.</span>\n                          <v-list>\n                            <v-list-tile\n                              v-for=\"message in warnings\"\n                              :key=\"message\">\n                              <v-list-tile-content>\n                                <v-list-tile-title>\n                                  {{ message }}\n                                </v-list-tile-title>\n                              </v-list-tile-content>\n                            </v-list-tile>\n                          </v-list>\n                        </v-alert>\n                      </v-flex>\n                    </v-container>\n                  </v-card-text>\n                  <v-card-actions>\n                    <v-spacer/>\n                    <v-btn flat @click=\"showWarningDialog = false\">\n                      Back\n                    </v-btn>\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n            </v-flex>\n          </v-layout>\n        </v-layout>\n      </v-layout>\n    </div>\n  </v-flex>\n</template>\n\n<script>\nimport { squadUnitActions } from '@/modules/constants';\nimport { getDelayDescriptionForSparkUnitResult } from '@/modules/spark-simulator/utils';\nimport { mapGetters } from 'vuex';\nimport colors from 'vuetify/es5/util/colors';\nimport UnitThumbnail from '@/components/Multidex/Units/UnitThumbnail';\nimport RarityIcon from '@/components/Multidex/RarityIcon';\nimport LeaderIcon from '@/components/Multidex/MiniLeaderIcon';\nimport FriendIcon from '@/components/Multidex/MiniFriendIcon';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\n\nconst colorConfigByBbOrder = [\n  { stroke: colors.red.darken4, fill: colors.red.lighten4 },\n  { stroke: colors.blue.darken4, fill: colors.blue.lighten4 },\n  { stroke: colors.green.darken4, fill: colors.green.lighten4 },\n  { stroke: colors.yellow.darken4, fill: colors.yellow.lighten4 },\n  { stroke: colors.grey.darken4, fill: colors.grey.lighten4 },\n  { stroke: colors.purple.darken4, fill: colors.purple.lighten4 },\n];\nexport default {\n  mixins: [GettersMixin],\n  components: {\n    UnitThumbnail,\n    RarityIcon,\n    LeaderIcon,\n    FriendIcon,\n  },\n  props: {\n    unit: {\n      type: Object,\n      required: true,\n    },\n    isLead: {\n      type: Boolean,\n      default: false,\n    },\n    isFriend: {\n      type: Boolean,\n      default: false,\n    },\n    sparkResultForUnit: {\n      type: Object,\n      required: true,\n    },\n    warnings: {\n      type: Array,\n      default: () => [],\n    },\n    burstCutins: {\n      type: Boolean,\n      default: false,\n    },\n    relativeWeight: {\n      type: Number,\n      default: 0,\n    },\n  },\n  computed: {\n    ...mapGetters('units', {\n      getImageUrls: 'getImageUrls',\n    }),\n    thumbnailSize () {\n      return 64;\n    },\n    iconSize () {\n      return 22;\n    },\n    unitData () {\n      return this.getUnit(this.unit.id) || {};\n    },\n    orderSettings () {\n      const hasBbOrder = !isNaN(this.bbOrder);\n      return {\n        text: (hasBbOrder && this.getOrderText({\n          id: this.unit.id,\n          action: this.action,\n        })) || '-',\n        ...this.getColorSetBasedOnAction((hasBbOrder && this.action) || undefined),\n      };\n    },\n    rarity () {\n      return this.unitData.rarity || 0;\n    },\n    name () {\n      return this.unitData.name || this.unit.id;\n    },\n    sparkFraction () {\n      return `${this.sparkResultForUnit.actualSparks} / ${this.sparkResultForUnit.possibleSparks}`;\n    },\n    delayDescription () {\n      return getDelayDescriptionForSparkUnitResult({\n        sparkUnitResult: this.sparkResultForUnit,\n        unitData: this.unitData,\n        burstCutins: !!this.burstCutins,\n      });\n    },\n    bbOrder () {\n      return this.sparkResultForUnit.bbOrder || this.unit.bbOrder;\n    },\n    action () {\n      return this.sparkResultForUnit.action || this.unit.action;\n    },\n    position () {\n      return this.sparkResultForUnit.position || this.unit.position;\n    },\n    bbOrderStyle () {\n      let style;\n      if (this.$store.state.showBbOrderColors && !isNaN(this.bbOrder) && colorConfigByBbOrder[+this.bbOrder - 1]) {\n        style = { ...colorConfigByBbOrder[+this.bbOrder - 1] };\n      }\n      return style;\n    },\n  },\n  data () {\n    return {\n      showWarningDialog: false,\n    };\n  },\n  methods: {\n    getColorSetBasedOnAction (action) {\n      const colorKey = (action === squadUnitActions.UBB && 'red') ||\n        (action === squadUnitActions.SBB && 'amber') ||\n        (action === squadUnitActions.BB && 'blueGrey') ||\n        'grey';\n\n      return {\n        border: colors[colorKey].base,\n        background: colors[colorKey].lighten4,\n        foreground: colors[colorKey].darken4,\n      };\n    },\n    getOrderText (unit = {}) {\n      // default to SBB or below (depending on if the unit has it)\n      const action = unit.action ||\n        (this.getUnit(unit.id).sbb && squadUnitActions.SBB) ||\n        (this.getUnit(unit.id).bb && squadUnitActions.BB) ||\n        (squadUnitActions.ATK);\n      return action.toUpperCase();\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.spark-unit-entry {\n  .bb-order-chip {\n    justify-content: center;\n    margin: auto;\n    width: 100%;\n    border-top-left-radius: 0; \n    border-top-right-radius: 0;\n    margin-top: 0;\n  }\n\n  image.lazy-actual {\n    min-width: 64px;\n  }\n\n  .unit-thumbnail {\n    flex: 0 1 auto;\n    margin-top: auto;\n    font: bold 4.5em sans-serif;\n    stroke: black;\n    stroke-width: 2px;\n    fill: white;\n    border: 1px solid white;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SparkUnitEntry.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SparkUnitEntry.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SparkUnitEntry.vue?vue&type=template&id=3c49e904&\"\nimport script from \"./SparkUnitEntry.vue?vue&type=script&lang=js&\"\nexport * from \"./SparkUnitEntry.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SparkUnitEntry.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-card class=\"spark-squad-card\">\n    <v-layout row class=\"pa-2\" align-center>\n      <v-flex>\n        <h1 class=\"title\">\n          {{ sparkPercentage }} Weighted Hits Sparked\n        </h1>\n      </v-flex>\n      <v-flex style=\"flex: none;\">\n        <v-btn\n          icon flat\n          :color=\"bbOrderColorToggleIconColor\"\n          @click=\"toggleBbOrderColor\"\n        >\n          <v-icon>color_lens</v-icon>\n        </v-btn>\n      </v-flex>\n    </v-layout>\n    <v-layout row wrap class=\"px-2\">\n      <unit-entry\n        v-for=\"(unit, i) in fullUnits\"\n        :key=\"getUnitEntryKey(unit, i)\"\n        xs12 sm6\n        :index=\"i\"\n        :unit=\"unit\"\n        :getUnit=\"getUnit\"\n        :isLead=\"squad.units.indexOf(unit) === squad.lead\"\n        :isFriend=\"squad.units.indexOf(unit) === squad.friend\"\n        :sparkResultForUnit=\"sparkResultsByUnit.get(unit)\"\n        :relativeWeight=\"relativeWeightByUnit.get(unit)\"\n        :warnings=\"warningsByUnit.get(unit)\"\n        :burstCutins=\"simulatorOptions.burstCutins\"\n        class=\"d-flex py-1\"\n        style=\"align-items: center; border: 1px solid var(--background-color-alt);\"/>\n    </v-layout>\n    <v-divider class=\"mt-2\"/>\n    <slot name=\"card-actions\">\n      <v-card-actions>\n        <v-btn flat @click=\"$emit('share')\">\n          <v-icon left>share</v-icon>\n          Share\n        </v-btn>\n      </v-card-actions>\n    </slot>\n  </v-card>\n</template>\n\n<script>\nimport {\n  unitPositionMapping,\n  targetTypes,\n  squadBuffTypes,\n} from '@/modules/constants';\nimport { generateFillerSquadUnitEntry, getEffectsListForSquadUnitEntry } from '@/modules/core/squads';\nimport {\n  getAttackEffectsFromBurst,\n  getSimulatorWarningsForSquadUnit,\n} from '@/modules/spark-simulator/utils';\nimport UnitEntry from '@/components/Tools/Squads/SparkStatistics/SparkUnitEntry';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\n\nexport default {\n  mixins: [GettersMixin],\n  components: {\n    UnitEntry,\n  },\n  props: {\n    squad: {\n      type: Object,\n      required: true,\n    },\n    sparkResult: {\n      type: Object,\n      required: true,\n    },\n    simulatorOptions: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    // fills empty positions with empty values\n    fullUnits () {\n      return unitPositionMapping.map(position => {\n        const unitSparkResult = this.sparkResult.squad.find(r => r.position === position);\n        let unit = this.squad.units.find(unit => unit.position === unitSparkResult.originalPosition);\n        if (!unit) { // empty position, so fill it with empty data\n          unit = generateFillerSquadUnitEntry({ isEmpty: true, bbOrder: null, position });\n        }\n\n        return unit;\n      });\n    },\n    sparkResultsByUnit () {\n      const mapping = new WeakMap();\n      this.fullUnits.forEach(unit => {\n        mapping.set(unit, this.sparkResult.squad.find(u => u.originalPosition === unit.position));\n      });\n      return mapping;\n    },\n    sparkPercentage () {\n      return `${(this.sparkResult.weightedPercentage * 100).toFixed(2)}%`;\n    },\n    warningsByUnit () {\n      const mapping = new WeakMap();\n      this.fullUnits.forEach(squadUnit => {\n        const sourcesToIgnore = ['unit.bb', 'unit.sbb', 'unit.ubb'];\n        const unitData = this.getUnit(squadUnit.id) || {};\n        const burstAttacks = getAttackEffectsFromBurst(unitData[squadUnit.action]);\n        const extraAttacks = getEffectsListForSquadUnitEntry({\n          unitEntry: squadUnit,\n          target: targetTypes.ENEMY,\n          effectType: squadBuffTypes.PROC,\n          squad: this.squad,\n        }, this)\n          .filter(effect => !sourcesToIgnore.includes(effect.sourcePath) && (!effect.triggeredOn || (effect.triggeredOn === squadUnit.action)));\n\n        mapping.set(squadUnit, getSimulatorWarningsForSquadUnit({\n          unit: squadUnit,\n          attackEffects: burstAttacks.concat(extraAttacks),\n          unitData,\n        }));\n      });\n      return mapping;\n    },\n    totalWeight () {\n      return Math.max(1, this.sparkResult.squad.reduce((acc, val) => acc + val.weight, 0));\n    },\n    relativeWeightByUnit () {\n      const mapping = new WeakMap();\n      const sparkResultMapping = this.sparkResultsByUnit;\n      const totalWeight = this.totalWeight;\n      this.fullUnits.forEach(squadUnit => {\n        const result = sparkResultMapping.get(squadUnit);\n        const weight = result.weight / totalWeight * 100;\n        mapping.set(squadUnit, +(weight.toFixed(2)));\n      });\n      return mapping;\n    },\n    bbOrderColorToggleIconColor () {\n      return this.$store.state.showBbOrderColors\n        ? 'primary'\n        : undefined;\n    },\n  },\n  methods: {\n    getUnitEntryKey (unit = {}, i = 0) {\n      return `${JSON.stringify(unit)}-${i}`;\n    },\n    toggleBbOrderColor () {\n      this.$store.commit('setShowSparkOrderColors', !this.$store.state.showBbOrderColors);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SparkSquadCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SparkSquadCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SparkSquadCard.vue?vue&type=template&id=66f45725&\"\nimport script from \"./SparkSquadCard.vue?vue&type=script&lang=js&\"\nexport * from \"./SparkSquadCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"spark-squad-card\"},[_c('v-layout',{staticClass:\"px-2\",attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.fullUnits),function(unit,i){return _c('unit-entry',{key:_vm.getUnitEntryKey(unit, i),staticClass:\"d-flex py-1\",staticStyle:{\"align-items\":\"center\",\"border\":\"1px solid var(--background-color-alt)\"},attrs:{\"xs12\":\"\",\"sm6\":\"\",\"index\":i,\"unit\":unit,\"getUnit\":_vm.getUnit,\"isLead\":i === _vm.squad.lead,\"isFriend\":i === _vm.squad.friend,\"sparkSimUnitConfig\":_vm.value.unitConfig[i] || {},\"warnings\":_vm.warningsByUnit.get(unit)},on:{\"input\":function ($v) { return _vm.updateEntryForUnit($v, i); }}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-flex',_vm._g(_vm._b({staticClass:\"spark-unit-entry--editable\"},'v-flex',_vm.$attrs,false),_vm.$listeners),[_vm._t(\"before-content\"),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('v-layout',{staticClass:\"mx-2\",style:((\"flex-grow: 0!important; min-width: \" + _vm.thumbnailSize + \"px; max-width: \" + _vm.thumbnailSize + \"px;\")),attrs:{\"column\":\"\"}},[(_vm.$vuetify.breakpoint.xsOnly)?_c('v-flex',{staticStyle:{\"flex-grow\":\"0\"},attrs:{\"text-xs-center\":\"\"}},[_c('span',{staticClass:\"caption text-no-wrap\"},[_vm._v(_vm._s(_vm.unit.position))])]):_vm._e(),_c('v-layout',{style:(_vm.$vuetify.breakpoint.xsOnly ? 'flex-grow: 0;' : undefined),attrs:{\"align-content-end\":_vm.$vuetify.breakpoint.smAndUp}},[_c('unit-thumbnail',{staticClass:\"unit-thumbnail\",style:((\"border-color: \" + (_vm.orderSettings.border) + \";\")),attrs:{\"src\":_vm.getImageUrls(_vm.unit.id).ills_battle,\"rarity\":_vm.rarity,\"imageTitle\":_vm.name,\"displayWidth\":_vm.thumbnailSize,\"displayHeight\":_vm.thumbnailSize}},[_c('template',{slot:\"after-image\"},[_c('text',{attrs:{\"x\":0,\"y\":_vm.thumbnailSize * 0.75}},[_vm._v(\"\\n              \"+_vm._s(_vm.bbOrderToShow)+\"\\n            \")])])],2)],1),(_vm.orderSettings)?_c('v-flex',{staticClass:\"text-xs-center\"},[_c('v-chip',{staticClass:\"bb-order-chip\",style:((\"\\n            background-color: \" + (_vm.orderSettings.background) + \";\\n            color: \" + (_vm.orderSettings.foreground) + \";\\n            border-color: \" + (_vm.orderSettings.border) + \";\\n          \")),attrs:{\"tabindex\":\"-1\",\"small\":\"\"}},[_c('b',[_vm._v(_vm._s(_vm.orderSettings.text))])])],1):_vm._e(),(_vm.warnings.length > 0)?_c('v-flex',{staticClass:\"text-xs-center\",staticStyle:{\"flex-grow\":\"0\"},attrs:{\"align-content-end\":\"\"}},[_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.showWarningDialog),callback:function ($$v) {_vm.showWarningDialog=$$v},expression:\"showWarningDialog\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"fab\":\"\",\"small\":\"\",\"color\":\"warning\"},slot:\"activator\"},[_c('v-icon',[_vm._v(\"info\")])],1),_c('v-card',[_c('v-card-text',[_c('v-container',{staticClass:\"pa-0\",attrs:{\"fluid\":\"\"}},[_c('v-flex',[_c('v-alert',{attrs:{\"outline\":\"\",\"value\":true,\"type\":\"warning\"}},[_c('span',[_vm._v(\"This unit has issues that may affect the accuracy of results.\")]),_c('v-list',_vm._l((_vm.warnings),function(message){return _c('v-list-tile',{key:message},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n                            \"+_vm._s(message)+\"\\n                          \")])],1)],1)}),1)],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.showWarningDialog = false}}},[_vm._v(\"\\n                Back\\n              \")])],1)],1)],1)],1):_vm._e()],1),_c('v-layout',{staticStyle:{\"align-self\":\"flex-start\"},attrs:{\"column\":\"\"}},[_c('v-layout',{attrs:{\"align-center\":\"\"}},[_c('v-flex',{staticClass:\"d-flex-container align-center font-weight-bold subheading\"},[(_vm.rarity < 8)?_c('span',[_vm._v(_vm._s(_vm.rarity))]):_vm._e(),_c('rarity-icon',{class:{ 'ml-1': _vm.rarity !== 8, 'mr-1': true, },attrs:{\"rarity\":_vm.rarity || 0,\"displaySize\":18}}),_c('span',[_vm._v(_vm._s(_vm.nameLabel))])],1),_c('v-spacer'),(_vm.isLead || _vm.isFriend)?_c('v-flex',{staticStyle:{\"flex-grow\":\"0\"}},[(_vm.isLead)?_c('leader-icon',{attrs:{\"displaySize\":18}}):(_vm.isFriend)?_c('friend-icon',{attrs:{\"displaySize\":18}}):_vm._e()],1):_vm._e()],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"md4\":\"\"}},[_c('v-select',{attrs:{\"label\":\"Action\",\"disabled\":_vm.isEmptyUnit,\"items\":_vm.actionPossibilities,\"value\":_vm.actionToShow},on:{\"input\":function ($v) { return _vm.emitChangedValue({ action: $v }); }}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"md4\":\"\"}},[_c('v-select',{attrs:{\"label\":\"BB Order\",\"value\":_vm.sparkSimUnitConfig.bbOrder || _vm.unit.bbOrder,\"items\":_vm.bbOrderPossibilities},on:{\"input\":function ($v) { return _vm.emitChangedValue({ bbOrder: $v }); }}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"md4\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Delay\",\"disabled\":_vm.isEmptyUnit,\"type\":\"number\",\"value\":!isNaN(_vm.sparkSimUnitConfig.delay) ? +_vm.sparkSimUnitConfig.delay : 0},on:{\"input\":function ($v) { return _vm.emitChangedValue({ delay: $v }); }}})],1),_c('v-flex',[_c('v-text-field',{attrs:{\"label\":\"Weight\",\"hint\":\"Higher weight means unit will be prioritized over units with lesser weight for spark results. Weight of zero and below means ignore that unit completely.\",\"persistent-hint\":\"\",\"disabled\":_vm.isEmptyUnit || _vm.isAnyUnit,\"type\":\"number\",\"value\":!isNaN(_vm.sparkSimUnitConfig.weight) ? +_vm.sparkSimUnitConfig.weight : 1},on:{\"input\":function ($v) { return _vm.emitChangedValue({ weight: $v }); }}})],1),_c('v-flex',{staticStyle:{\"padding\":\"0 0.5em\"},attrs:{\"xs12\":\"\"}},[_c('v-btn',{attrs:{\"outline\":!_vm.sparkSimUnitConfig.lockPosition,\"block\":\"\"},on:{\"click\":function($event){return _vm.emitChangedValue({ lockPosition: !_vm.sparkSimUnitConfig.lockPosition })}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(_vm._s(_vm.sparkSimUnitConfig.lockPosition ? 'lock' : 'lock_open'))]),_c('span',{staticStyle:{\"text-transform\":\"capitalize\"}},[_vm._v(\"Position\")])],1)],1)],1)],1)],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-flex class=\"spark-unit-entry--editable\" v-bind=\"$attrs\" v-on=\"$listeners\">\n    <slot name=\"before-content\"/>\n    <div style=\"display: flex;\">\n      <v-layout\n        column class=\"mx-2\"\n        :style=\"`flex-grow: 0!important; min-width: ${thumbnailSize}px; max-width: ${thumbnailSize}px;`\">\n        <v-flex text-xs-center v-if=\"$vuetify.breakpoint.xsOnly\" style=\"flex-grow: 0;\">\n          <span class=\"caption text-no-wrap\">{{ unit.position }}</span>\n        </v-flex>\n        <v-layout\n          :align-content-end=\"$vuetify.breakpoint.smAndUp\"\n          :style=\"$vuetify.breakpoint.xsOnly ? 'flex-grow: 0;' : undefined\"\n        >\n          <unit-thumbnail\n            class=\"unit-thumbnail\"\n            :style=\"`border-color: ${orderSettings.border};`\"\n            :src=\"getImageUrls(unit.id).ills_battle\"\n            :rarity=\"rarity\"\n            :imageTitle=\"name\"\n            :displayWidth=\"thumbnailSize\" :displayHeight=\"thumbnailSize\">\n            <template slot=\"after-image\">\n              <text\n                :x=\"0\"\n                :y=\"thumbnailSize * 0.75\">\n                {{ bbOrderToShow }}\n              </text>\n            </template>\n          </unit-thumbnail>\n        </v-layout>\n        <v-flex class=\"text-xs-center\" v-if=\"orderSettings\">\n          <v-chip\n            tabindex=\"-1\"\n            :style=\"`\n              background-color: ${orderSettings.background};\n              color: ${orderSettings.foreground};\n              border-color: ${orderSettings.border};\n            `\"\n            class=\"bb-order-chip\"\n            small>\n            <b>{{ orderSettings.text }}</b>\n          </v-chip>\n        </v-flex>\n        <v-flex\n          v-if=\"warnings.length > 0\"\n          align-content-end\n          class=\"text-xs-center\"\n          style=\"flex-grow: 0;\"\n        >\n          <v-dialog v-model=\"showWarningDialog\" max-width=\"500px\">\n            <v-btn\n              fab\n              small\n              color=\"warning\"\n              slot=\"activator\"\n            >\n              <v-icon>info</v-icon>\n            </v-btn>\n            <v-card>\n              <v-card-text>\n                <v-container fluid class=\"pa-0\">\n                  <v-flex>\n                    <v-alert outline :value=\"true\" type=\"warning\">\n                      <span>This unit has issues that may affect the accuracy of results.</span>\n                      <v-list>\n                        <v-list-tile\n                          v-for=\"message in warnings\"\n                          :key=\"message\">\n                          <v-list-tile-content>\n                            <v-list-tile-title>\n                              {{ message }}\n                            </v-list-tile-title>\n                          </v-list-tile-content>\n                        </v-list-tile>\n                      </v-list>\n                    </v-alert>\n                  </v-flex>\n                </v-container>\n              </v-card-text>\n              <v-card-actions>\n                <v-spacer/>\n                <v-btn flat @click=\"showWarningDialog = false\">\n                  Back\n                </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n        </v-flex>\n      </v-layout>\n      <v-layout column style=\"align-self: flex-start;\">\n        <!-- name and leader/friend icon -->\n        <v-layout align-center>\n          <v-flex class=\"d-flex-container align-center font-weight-bold subheading\">\n            <span v-if=\"rarity < 8\">{{ rarity }}</span>\n            <rarity-icon\n              :class=\"{ 'ml-1': rarity !== 8, 'mr-1': true, }\"\n              :rarity=\"rarity || 0\"\n              :displaySize=\"18\"/>\n            <span>{{ nameLabel }}</span>\n          </v-flex>\n          <v-spacer/>\n          <v-flex\n            v-if=\"isLead || isFriend\"\n            style=\"flex-grow: 0;\">\n            <leader-icon\n              v-if=\"isLead\"\n              :displaySize=\"18\"/>\n            <friend-icon\n              v-else-if=\"isFriend\"\n              :displaySize=\"18\"/>\n          </v-flex>\n        </v-layout>\n        <v-layout row wrap>\n          <v-flex xs12 md4>\n            <v-select\n              label=\"Action\"\n              :disabled=\"isEmptyUnit\"\n              :items=\"actionPossibilities\"\n              :value=\"actionToShow\"\n              @input=\"$v => emitChangedValue({ action: $v })\"\n            />\n          </v-flex>\n          <v-flex xs12 md4>\n            <v-select\n              label=\"BB Order\"\n              :value=\"sparkSimUnitConfig.bbOrder || unit.bbOrder\"\n              :items=\"bbOrderPossibilities\"\n              @input=\"$v => emitChangedValue({ bbOrder: $v })\"\n            />\n          </v-flex>\n          <v-flex xs12 md4>\n            <v-text-field\n              label=\"Delay\"\n              :disabled=\"isEmptyUnit\"\n              type=\"number\"\n              :value=\"!isNaN(sparkSimUnitConfig.delay) ? +sparkSimUnitConfig.delay : 0\"\n              @input=\"$v => emitChangedValue({ delay: $v })\"\n            />\n          </v-flex>\n          <v-flex>\n            <v-text-field\n              label=\"Weight\"\n              hint=\"Higher weight means unit will be prioritized over units with lesser weight for spark results. Weight of zero and below means ignore that unit completely.\"\n              persistent-hint\n              :disabled=\"isEmptyUnit || isAnyUnit\"\n              type=\"number\"\n              :value=\"!isNaN(sparkSimUnitConfig.weight) ? +sparkSimUnitConfig.weight : 1\"\n              @input=\"$v => emitChangedValue({ weight: $v })\"\n            />\n          </v-flex>\n          <v-flex xs12 style=\"padding: 0 0.5em\">\n            <v-btn\n              :outline=\"!sparkSimUnitConfig.lockPosition\"\n              block\n              @click=\"emitChangedValue({ lockPosition: !sparkSimUnitConfig.lockPosition })\"\n            >\n              <v-icon left>{{ sparkSimUnitConfig.lockPosition ? 'lock' : 'lock_open' }}</v-icon>\n              <span style=\"text-transform: capitalize;\">Position</span>\n            </v-btn>\n          </v-flex>\n        </v-layout>\n      </v-layout>\n    </div>\n  </v-flex>\n</template>\n\n<script>\nimport { squadFillerMapping, squadUnitActions, ANY_BB_ORDER } from '@/modules/constants';\nimport { getMoveType } from '@/modules/core/units';\nimport { getSparkSimUnitConfig } from '@/modules/spark-simulator/utils';\nimport { mapGetters } from 'vuex';\nimport colors from 'vuetify/es5/util/colors';\nimport UnitThumbnail from '@/components/Multidex/Units/UnitThumbnail';\nimport RarityIcon from '@/components/Multidex/RarityIcon';\nimport LeaderIcon from '@/components/Multidex/MiniLeaderIcon';\nimport FriendIcon from '@/components/Multidex/MiniFriendIcon';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\n\nexport default {\n  mixins: [GettersMixin],\n  components: {\n    UnitThumbnail,\n    RarityIcon,\n    LeaderIcon,\n    FriendIcon,\n  },\n  props: {\n    unit: {\n      type: Object,\n      required: true,\n    },\n    isLead: {\n      type: Boolean,\n      default: false,\n    },\n    isFriend: {\n      type: Boolean,\n      default: false,\n    },\n    sparkSimUnitConfig: {\n      type: Object,\n      default: () => {},\n    },\n    warnings: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  computed: {\n    ...mapGetters('units', {\n      getImageUrls: 'getImageUrls',\n    }),\n    thumbnailSize () {\n      return 64;\n    },\n    iconSize () {\n      return 22;\n    },\n    unitData () {\n      return this.getUnit(this.unit.id) || {};\n    },\n    orderSettings () {\n      const hasBbOrder = !isNaN(this.unit.bbOrder);\n      return {\n        text: (hasBbOrder && this.actionText) || '-',\n        ...(hasBbOrder && this.colorSetBasedOnAction) || undefined,\n      };\n    },\n    rarity () {\n      return this.unitData.rarity || 0;\n    },\n    name () {\n      return this.unitData.name || this.unit.id;\n    },\n    isEmptyUnit () {\n      return this.name === squadFillerMapping.EMPTY;\n    },\n    isAnyUnit () {\n      return this.name === squadFillerMapping.ANY;\n    },\n    actionPossibilities () {\n      const availableBurstTypes = [\n        {\n          text: 'BB',\n          value: squadUnitActions.BB,\n        },\n        {\n          text: 'SBB',\n          value: squadUnitActions.SBB,\n        },\n        {\n          text: 'UBB',\n          value: squadUnitActions.UBB,\n        },\n      ].filter(({ value }) => this.unit.id === squadFillerMapping.ANY || this.unitData[value] || this.unit.action === value);\n\n      const nonBurstActions = [\n        (this.isEmptyUnit && {\n          text: 'None',\n          value: squadUnitActions.NONE,\n        }),\n        (!this.isEmptyUnit && {\n          text: 'Attack',\n          value: squadUnitActions.ATK,\n        }),\n      ].filter(v => v);\n      return nonBurstActions.concat(availableBurstTypes);\n    },\n    bbOrderPossibilities: () => [ANY_BB_ORDER]\n      .concat(new Array(6).fill(0).map((_, i) => i + 1)),\n    moveTypeText () {\n      const moveType = Object.keys(this.unitData).length > 0 && getMoveType(this.unitData);\n      return (moveType && ` (${moveType})`) || '';\n    },\n    nameLabel () {\n      return `${this.name}${this.moveTypeText}`;\n    },\n    actionToShow () {\n      return this.sparkSimUnitConfig.action || this.unit.action;\n    },\n    colorSetBasedOnAction () {\n      const colorKey = (this.actionToShow === squadUnitActions.UBB && 'red') ||\n        (this.actionToShow === squadUnitActions.SBB && 'amber') ||\n        (this.actionToShow === squadUnitActions.BB && 'blueGrey') ||\n        'grey';\n\n      return {\n        border: colors[colorKey].base,\n        background: colors[colorKey].lighten4,\n        foreground: colors[colorKey].darken4,\n      };\n    },\n    actionText () {\n      // default to SBB or below (depending on if the unit has it)\n      const action = this.actionToShow ||\n        (this.unitData.sbb && squadUnitActions.SBB) ||\n        (this.unitData.bb && squadUnitActions.BB) ||\n        (squadUnitActions.ATK);\n      return action.toUpperCase();\n    },\n    bbOrderToShow () {\n      return [\n        !isNaN(this.sparkSimUnitConfig.bbOrder) && this.sparkSimUnitConfig.bbOrder,\n        this.sparkSimUnitConfig.bbOrder === ANY_BB_ORDER && '-',\n        !isNaN(this.unit.bbOrder) && this.unit.bbOrder,\n        '-',\n      ].find(v => v);\n    },\n  },\n  data () {\n    return {\n      showWarningDialog: false,\n    };\n  },\n  methods: {\n    emitChangedValue (newVal = {}) {\n      this.$emit('input', getSparkSimUnitConfig({ ...this.sparkSimUnitConfig, ...newVal }));\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.spark-unit-entry--editable {\n  .bb-order-chip {\n    justify-content: center;\n    margin: auto;\n    width: 100%;\n    border-top-left-radius: 0; \n    border-top-right-radius: 0;\n    margin-top: 0;\n  }\n\n  image.lazy-actual {\n    min-width: 64px;\n  }\n\n  .unit-thumbnail {\n    flex: 0 1 auto;\n    margin-top: auto;\n    font: bold 4.5em sans-serif;\n    stroke: black;\n    stroke-width: 2px;\n    fill: white;\n    border: 1px solid white;\n  }\n\n  .v-input {\n    margin: 0.5em;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SparkUnitEntryEditable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SparkUnitEntryEditable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SparkUnitEntryEditable.vue?vue&type=template&id=54ecff4a&\"\nimport script from \"./SparkUnitEntryEditable.vue?vue&type=script&lang=js&\"\nexport * from \"./SparkUnitEntryEditable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SparkUnitEntryEditable.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-card class=\"spark-squad-card\">\n    <v-layout row wrap class=\"px-2\">\n      <unit-entry\n        v-for=\"(unit, i) in fullUnits\"\n        :key=\"getUnitEntryKey(unit, i)\"\n        xs12 sm6\n        :index=\"i\"\n        :unit=\"unit\"\n        :getUnit=\"getUnit\"\n        :isLead=\"i === squad.lead\"\n        :isFriend=\"i === squad.friend\"\n        :sparkSimUnitConfig=\"value.unitConfig[i] || {}\"\n        :warnings=\"warningsByUnit.get(unit)\"\n        @input=\"$v => updateEntryForUnit($v, i)\"\n        class=\"d-flex py-1\"\n        style=\"align-items: center; border: 1px solid var(--background-color-alt);\"/>\n    </v-layout>\n  </v-card>\n</template>\n\n<script>\nimport {\n  unitPositionMapping,\n  targetTypes,\n  squadBuffTypes,\n  squadFillerMapping,\n  squadUnitActions,\n} from '@/modules/constants';\nimport { generateFillerSquadUnitEntry, getEffectsListForSquadUnitEntry } from '@/modules/core/squads';\nimport {\n  getSimulatorOptions,\n  getAttackEffectsFromBurst,\n  getSimulatorWarningsForSquadUnit,\n  getSparkSimUnitConfig,\n} from '@/modules/spark-simulator/utils';\nimport UnitEntry from '@/components/Tools/Squads/SparkStatistics/SparkUnitEntryEditable';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\n\nexport default {\n  mixins: [GettersMixin],\n  components: {\n    UnitEntry,\n  },\n  props: {\n    squad: {\n      type: Object,\n      required: true,\n    },\n    value: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    // fills empty positions with empty values\n    fullUnits () {\n      return unitPositionMapping.map(position => {\n        let unit = this.squad.units.find(unit => unit.position === position);\n        if (!unit) { // empty position, so fill it with empty data\n          unit = generateFillerSquadUnitEntry({ isEmpty: true, bbOrder: null, position });\n        }\n\n        return unit;\n      });\n    },\n    warningsByUnit () {\n      const mapping = new WeakMap();\n      this.fullUnits.forEach((squadUnit, i) => {\n        const unitConfig = this.value.unitConfig[i] || {};\n        const sourcesToIgnore = ['unit.bb', 'unit.sbb', 'unit.ubb'];\n        const unitData = this.getUnit(squadUnit.id) || {};\n        const burstAttacks = getAttackEffectsFromBurst(unitData[unitConfig.action || squadUnit.action]);\n        const extraAttacks = getEffectsListForSquadUnitEntry({\n          unitEntry: squadUnit,\n          target: targetTypes.ENEMY,\n          effectType: squadBuffTypes.PROC,\n          squad: this.squad,\n        }, this)\n          .filter(effect => !sourcesToIgnore.includes(effect.sourcePath) && (!effect.triggeredOn || (effect.triggeredOn === squadUnit.action)));\n\n        mapping.set(squadUnit, getSimulatorWarningsForSquadUnit({\n          unit: squadUnit,\n          attackEffects: burstAttacks.concat(extraAttacks),\n          unitData,\n        }));\n      });\n      return mapping;\n    },\n    hasEmptyUnit () {\n      return this.fullUnits.some(u => u.id === squadFillerMapping.EMPTY);\n    },\n  },\n  mounted () {\n    if (this.hasEmptyUnit) {\n      this.checkEmptyUnitConfig();\n    }\n  },\n  methods: {\n    getUnitEntryKey (unit = {}, i = 0) {\n      return `${JSON.stringify(unit)}-${i}`;\n    },\n    updateEntryForUnit(newValue, index) {\n      if (!(newValue instanceof Event)) {\n        const unitConfig = this.value.unitConfig.slice();\n        unitConfig[index] = newValue;\n        this.emitChangedValue({ unitConfig });\n      }\n    },\n    emitChangedValue (newVal = {}) {\n      this.$emit('input', getSimulatorOptions({ ...this.value, ...newVal }, this.squad));\n    },\n    checkEmptyUnitConfig () {\n      if (Array.isArray(this.value.unitConfig)) {\n        let needsUpdate = false;\n        const updatedConfig = this.value.unitConfig.map((config, i) => {\n          const associatedSquadUnit = this.squad.units[i];\n          let newConfig = config;\n          if (associatedSquadUnit.id === squadFillerMapping.EMPTY && config.action !== squadUnitActions.NONE) {\n            needsUpdate = true;\n            newConfig = getSparkSimUnitConfig({ ...config, action: squadUnitActions.NONE });\n          }\n          return newConfig;\n        });\n\n        if (needsUpdate) {\n          this.emitChangedValue({ unitConfig: updatedConfig });\n        }\n      }\n    },\n  },\n  watch: {\n    squad () {\n      if (this.hasEmptyUnit) {\n        this.checkEmptyUnitConfig();\n      }\n    },\n    hasEmptyUnit (newVal) {\n      if (newVal) {\n        this.checkEmptyUnitConfig();\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SparkSquadCardEditable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SparkSquadCardEditable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SparkSquadCardEditable.vue?vue&type=template&id=98f6c86e&\"\nimport script from \"./SparkSquadCardEditable.vue?vue&type=script&lang=js&\"\nexport * from \"./SparkSquadCardEditable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{staticClass:\"overall-simulator-options\",attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\",\"md2\":\"\"}},[_c('span',[_vm._v(\"Set All Orders:\")])]),_c('v-flex',{attrs:{\"xs6\":\"\",\"sm4\":\"\",\"md2\":\"\"}},[_c('v-btn',{staticClass:\"mx-2\",on:{\"click\":_vm.setAllOrdersInitial}},[_vm._v(\"Initial\")])],1),_c('v-flex',{attrs:{\"xs6\":\"\",\"sm4\":\"\",\"md2\":\"\"}},[_c('v-btn',{staticClass:\"mx-2\",on:{\"click\":_vm.setAllOrdersAny}},[_vm._v(\"Any\")])],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\",\"md2\":\"\"}},[_c('span',[_vm._v(\"Set All Positions:\")])]),_c('v-flex',{attrs:{\"xs6\":\"\",\"sm4\":\"\",\"md2\":\"\"}},[_c('v-btn',{staticClass:\"mx-2\",on:{\"click\":function () { return _vm.setAllPositions(true); }}},[_vm._v(\"Locked\")])],1),_c('v-flex',{attrs:{\"xs6\":\"\",\"sm4\":\"\",\"md2\":\"\"}},[_c('v-btn',{staticClass:\"mx-2\",on:{\"click\":function () { return _vm.setAllPositions(false); }}},[_vm._v(\"Unlocked\")])],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Enemy Count\",\"type\":\"number\",\"hint\":\"There must be at least 2 enemies to ensure accuracy\",\"value\":_vm.value.enemyCount,\"persistent-hint\":\"\"},on:{\"input\":function ($v) { return _vm.emitChangedValue({ enemyCount: $v }); }}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-switch',{attrs:{\"label\":_vm.burstCutinToggleLabel,\"hide-details\":\"\"},model:{value:(_vm.burstCutins),callback:function ($$v) {_vm.burstCutins=$$v},expression:\"burstCutins\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Result Threshold\",\"type\":\"number\",\"value\":_vm.value.resultThreshold,\"suffix\":\"%\"},on:{\"input\":function ($v) { return _vm.emitChangedValue({ resultThreshold: $v }); }}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Max Results\",\"type\":\"number\",\"value\":_vm.value.maxResults},on:{\"input\":function ($v) { return _vm.emitChangedValue({ maxResults: $v }); }}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Worker Count\",\"type\":\"number\",\"value\":_vm.value.workerCount,\"hint\":_vm.workerCountFieldLabel,\"persistent-hint\":\"\"},on:{\"input\":function ($v) { return _vm.emitChangedValue({ workerCount: $v }); }}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-layout row wrap class=\"overall-simulator-options\">\n    <v-flex xs12 sm4 md2>\n      <span>Set All Orders:</span>\n    </v-flex>\n    <v-flex xs6 sm4 md2>\n      <v-btn class=\"mx-2\" @click=\"setAllOrdersInitial\">Initial</v-btn>\n    </v-flex>\n    <v-flex xs6 sm4 md2>\n      <v-btn class=\"mx-2\" @click=\"setAllOrdersAny\">Any</v-btn>\n    </v-flex>\n    <v-flex xs12 sm4 md2>\n      <span>Set All Positions:</span>\n    </v-flex>\n    <v-flex xs6 sm4 md2>\n      <v-btn class=\"mx-2\" @click=\"() => setAllPositions(true)\">Locked</v-btn>\n    </v-flex>\n    <v-flex xs6 sm4 md2>\n      <v-btn class=\"mx-2\" @click=\"() => setAllPositions(false)\">Unlocked</v-btn>\n    </v-flex>\n    <v-flex xs12 sm6>\n      <v-text-field\n        label=\"Enemy Count\"\n        type=\"number\"\n        hint=\"There must be at least 2 enemies to ensure accuracy\"\n        :value=\"value.enemyCount\"\n        @input=\"$v => emitChangedValue({ enemyCount: $v })\"\n        persistent-hint\n      />\n    </v-flex>\n    <v-flex xs12 sm6>\n      <v-switch\n        :label=\"burstCutinToggleLabel\"\n        v-model=\"burstCutins\"\n        hide-details\n      />\n    </v-flex>\n    <v-flex xs12 sm4>\n      <v-text-field\n        label=\"Result Threshold\"\n        type=\"number\"\n        :value=\"value.resultThreshold\"\n        @input=\"$v => emitChangedValue({ resultThreshold: $v })\"\n        suffix=\"%\"\n      />\n    </v-flex>\n    <v-flex xs12 sm4>\n      <v-text-field\n        label=\"Max Results\"\n        type=\"number\"\n        :value=\"value.maxResults\"\n        @input=\"$v => emitChangedValue({ maxResults: $v })\"\n      />\n    </v-flex>\n    <v-flex xs12 sm4>\n      <v-text-field\n        label=\"Worker Count\"\n        type=\"number\"\n        :value=\"value.workerCount\"\n        :hint=\"workerCountFieldLabel\"\n        persistent-hint\n        @input=\"$v => emitChangedValue({ workerCount: $v })\"\n      />\n    </v-flex>\n  </v-layout>\n</template>\n\n<script>\nimport { ANY_BB_ORDER } from '@/modules/constants';\nimport { getSimulatorOptions, getSparkSimUnitConfig } from '@/modules/spark-simulator/utils';\nimport { MAX_WORKERS } from '@/modules/spark-simulator/constants';\n\nexport default {\n  props: {\n    value: {\n      type: Object,\n      required: true,\n    },\n    squad: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    burstCutinToggleLabel () {\n      return `Burst Cutins are ${this.value.burstCutins ? 'on' : 'off'}`;\n    },\n    workerCountFieldLabel () {\n      return `Max: ${MAX_WORKERS}`;\n    },\n    MAX_WORKERS: () => MAX_WORKERS,\n  },\n  data () {\n    return {\n      burstCutins: false,\n    };\n  },\n  methods: {\n    emitChangedValue (newVal = {}) {\n      this.$emit('input', getSimulatorOptions({ ...this.value, ...newVal }, this.squad));\n    },\n    setAllOrdersInitial () {\n      const newUnitConfig = this.value.unitConfig.map((config, i) => {\n        const unit = this.squad.units[i];\n        return getSparkSimUnitConfig({ ...config, bbOrder: unit.bbOrder });\n      });\n      this.emitChangedValue({ unitConfig: newUnitConfig });\n    },\n    setAllOrdersAny () {\n      const newUnitConfig = this.value.unitConfig.map(config => getSparkSimUnitConfig({ ...config, bbOrder: ANY_BB_ORDER }));\n      this.emitChangedValue({ unitConfig: newUnitConfig });\n    },\n    setAllPositions (locked) {\n      const newUnitConfig = this.value.unitConfig.map(config => getSparkSimUnitConfig({ ...config, lockPosition: !!locked }));\n      this.emitChangedValue({ unitConfig: newUnitConfig });\n    },\n  },\n  watch: {\n    value: {\n      immediate: true,\n      handler (newValue) {\n        if (newValue) {\n          this.burstCutins = !!newValue.burstCutins;\n        }\n      },\n    },\n    burstCutins (newValue) {\n      this.emitChangedValue({ burstCutins: newValue });\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.overall-simulator-options {\n  align-items: baseline;\n  .v-input, span {\n    margin: 0.5em;\n    flex-shrink: 0;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallSimulatorOptions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallSimulatorOptions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OverallSimulatorOptions.vue?vue&type=template&id=4b69dfb3&\"\nimport script from \"./OverallSimulatorOptions.vue?vue&type=script&lang=js&\"\nexport * from \"./OverallSimulatorOptions.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OverallSimulatorOptions.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"spark-statistics-container\">\n    <v-expansion-panel v-model=\"currentSection\">\n      <v-expansion-panel-content>\n        <span slot=\"header\" class=\"subheading\">Current Squad Statistics</span>\n        <section>\n          <spark-squad-card\n            v-if=\"resultForCurrentSquad\"\n            :squad=\"squad\"\n            :sparkResult=\"resultForCurrentSquad\"\n            :getUnit=\"getUnit\"\n            :simulatorOptions=\"simulatorOptions\"\n            @share=\"() => emitShareEvent(resultForCurrentSquad)\"\n          />\n          <span v-else>\n            <v-alert :value=\"true\" color=\"error\" icon=\"warning\">\n              There was a problem generating the spark results for the current squad configuration. ({{ (errorForCurrentSquad && errorForCurrentSquad.message) || errorForCurrentSquad || 'Unknown error' }})\n            </v-alert>\n          </span>\n        </section>\n      </v-expansion-panel-content>\n      <v-expansion-panel-content>\n        <span slot=\"header\" class=\"subheading\">Spark Simulator Input</span>\n        <section>\n          <spark-squad-card-editable\n            v-model=\"simulatorOptions\"\n            :squad=\"squad\"\n            :getUnit=\"getUnit\"\n          />\n        </section>\n        <section>\n          <overall-simulator-options\n            v-model=\"simulatorOptions\"\n            :squad=\"squad\"\n          />\n        </section>\n        <section>\n          <v-alert\n            :value=\"true\"\n            :icon=\"simulatorWarnings.length === 0 ? 'info' : 'priority_high'\"\n            :color=\"simulatorWarnings.length === 0 ? 'info' : 'warning'\"\n          >\n            <template v-if=\"simulatorWarnings.length > 0\">\n              <span>Warnings that may affect the accuracy of results:</span>\n              <ul>\n                <li\n                  v-for=\"w in simulatorWarnings\"\n                  :key=\"w\"\n                  v-text=\"w\"\n                />\n              </ul>\n            </template>\n            <span v-else>No squad level warnings found. Make sure to check individual units for warnings.</span>\n          </v-alert>\n        </section>\n        <section>\n          <v-btn block @click=\"runSimulator\">Run Simulator</v-btn>\n        </section>\n      </v-expansion-panel-content>\n      <v-expansion-panel-content v-show=\"!runningSimulator && (results || errorForCalculations)\">\n        <span slot=\"header\" class=\"subheading\">Simulator Results</span>\n        <div>\n          <section class=\"mx-2\">\n            <v-alert color=\"info\" :value=\"true\" >\n              <v-layout row wrap>\n                <v-flex>\n                  Time Elapsed: {{ simulationElapsedText }}\n                </v-flex>\n                <v-flex>\n                  Total Combinations Tested: {{ lastTestedCount }}\n                </v-flex>\n                <v-flex>\n                  Combinations Tested/Second: {{ combosTestedPerSecond }}\n                </v-flex>\n              </v-layout>\n            </v-alert>\n          </section>\n          <section v-if=\"Array.isArray(results) && results.length > 0\">\n            <section class=\"result-navigator\">\n              <v-btn\n                flat\n                :icon=\"$vuetify.breakpoint.xsOnly\"\n                :disabled=\"currentResultIndex <= 0\"\n                @click=\"currentResultIndex = Math.max(currentResultIndex - 1, 0)\"\n              >\n                <v-icon>chevron_left</v-icon>\n              </v-btn>\n              <v-select\n                class=\"mx-2\"\n                v-model=\"currentResultIndex\"\n                :items=\"resultSelectValues\"\n                item-text=\"label\"\n                item-value=\"value\"\n              />\n              <v-btn\n                flat\n                :icon=\"$vuetify.breakpoint.xsOnly\"\n                :disabled=\"currentResultIndex + 1 >= results.length\"\n                @click=\"currentResultIndex = Math.min(currentResultIndex + 1, results.length - 1)\"\n              >\n                <v-icon>chevron_right</v-icon>\n              </v-btn>\n            </section>\n            <section>\n              <spark-squad-card\n                :key=\"getResultName(results[currentResultIndex], currentResultIndex)\"\n                :squad=\"squad\"\n                :sparkResult=\"results[currentResultIndex]\"\n                :getUnit=\"getUnit\"\n                :simulatorOptions=\"simulatorOptions\">\n              <v-card-actions slot=\"card-actions\">\n                <v-btn outline @click=\"() => applySparkResult(results[currentResultIndex])\">\n                  <v-icon left>save</v-icon>\n                  Apply\n                </v-btn>\n              </v-card-actions>\n              </spark-squad-card>\n            </section>\n          </section>\n          <section v-else-if=\"errorForCalculations\">\n            <v-alert :value=\"true\" color=\"error\" icon=\"warning\">\n              There was a problem generating the spark results for the current squad configuration. ({{ errorForCalculations.message || errorForCalculations }})\n            </v-alert>\n          </section>\n          <section v-else>\n            No results found for given configuration.\n          </section>\n        </div>\n      </v-expansion-panel-content>\n    </v-expansion-panel>\n    <v-dialog\n      :value=\"showProgressDialog\"\n      max-width=\"500px\"\n      persistent\n    >\n      <v-card>\n        <v-card-text>\n          <v-progress-linear\n            :value=\"progressPercent\"\n            :indeterminate=\"progressPercent === 0\"\n            query/>\n          <div>{{ progressLabel }}</div>\n          <div>Time Elapsed: {{ simulationElapsedText }}</div>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer/>\n          <v-btn\n            v-if=\"!runningSimulator\"\n            @click=\"showProgressDialog = false\"\n          >\n            Close\n          </v-btn>\n          <v-btn\n            v-else\n            :disabled=\"progressTotal === 0\"\n            @click=\"cancelCalculations\"\n          >\n            Cancel\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <section class=\"mt-3\">\n      Powered by <a href=\"https://joshuacastor.me/project-sparkle/\" target=\"_blank\" rel=\"noopener\">Project Sparkle</a>\n    </section>\n  </div>\n</template>\n\n<script>\nimport SparkSimulator from '@/modules/spark-simulator';\nimport {\n  getSimulatorOptions,\n  applySparkResultToSquad,\n  getSimulatorWarningsForSquad,\n} from '@/modules/spark-simulator/utils';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\nimport SparkSquadCard from '@/components/Tools/Squads/SparkStatistics/SparkSquadCard';\nimport SparkSquadCardEditable from '@/components/Tools/Squads/SparkStatistics/SparkSquadCardEditable';\nimport OverallSimulatorOptions from '@/components/Tools/Squads/SparkStatistics/OverallSimulatorOptions';\nimport { Logger } from '@/modules/Logger';\n\nconst logger = new Logger({ prefix: '[SparkStatisticsArea]' });\nexport default {\n  mixins: [GettersMixin],\n  props: {\n    squad: {\n      type: Object,\n      required: true,\n    },\n    initialSimulatorOptions: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  components: {\n    SparkSquadCard,\n    SparkSquadCardEditable,\n    OverallSimulatorOptions,\n  },\n  computed: {\n    resultSelectValues () {\n      return Object.freeze(this.results.map((r, i) => ({\n        label: this.getResultName(r, i),\n        value: i,\n      })));\n    },\n    simulatorWarnings () {\n      return getSimulatorWarningsForSquad(this.squad, this.simulatorOptions);\n    },\n    progressLabel () {\n      return `${this.progressPercent.toFixed(2)}% (${this.progressActual}/${this.progressTotal})`;\n    },\n    progressPercent () {\n      return (this.progressActual / Math.max(1, this.progressTotal)) * 100;\n    },\n    combosTestedPerSecond () {\n      return (this.lastTestedCount / Math.max(this.simulationEndTime - this.simulationStartTime, 1) * 1000).toFixed(2);\n    },\n  },\n  data () {\n    return {\n      sparkSimulator: new SparkSimulator(),\n      results: null,\n      currentSection: 0,\n      runningSimulator: false,\n      resultForCurrentSquad: null,\n      simulatorOptions: null,\n      currentResultIndex: 0,\n      showProgressDialog: false,\n      progressTotal: 0,\n      progressActual: 0,\n      progressAnimationFrame: null,\n      progressObject: { total: 0, completed: 0, countTested: 0 },\n      errors: [],\n      simulationStartTime: Date.now(),\n      simulationEndTime: Date.now(),\n      simulationElapsedText: '',\n      lastTestedCount: 0,\n      errorForCurrentSquad: null,\n      errorForCalculations: null,\n    };\n  },\n  created () {\n    this.simulatorOptions = getSimulatorOptions(this.initialSimulatorOptions, this.squad);\n  },\n  mounted () {\n    this.sparkSimulator.getters = {\n      unit: this.getUnit,\n      item: this.getItem,\n      extraSkill: this.getExtraSkill,\n    };\n    this.calculateResultForCurrentSquad();\n  },\n  methods: {\n    cancelCalculations () {\n      this.sparkSimulator.cancelCalculations();\n    },\n    async runSimulator () {\n      // reset results\n      this.progressObject = { total: 0, completed: 0 };\n      this.setProgress();\n      this.results = null;\n      this.runningSimulator = true;\n      this.showProgressDialog = true;\n      this.errorForCalculations = null;\n      this.currentResultIndex = 0;\n      if (this.progressAnimationFrame) {\n        cancelAnimationFrame(this.progressAnimationFrame);\n        this.progressAnimationFrame = null;\n      }\n      this.sparkSimulator.addProgressListener(p => {\n        this.progressObject = p;\n        this.throttledSetProgress();\n      });\n      this.simulationStartTime = Date.now();\n      this.throttledSetProgress();\n      await this.$nextTick();\n\n      // run and get results\n      try {\n        const calculationResults = await this.sparkSimulator.calculateOptimalOrdersForSquad(this.squad, this.simulatorOptions);\n        this.errors = calculationResults.errors;\n        this.results = calculationResults.results;\n      } catch (err) {\n        logger.error('error calculating spark results', {\n          err,\n          squad: this.squad,\n          simulatorOptions: this.simulatorOptions,\n        });\n        this.errorForCalculations = err;\n      }\n      if (this.progressAnimationFrame) {\n        cancelAnimationFrame(this.progressAnimationFrame);\n        this.progressAnimationFrame = null;\n      }\n      this.setProgress();\n      this.runningSimulator = false;\n      this.showProgressDialog = false;\n      this.progressObject = { total: 0, completed: 0 };\n      this.simulationEndTime = Date.now();\n      this.sparkSimulator.removeAllListeners();\n      await this.$nextTick();\n      this.currentSection = 2; // show result panel\n    },\n    calculateResultForCurrentSquad () {\n      this.errorForCurrentSquad = null;\n      try {\n        this.resultForCurrentSquad = Object.freeze(this.sparkSimulator.calculateSparksForSquad(this.squad, getSimulatorOptions(this.squad.simulatorOptions, this.squad)));\n      } catch (err) {\n        logger.error('error calculating results for current squad', { err });\n        this.errorForCurrentSquad = err;\n        this.resultForCurrentSquad = null;\n      }\n    },\n    emitShareEvent (sparkResult) {\n      this.$emit('share', sparkResult);\n    },\n    emitSimulatorOptions () {\n      this.$emit('simoptions', this.simulatorOptions);\n    },\n    getResultName (sparkResult, resultIndex) {\n      return `Result ${resultIndex + 1} (${(sparkResult.weightedPercentage * 100).toFixed(2)}%)`;\n    },\n    applySparkResult (sparkResult) {\n      const result = applySparkResultToSquad(this.squad, sparkResult, this.simulatorOptions);\n      this.$emit('apply', result);\n      this.results = null;\n      this.simulatorOptions = result.options;\n      this.currentSection = 0; // show current squad panel\n    },\n    setProgress () {\n      this.progressActual = (this.progressObject && this.progressObject.completed) || 0;\n      this.progressTotal = (this.progressObject && this.progressObject.total) || 0;\n      this.lastTestedCount = (this.progressObject && this.progressObject.completed) || 0;\n      this.simulationElapsedText = this.getTimeElapsedText();\n    },\n    throttledSetProgress () {\n      if (!this.progressAnimationFrame) {\n        const progressIsDifferent = (progress) => progress !== this.progressObject;\n        const loop = () => {\n          const currentProgressObject = this.progressObject;\n          this.progressAnimationFrame = requestAnimationFrame(() => {\n            this.simulationElapsedText = this.getTimeElapsedText();\n            if (progressIsDifferent(currentProgressObject)) {\n              this.setProgress();\n            }\n            if (this.runningSimulator) {\n              requestAnimationFrame(loop);\n            }\n          });\n        };\n        loop();\n      }\n    },\n    getTimeElapsedText (otherTime = Date.now()) {\n      const diff = otherTime - this.simulationStartTime;\n      const MS_TO_MINUTES = 1 / (1000 * 60);\n      const MS_TO_SECONDS = 1 / 1000;\n      const minutes = Math.floor(diff * MS_TO_MINUTES);\n      const seconds = Math.floor((diff - (minutes / MS_TO_MINUTES)) * MS_TO_SECONDS);\n      return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\n    },\n  },\n  watch: {\n    simulatorOptions () {\n      this.emitSimulatorOptions();\n    },\n    squad () {\n      this.calculateResultForCurrentSquad();\n    },\n    resultForCurrentSquad (newValue) {\n      this.$emit('currentsquadresult', newValue);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.spark-statistics-container {\n  width: 100%;\n  .v-expansion-panel {\n    box-shadow: none;\n  }\n\n  .v-expansion-panel__header {\n    padding-left: 8px;\n    padding-right: 8px;\n\n    .subheading {\n      font-weight: bold;\n    }\n  }\n\n  a {\n    color: inherit;\n    &:hover {\n      font-weight: bold;\n    }\n  }\n\n  .result-navigator {\n    display: grid;\n    grid-template-columns: auto 1fr auto;\n    align-items: center;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Main.vue?vue&type=template&id=b60f6c28&\"\nimport script from \"./Main.vue?vue&type=script&lang=js&\"\nexport * from \"./Main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Main.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"squad-multidex-links\"},[_c('dl',[_vm._l((_vm.fullUnits),function(unit){return [_c('dt',{key:((_vm.unitKeyBySquadEntry.get(unit)) + \"-title\"),staticClass:\"title mt-3 mb-2\",domProps:{\"textContent\":_vm._s(_vm.titleBySquadEntry.get(unit))}}),_c('dd',{key:((_vm.unitKeyBySquadEntry.get(unit)) + \"-links\")},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.linksBySquadEntry.get(unit)),function(entry,i){return _c('v-flex',{key:i,staticClass:\"pa-2\",attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c(_vm.getComponentNameFromEntry(entry),{tag:\"component\",attrs:{\"entry\":_vm.getDataForEntry(entry),\"to\":_vm.generateMultidexPathToEntry(entry),\"sp\":entry.sp}},[_vm._v(\"\\n              \"+_vm._s(entry)+\"\\n            \")])],1)}),1)],1)]})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"squad-multidex-links\">\n    <dl>\n      <template v-for=\"unit in fullUnits\">\n        <dt\n          class=\"title mt-3 mb-2\"\n          :key=\"`${unitKeyBySquadEntry.get(unit)}-title`\"\n          v-text=\"titleBySquadEntry.get(unit)\"\n        />\n        <dd :key=\"`${unitKeyBySquadEntry.get(unit)}-links`\">\n          <v-layout row wrap>\n            <v-flex\n              v-for=\"(entry, i) in linksBySquadEntry.get(unit)\"\n              :key=\"i\"\n              xs12 sm6\n              class=\"pa-2\"\n            >\n              <component\n                :is=\"getComponentNameFromEntry(entry)\"\n                :entry=\"getDataForEntry(entry)\"\n                :to=\"generateMultidexPathToEntry(entry)\"\n                :sp=\"entry.sp\"\n              >\n                {{ entry }}\n              </component>\n            </v-flex>\n          </v-layout>\n        </dd>\n      </template>\n    </dl>\n  </section>\n</template>\n\n<script>\nimport { getMultidexParamsForSquadUnit, generateFillerSquadUnitEntry } from '@/modules/core/squads';\nimport { unitPositionMapping, multidexModuleInfo } from '@/modules/constants';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\nimport UnitEntryCard from '@/components/Multidex/Units/EntryCard';\nimport ExtraSkillEntryCard from '@/components/Multidex/ExtraSkills/EntryCard';\nimport ItemEntryCard from '@/components/Multidex/Items/EntryCard';\n\nexport default {\n  mixins: [GettersMixin],\n  props: {\n    squad: {\n      type: Object,\n      required: true,\n    },\n  },\n  components: {\n    UnitEntryCard,\n    ExtraSkillEntryCard,\n    ItemEntryCard,\n  },\n  computed: {\n    // fills empty positions with empty values\n    fullUnits () {\n      return unitPositionMapping.map(position => {\n        let unit = this.squad.units.find(unit => unit.position === position);\n        if (!unit) { // empty position, so fill it with empty data\n          unit = generateFillerSquadUnitEntry({ isEmpty: true, bbOrder: null, position });\n        }\n\n        return unit;\n      });\n    },\n    linksBySquadEntry () {\n      const mapping = new WeakMap();\n      this.fullUnits.forEach(unit => {\n        mapping.set(unit, getMultidexParamsForSquadUnit(unit));\n      });\n      return mapping;\n    },\n    unitKeyBySquadEntry () {\n      const mapping = new WeakMap();\n      this.fullUnits.forEach((unit, i) => {\n        mapping.set(unit, `${JSON.stringify(unit)}-${i}`);\n      });\n      return mapping;\n    },\n    titleBySquadEntry () {\n      const mapping = new WeakMap();\n      this.fullUnits.forEach(unit => {\n        const unitData = this.getUnit(unit.id) || {};\n        const title = `${unitData.name || unitData.id || unit.id} (${unit.position})`;\n        mapping.set(unit, title);\n      });\n      return mapping;\n    },\n    multidexPathGetters () {\n      const { getters } = this.$store;\n      return multidexModuleInfo.reduce((acc, { name }) => {\n        acc[name] = getters[`${name}/getMultidexPathTo`];\n        return acc;\n      }, {});\n    },\n  },\n  methods: {\n    generateMultidexPathToEntry ({ moduleName, id, sp } = {}) {\n      const urlGenerator = this.multidexPathGetters[moduleName] || (id => `/multidex/${moduleName}/?server=${this.$store.state.settings.activeServer}&viewId=${id}`);\n      const initialUrl = urlGenerator(id);\n      return (sp && sp.length > 0)\n        ? `${initialUrl}&enhancements=${sp}`\n        : initialUrl;\n    },\n    getComponentNameFromEntry ({ moduleName } = {}) {\n      let componentName = 'router-link';\n      if (moduleName === 'units') {\n        componentName = 'unit-entry-card';\n      } else if (moduleName === 'extraSkills') {\n        componentName = 'extra-skill-entry-card';\n      } else if (moduleName === 'items') {\n        componentName = 'item-entry-card';\n      }\n      return componentName;\n    },\n    getDataForEntry ({ moduleName, id } = {}) {\n      let data = { id };\n      if (moduleName === 'units') {\n        data = this.getUnit(id) || data;\n      } else if (moduleName === 'extraSkills') {\n        data = this.getExtraSkill(id) || data;\n      } else if (moduleName === 'items') {\n        data = this.getItem(id) || data;\n      }\n      return data;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultidexLinks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultidexLinks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MultidexLinks.vue?vue&type=template&id=73d6550a&\"\nimport script from \"./MultidexLinks.vue?vue&type=script&lang=js&\"\nexport * from \"./MultidexLinks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <module-checker :requiredModules=\"requiredModules\">\n    <promise-wait :promise=\"initialLoadPromise\">\n      <v-container fluid class=\"squad-page\" v-resize=\"onPageReady\">\n        <v-container class=\"pa-0\">\n          <v-layout justify-center>\n            <v-flex xs12 v-if=\"!editMode\">\n              <squad-list-card\n                :squad=\"squad\"\n                :getUnit=\"getUnit\"\n                :getItem=\"getItem\"\n                :getExtraSkill=\"getExtraSkill\"\n                :isLoadingInParent=\"isLoadingSquadData\"\n                :key=\"squadCode\"\n              >\n                <v-card-actions slot=\"card-actions\" slot-scope=\"{ disabled }\">\n                  <v-btn\n                    flat\n                    :icon=\"minimizeSquadActionButtons\"\n                    :disabled=\"disabled\"\n                    @click=\"editMode = true\">\n                    <v-icon :left=\"!minimizeSquadActionButtons\">edit</v-icon>\n                    <span v-if=\"!minimizeSquadActionButtons\">\n                      Edit\n                    </span>\n                  </v-btn>\n                  <v-btn\n                    flat\n                    :icon=\"minimizeSquadActionButtons\"\n                    :disabled=\"disabled\"\n                    @click=\"activeSquadDialog = 'share'\">\n                    <v-icon :left=\"!minimizeSquadActionButtons\">share</v-icon>\n                    <span v-if=\"!minimizeSquadActionButtons\">\n                      Share\n                    </span>\n                  </v-btn>\n                  <v-btn\n                    v-if=\"squadCode\"\n                    flat\n                    :icon=\"minimizeSquadActionButtons\"\n                    :disabled=\"disabled\"\n                    :to=\"getSquadUrl(squadCode)\">\n                    <v-icon :left=\"!minimizeSquadActionButtons\">file_copy</v-icon>\n                    <span v-if=\"!minimizeSquadActionButtons\">\n                      Clone\n                    </span>\n                  </v-btn>\n                  <v-spacer/>\n                  <v-btn\n                    flat\n                    :icon=\"minimizeSquadActionButtons\"\n                    :disabled=\"disabled\"\n                    @click=\"activeSquadDialog = 'delete'\">\n                    <v-icon :left=\"!minimizeSquadActionButtons\">delete</v-icon>\n                    <span v-if=\"!minimizeSquadActionButtons\">\n                      Delete\n                    </span>\n                  </v-btn>\n                </v-card-actions>\n              </squad-list-card>\n            </v-flex>\n            <v-flex xs12 v-else>\n              <squad-list-card-editable\n                :squad=\"tempSquad\"\n                :squadId=\"id\"\n                :getUnit=\"getUnit\"\n                :getItem=\"getItem\"\n                :getExtraSkill=\"getExtraSkill\"\n                :redirectOnCancel=\"false\"\n                :isLoadingInParent=\"isLoadingSquadData\"\n                @newsquad=\"$sq => tempSquad = $sq\"\n                @newunits=\"onNewUnits\"\n                @save=\"() => { squad = tempSquad; editMode = false; }\"\n                @cancel=\"editMode = false\"\n              />\n            </v-flex>\n          </v-layout>\n        </v-container>\n        <v-flex xs12>\n          <v-divider class=\"mt-2\"/>\n        </v-flex>\n        <v-flex xs12>\n          <v-card>\n            <tab-container\n              v-if=\"!isLoadingSquadData && !editMode\"\n              v-model=\"currentTabIndex\"\n              class=\"mt-2 mx-0\"\n              :centeredTabs=\"true\"\n              :growTabs=\"true\"\n              :tabs=\"tabConfig\">\n              <v-layout slot=\"multidex-links\" column>\n                <multidex-links\n                  :getUnit=\"getUnit\"\n                  :getItem=\"getItem\"\n                  :getExtraSkill=\"getExtraSkill\"\n                  :squad=\"squad\"\n                />\n              </v-layout>\n              <v-layout slot=\"buffs\" column class=\"buff-lists\">\n                <squad-buff-expandable-list-view\n                  :getUnit=\"getUnit\"\n                  :getItem=\"getItem\"\n                  :getExtraSkill=\"getExtraSkill\"\n                  :squad=\"squad\"\n                  :topNavbarHeight=\"topNavbarHeight\"\n                />\n              </v-layout>\n              <v-layout slot=\"spark-statistics\">\n                <squad-spark-statistics-area\n                  :getUnit=\"getUnit\"\n                  :getItem=\"getItem\"\n                  :getExtraSkill=\"getExtraSkill\"\n                  :squad=\"squad\"\n                  :initialSimulatorOptions=\"simulatorOptions\"\n                  @simoptions=\"$v => simulatorOptions = $v\"\n                  @share=\"$sparkResult => { sparkResultToShare = $sparkResult; activeSquadDialog = 'share'; }\"\n                  @apply=\"applySparkResult\"\n                  @currentsquadresult=\"$v => sparkResultToShare = $v\"\n                />\n              </v-layout>\n              <v-layout slot=\"arena\" style=\"overflow-x: auto;\">\n                <squad-arena-suggestion-table\n                  :getUnit=\"getUnit\"\n                  :getItem=\"getItem\"\n                  :getExtraSkill=\"getExtraSkill\"\n                  :squad=\"squad\"\n                />\n              </v-layout>\n            </tab-container>\n          </v-card>\n        </v-flex>\n        <v-dialog\n          :value=\"!isLoadingSquadData && !!activeSquadDialog\"\n          @input=\"$v => activeSquadDialog = $v ? activeSquadDialog : ''\"\n          lazy>\n          <template v-if=\"squadCode\">\n            <share-squad-card\n              v-if=\"activeSquadDialog === 'share'\"\n              :squad=\"squad\"\n              :getUnit=\"getUnit\"\n              :getItem=\"getItem\"\n              :getExtraSkill=\"getExtraSkill\"\n              :sparkResult=\"sparkResultToShare\"\n              @back=\"activeSquadDialog = ''\"/>\n            <delete-squad-card\n              v-else-if=\"activeSquadDialog === 'delete'\"\n              :squad=\"squad\"\n              :squadId=\"+id\"\n              :getUnit=\"getUnit\"\n              :getItem=\"getItem\"\n              :getExtraSkill=\"getExtraSkill\"\n              @delete=\"$router.push('/tools/squads')\"\n              @cancel=\"activeSquadDialog = ''\"/>\n          </template>\n          <v-card v-else>\n            <v-card-text>\n              No squad selected\n            </v-card-text>\n            <v-card-actions style=\"justify-content: flex-end\">\n              <v-btn flat @click=\"activeSquadDialog = ''\">\n                Back\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-container>\n    </promise-wait>\n  </module-checker>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex';\nimport { squadRequiredModules } from '@/router/tool-routes';\nimport { Logger } from '@/modules/Logger';\nimport {\n  squadToShorthand,\n  getMultidexDatabaseIdsFromSquads,\n  cloneSquad,\n} from '@/modules/core/squads';\nimport { targetTypes, squadBuffTypes } from '@/modules/constants';\nimport ModuleChecker from '@/components/ModuleChecker';\nimport LoadingIndicator from '@/components/LoadingIndicator';\nimport PromiseWait from '@/components/PromiseWait';\nimport SquadListCard from '@/components/Tools/Squads/SquadListCard';\nimport ShareSquadCard from '@/components/Tools/Squads/ShareSquadCard';\nimport DeleteSquadCard from '@/components/Tools/Squads/DeleteSquadCard';\nimport TabContainer from '@/components/CardTabsContainer';\nimport SquadListCardEditable from '@/components/Tools/Squads/SquadListCardEditable';\nimport SquadBuffExpandableListView from '@/components/Multidex/BuffList/SquadBuffExpandableListView';\nimport SquadArenaSuggestionTable from '@/components/Tools/Squads/SquadArenaSuggestionTable';\nimport SquadSparkStatisticsArea from '@/components/Tools/Squads/SparkStatistics/Main';\nimport MultidexLinks from '@/components/Tools/Squads/MultidexLinks';\n\nconst logger = new Logger({ prefix: '[Squad]' });\nexport default {\n  props: {\n    id: {\n      type: String,\n      required: true,\n    },\n  },\n  components: {\n    ModuleChecker,\n    SquadListCard,\n    ShareSquadCard,\n    DeleteSquadCard,\n    TabContainer,\n    SquadListCardEditable,\n    LoadingIndicator,\n    SquadBuffExpandableListView,\n    SquadArenaSuggestionTable,\n    SquadSparkStatisticsArea,\n    PromiseWait,\n    MultidexLinks,\n  },\n  computed: {\n    ...mapState('settings', ['activeServer']),\n    targetTypes: () => targetTypes,\n    squadBuffTypes: () => squadBuffTypes,\n    requiredModules: () => squadRequiredModules,\n    tabConfig: () => [\n      'Multidex Links',\n      'Buffs',\n      'Spark Statistics',\n      'Arena',\n    ].map(name => ({ name, slot: name.toLowerCase().replace(/ /g, '-') })),\n    squadCode () {\n      return this.squad ? squadToShorthand(this.squad) : '';\n    },\n    minimizeSquadActionButtons () {\n      return this.$vuetify.breakpoint.xsOnly;\n    },\n  },\n  data () {\n    return {\n      squad: null,\n      squadUnits: {},\n      squadItems: {},\n      squadExtraSkills: {},\n      isLoadingSquadData: false,\n      activeSquadDialog: '',\n      editMode: false,\n      currentTabIndex: 0,\n      tempSquad: {},\n      topNavbarHeight: 56,\n      sparkResultToShare: null,\n      simulatorOptions: {},\n      initialLoadPromise: Promise.resolve(),\n      disableActiveClassTimeout: null,\n    };\n  },\n  mounted () {\n    this.isLoadingSquadData = true;\n    this.initialLoadPromise = this.$store.dispatch('squads/getSquadById', this.id)\n      .then(result => {\n        if (!result || !result.squad) {\n          throw new Error('Specified squad doesn\\'t exist.');\n        }\n        this.squad = cloneSquad(result.squad);\n      });\n  },\n  methods: {\n    ...mapActions('units', {\n      getUnits: 'getByIds',\n    }),\n    ...mapActions('items', {\n      getItems: 'getByIds',\n    }),\n    ...mapActions('extraSkills', {\n      getExtraSkills: 'getByIds',\n    }),\n    getUnit (id) {\n      return this.squadUnits[id] || {};\n    },\n    getItem (id) {\n      return this.squadItems[id] || {};\n    },\n    getExtraSkill (id) {\n      return this.squadExtraSkills[id] || {};\n    },\n    async updatePageDbForSquad (squad) {\n      if (squad) {\n        const databaseIds = getMultidexDatabaseIdsFromSquads(squad);\n        const toLowerCase = (input) => `${input[0].toLowerCase()}${input.slice(1)}`;\n        const currentServer = this.activeServer;\n        try {\n          await ['Units', 'Items', 'ExtraSkills'].reduce((acc, name) => {\n            const entriesToGet = [];\n            const componentDb = this[`squad${name}`];\n            const neededKeys = databaseIds[toLowerCase(name)];\n            const newDb = {};\n            const allKeys = Object.keys(componentDb).map(id => +id).concat(neededKeys);\n            allKeys.forEach((id) => {\n              if (!isNaN(id) && neededKeys.includes(id)) {\n                if (!componentDb[id]) {\n                  entriesToGet.push(id);\n                } else {\n                  newDb[id] = componentDb[id];\n                }\n              }\n            });\n  \n            return acc.then(async () => {\n              if (entriesToGet.length > 0) {\n                if (!this.isLoadingSquadData) {\n                  this.isLoadingSquadData = true;\n                }\n                const retrievedEntries = await this[`get${name}`]({\n                  ids: entriesToGet,\n                  server: currentServer,\n                  extractedFields: [],\n                });\n                this[`squad${name}`] = Object.freeze({ ...newDb, ...retrievedEntries });\n              } else {\n                this[`squad${name}`] = Object.freeze(newDb);\n              }\n            });\n          }, Promise.resolve());\n        } catch (err) {\n          logger.error(err);\n        } finally {\n          this.isLoadingSquadData = false;\n        }\n      }\n    },\n    setDocumentTitle () {\n      const defaultTitle = 'BF-MT - Squad';\n      if (this.squad && this.squad.name) {\n        document.title = [defaultTitle, this.squad.name].join(' - ');\n      } else {\n        document.title = defaultTitle;\n      }\n    },\n    getSquadUrl (squad) {\n      return this.$router.resolve({\n        path: '/tools/squads/add',\n        query: { import: typeof squad !== 'string' ? squadToShorthand(squad) : squad },\n      }).route.fullPath;\n    },\n    onNewUnits (units) {\n      this.tempSquad = { ...this.tempSquad, units };\n    },\n    onPageReady () {\n      this.updateTopNavbarHeight();\n      if (this.$store.state.disableHtmlOverflow) {\n        this.$store.commit('setHtmlOverflowDisableState', false);\n      }\n    },\n    updateTopNavbarHeight () {\n      const topNavbar = document.querySelector('nav.v-toolbar');\n      this.topNavbarHeight = (topNavbar && topNavbar.offsetHeight) || 56;\n    },\n    async applySparkResult ({ squad, sparkResult, options } = {}) {\n      squad.simulatorOptions = options || this.simulatorOptions;\n      await this.$store.dispatch('squads/storeSquad', {\n        server: this.$store.state.settings.activeServer,\n        squad: squad,\n        id: this.id,\n      });\n\n      this.sparkResultToShare = sparkResult;\n      this.squad = squad;\n    },\n    checkWindowActiveClass () {\n      if (!this.disableActiveClassTimeout) {\n        // necessary to fix issues with sticky elements (active class has overflow hidden property)\n        const checkAndRemoveClass = () => {\n          const activeWindow = this.$el.querySelector('.v-window__container--is-active');\n          if (activeWindow) {\n            activeWindow.classList.remove('v-window__container--is-active');\n            this.disableActiveClassTimeout = setTimeout(checkAndRemoveClass, 1000);\n          } else {\n            this.disableActiveClassTimeout = null;\n          }\n        };\n        this.disableActiveClassTimeout = setTimeout(checkAndRemoveClass, 1000);\n      }\n    },\n  },\n  watch: {\n    async squad (newSquad) {\n      this.setDocumentTitle();\n      await this.updatePageDbForSquad(newSquad);\n      this.onPageReady();\n    },\n    async editMode (isEditMode) {\n      if (isEditMode) {\n        this.tempSquad = cloneSquad(this.squad);\n        this.tempSquad.simulatorOptions = this.simulatorOptions;\n      } else {\n        this.tempSquad = {};\n      }\n    },\n    async tempSquad (newSquad) {\n      if (newSquad && Array.isArray(newSquad.units)) {\n        await this.updatePageDbForSquad(newSquad);\n      } else {\n        await this.updatePageDbForSquad(this.squad);\n      }\n    },\n    currentTabIndex () {\n      this.checkWindowActiveClass();\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Squad.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Squad.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Squad.vue?vue&type=template&id=3f7f9806&\"\nimport script from \"./Squad.vue?vue&type=script&lang=js&\"\nexport * from \"./Squad.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpBuildTable.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpBuildTable.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('module-checker',{attrs:{\"requiredModules\":_vm.requiredModules,\"ensureDbSync\":true,\"useUpdateDialog\":false}},[_c('v-container',{attrs:{\"fluid\":\"\"}},[(_vm.hasSelection)?_c('v-layout',[_c('loading-indicator',{attrs:{\"loadingMessage\":\"Processing selection...\"}})],1):[_c('v-layout',{attrs:{\"row\":\"\",\"align-center\":\"\"}},[_c('v-flex',[_c('v-text-field',{attrs:{\"label\":\"Search\",\"persistent-hint\":\"\",\"hint\":_vm.searchHint},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.sendQuery($event)}},model:{value:(_vm.query),callback:function ($$v) {_vm.query=$$v},expression:\"query\"}})],1),_c('v-flex',{staticStyle:{\"flex-grow\":\"0\"}},[_c('v-btn',{staticClass:\"mr-0\",attrs:{\"icon\":\"\",\"flat\":\"\",\"outline\":_vm.hasDirtyQuery},on:{\"click\":_vm.sendQuery}},[_c('v-icon',[_vm._v(\"search\")])],1)],1)],1),_c('v-layout',{staticStyle:{\"min-height\":\"0\",\"max-height\":\"55vh\",\"flex\":\"1\"}},[_c('div',{staticClass:\"py-2 px-1\",staticStyle:{\"overflow\":\"auto\",\"flex\":\"1\"}},[_vm._t(\"entries\",[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_vm._v(\"\\n                  \"+_vm._s(_vm.entriesToShow)+\"\\n              \")])],{\"entries\":_vm.entriesToShow})],2)]),(_vm.numPages > 1)?_c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\",\"align-center\":\"\"}},[_c('v-pagination',{attrs:{\"total-visible\":_vm.$vuetify.breakpoint.mdAndUp ? 20 : undefined,\"length\":_vm.numPages},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1):_vm._e()],(_vm.showCancelButton)?[_c('v-layout',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.hasSelection),expression:\"!hasSelection\"}],staticStyle:{\"justify-content\":\"flex-end\"},attrs:{\"row\":\"\"}},[_c('v-flex',{staticStyle:{\"flex\":\"none\"}},[_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_vm._v(\"Cancel\")])],1)],1)]:_vm._e()],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card>\n    <module-checker\n      :requiredModules=\"requiredModules\"\n      :ensureDbSync=\"true\"\n      :useUpdateDialog=\"false\"\n    >\n      <v-container fluid>\n        <v-layout v-if=\"hasSelection\">\n          <loading-indicator loadingMessage=\"Processing selection...\"/>\n        </v-layout>\n        <template v-else>\n          <v-layout row align-center>\n            <v-flex>\n              <v-text-field\n                label=\"Search\"\n                v-model=\"query\"\n                @keydown.enter=\"sendQuery\"\n                persistent-hint\n                :hint=\"searchHint\"/>\n            </v-flex>\n            <v-flex style=\"flex-grow: 0;\">\n              <v-btn\n                icon flat\n                :outline=\"hasDirtyQuery\"\n                @click=\"sendQuery\"\n                class=\"mr-0\">\n                <v-icon>search</v-icon>\n              </v-btn>\n            </v-flex>\n          </v-layout>\n          <v-layout style=\"min-height: 0; max-height: 55vh; flex: 1;\">\n            <div style=\"overflow: auto; flex: 1;\" class=\"py-2 px-1\">\n              <slot name=\"entries\" :entries=\"entriesToShow\">\n                <v-layout row wrap>\n                    {{ entriesToShow }}\n                </v-layout>\n              </slot>\n            </div>\n          </v-layout>\n          <v-layout row justify-center align-center v-if=\"numPages > 1\">\n            <v-pagination\n              v-model=\"currentPage\"\n              :total-visible=\"$vuetify.breakpoint.mdAndUp ? 20 : undefined\"\n              :length=\"numPages\"/>\n          </v-layout>\n        </template>\n        <template v-if=\"showCancelButton\">\n          <v-layout row style=\"justify-content: flex-end;\" v-show=\"!hasSelection\">\n            <v-flex style=\"flex: none;\">\n              <v-btn flat @click=\"$emit('cancel')\">Cancel</v-btn>\n            </v-flex>\n          </v-layout>\n        </template>\n      </v-container>\n    </module-checker>\n  </v-card>\n</template>\n\n<script>\nimport LoadingIndicator from '@/components/LoadingIndicator';\nimport ModuleChecker from '@/components/ModuleChecker';\n\nexport default {\n  props: {\n    allEntryIds: {\n      type: Array,\n      default: () => [],\n    },\n    value: {\n      type: String,\n      default: '',\n    },\n    entriesPerPage: {\n      type: Number,\n      default: 24,\n    },\n    hasSelection: {\n      type: Boolean,\n      default: false,\n    },\n    requiredModules: {\n      type: Array,\n      default: () => [],\n    },\n    showCancelButton: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  components: {\n    LoadingIndicator,\n    ModuleChecker,\n  },\n  computed: {\n    numPages () {\n      return Math.ceil(this.allEntryIds.length / this.entriesPerPage);\n    },\n    entriesToShow () {\n      const startIndex = Math.max((this.currentPage - 1) * this.entriesPerPage, 0);\n      return this.allEntryIds.slice(startIndex, startIndex + this.entriesPerPage);\n    },\n    hasDirtyQuery () {\n      return this.query !== this.value;\n    },\n    searchHint () {\n      return [\n        `${this.allEntryIds.length} results`,\n        this.hasDirtyQuery && '*',\n      ].filter(v => v).join('');\n    },\n  },\n  data () {\n    return {\n      currentPage: 1,\n      query: '',\n    };\n  },\n  methods: {\n    sendQuery () {\n      this.$emit('input', this.query);\n    },\n  },\n  watch: {\n    value: {\n      immediate: true,\n      handler (v) {\n        this.query = v || '';\n      },\n    },\n  },\n};\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BaseSelector.vue?vue&type=template&id=4c5972a8&\"\nimport script from \"./BaseSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./BaseSelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallSimulatorOptions.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallSimulatorOptions.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadAdd.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadAdd.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextViewer.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextViewer.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}