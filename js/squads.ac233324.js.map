{"version":3,"sources":["webpack:///./src/components/Tools/Squads/UnitEntryEditor.vue?0653","webpack:///./src/views/Tools/SquadList.vue?8543","webpack:///src/views/Tools/SquadList.vue","webpack:///./src/views/Tools/SquadList.vue?f001","webpack:///./src/views/Tools/SquadList.vue","webpack:///./src/components/Tools/Squads/ShareSquadCard.vue?d303","webpack:///./src/components/OneLineTextViewer.vue?70b7","webpack:///src/components/OneLineTextViewer.vue","webpack:///./src/components/OneLineTextViewer.vue?637b","webpack:///./src/components/OneLineTextViewer.vue","webpack:///src/components/Tools/Squads/ShareSquadCard.vue","webpack:///./src/components/Tools/Squads/ShareSquadCard.vue?b0d2","webpack:///./src/components/Tools/Squads/ShareSquadCard.vue","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkUnitEntryEditable.vue?c7e3","webpack:///./src/components/Tools/Squads/SquadArenaSuggestionTable.vue?3518","webpack:///./src/modules/spark-simulator/worker/index.js","webpack:///./src/components/Multidex/MiniLeaderIcon.vue?f65a","webpack:///src/components/Multidex/MiniLeaderIcon.vue","webpack:///./src/components/Multidex/MiniLeaderIcon.vue?7554","webpack:///./src/components/Multidex/MiniLeaderIcon.vue","webpack:///./src/components/Multidex/Units/SpBuildTable.vue?0dbc","webpack:///src/components/Multidex/Units/SpBuildTable.vue","webpack:///./src/components/Multidex/Units/SpBuildTable.vue?dfd4","webpack:///./src/components/Multidex/Units/SpBuildTable.vue","webpack:///./src/views/Tools/SquadAdd.vue?b208","webpack:///src/views/Tools/SquadAdd.vue","webpack:///./src/views/Tools/SquadAdd.vue?353d","webpack:///./src/views/Tools/SquadAdd.vue","webpack:///./src/components/TextViewer.vue?6f30","webpack:///src/components/TextViewer.vue","webpack:///./src/components/TextViewer.vue?ce36","webpack:///./src/components/TextViewer.vue","webpack:///./src/components/Multidex/BuffList/SquadBuffExpandableListView.vue?50c3","webpack:///./src/modules/core/squads.js","webpack:///./src/components/Tools/Squads/SquadListCardEditable.vue?6500","webpack:///./src/assets/battle_friend_icon.png","webpack:///./src/views/Tools/SquadList.vue?b1b8","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkUnitEntry.vue?b19c","webpack:///./src/components/Tools/Squads/SynchronousGettersMixin.js","webpack:///./src/components/Tools/Squads/SquadUnitEntry.vue?0b15","webpack:///./src/components/Multidex/ExtraSkillIcon.vue?6cc1","webpack:///src/components/Multidex/ExtraSkillIcon.vue","webpack:///./src/components/Multidex/ExtraSkillIcon.vue?d5da","webpack:///./src/components/Multidex/ExtraSkillIcon.vue","webpack:///src/components/Tools/Squads/SquadUnitEntry.vue","webpack:///./src/components/Tools/Squads/SquadUnitEntry.vue?3428","webpack:///./src/components/Tools/Squads/SquadUnitEntry.vue","webpack:///./src/components/Multidex/BuffList/SquadBuffExpandableList.vue?3142","webpack:///./src/components/Multidex/MiniFriendIcon.vue?8aa6","webpack:///src/components/Multidex/MiniFriendIcon.vue","webpack:///./src/components/Multidex/MiniFriendIcon.vue?e2ca","webpack:///./src/components/Multidex/MiniFriendIcon.vue","webpack:///./src/components/Tools/Squads/ShareSquadCard.vue?4330","webpack:///./src/components/Tools/Squads/DeleteSquadCard.vue?0427","webpack:///src/components/Tools/Squads/DeleteSquadCard.vue","webpack:///./src/components/Tools/Squads/DeleteSquadCard.vue?3d7f","webpack:///./src/components/Tools/Squads/DeleteSquadCard.vue","webpack:///./src/components/Tools/Squads/SquadUnitEntry.vue?5852","webpack:///./src/components/Tools/Squads/SquadListCard.vue?9a3f","webpack:///src/components/Tools/Squads/SquadListCard.vue","webpack:///./src/components/Tools/Squads/SquadListCard.vue?3acd","webpack:///./src/components/Tools/Squads/SquadListCard.vue","webpack:///./src/components/Tools/Squads/SquadListCardEditable.vue?3258","webpack:///./src/components/Tools/Squads/UnitEntryEditor.vue?0128","webpack:///src/components/Tools/Squads/UnitEntryEditor.vue","webpack:///./src/components/Tools/Squads/UnitEntryEditor.vue?ea95","webpack:///./src/components/Tools/Squads/UnitEntryEditor.vue","webpack:///src/components/Tools/Squads/SquadListCardEditable.vue","webpack:///./src/components/Tools/Squads/SquadListCardEditable.vue?e2cc","webpack:///./src/components/Tools/Squads/SquadListCardEditable.vue","webpack:///./src/components/Multidex/BuffTableGrid/MainTable.vue?0692","webpack:///src/components/Multidex/BuffTableGrid/MainTable.vue","webpack:///./src/components/Multidex/BuffTableGrid/MainTable.vue?d65f","webpack:///./src/components/Multidex/BuffTableGrid/MainTable.vue","webpack:///./src/assets/battle_leader_icon.png","webpack:///./src/assets/ex_icon.png","webpack:///./src/components/Multidex/BuffTableGrid/MainTable.vue?0b26","webpack:///./src/views/Tools/Squad.vue?a4df","webpack:///./src/components/Multidex/BuffList/SquadBuffExpandableListView.vue?49fd","webpack:///./src/components/Multidex/BuffList/SquadBuffExpandableList.vue?832e","webpack:///src/components/Multidex/BuffList/SquadBuffExpandableList.vue","webpack:///./src/components/Multidex/BuffList/SquadBuffExpandableList.vue?0fc4","webpack:///./src/components/Multidex/BuffList/SquadBuffExpandableList.vue","webpack:///src/components/Multidex/BuffList/SquadBuffExpandableListView.vue","webpack:///./src/components/Multidex/BuffList/SquadBuffExpandableListView.vue?714d","webpack:///./src/components/Multidex/BuffList/SquadBuffExpandableListView.vue","webpack:///./src/components/Tools/Squads/SquadArenaSuggestionTable.vue?9c49","webpack:///src/components/Tools/Squads/SquadArenaSuggestionTable.vue","webpack:///./src/components/Tools/Squads/SquadArenaSuggestionTable.vue?36db","webpack:///./src/components/Tools/Squads/SquadArenaSuggestionTable.vue","webpack:///./src/components/Tools/Squads/SparkStatistics/Main.vue?6cb6","webpack:///./src/modules/spark-simulator/constants.js","webpack:///./src/modules/spark-simulator/utils.js","webpack:///./src/modules/spark-simulator/ClientWorkerInterface.js","webpack:///./src/modules/spark-simulator/client/ClientApi.js","webpack:///./src/modules/spark-simulator/client/index.js","webpack:///./src/modules/spark-simulator/index.js","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkSquadCard.vue?a69c","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkUnitEntry.vue?16ca","webpack:///src/components/Tools/Squads/SparkStatistics/SparkUnitEntry.vue","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkUnitEntry.vue?a1b7","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkUnitEntry.vue","webpack:///src/components/Tools/Squads/SparkStatistics/SparkSquadCard.vue","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkSquadCard.vue?f796","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkSquadCard.vue","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkSquadCardEditable.vue?0145","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkUnitEntryEditable.vue?b9fe","webpack:///src/components/Tools/Squads/SparkStatistics/SparkUnitEntryEditable.vue","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkUnitEntryEditable.vue?b31f","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkUnitEntryEditable.vue","webpack:///src/components/Tools/Squads/SparkStatistics/SparkSquadCardEditable.vue","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkSquadCardEditable.vue?56bd","webpack:///./src/components/Tools/Squads/SparkStatistics/SparkSquadCardEditable.vue","webpack:///./src/components/Tools/Squads/SparkStatistics/OverallSimulatorOptions.vue?41eb","webpack:///src/components/Tools/Squads/SparkStatistics/OverallSimulatorOptions.vue","webpack:///./src/components/Tools/Squads/SparkStatistics/OverallSimulatorOptions.vue?b594","webpack:///./src/components/Tools/Squads/SparkStatistics/OverallSimulatorOptions.vue","webpack:///src/components/Tools/Squads/SparkStatistics/Main.vue","webpack:///./src/components/Tools/Squads/SparkStatistics/Main.vue?9e83","webpack:///./src/components/Tools/Squads/SparkStatistics/Main.vue","webpack:///./src/components/Tools/Squads/MultidexLinks.vue?285e","webpack:///src/components/Tools/Squads/MultidexLinks.vue","webpack:///./src/components/Tools/Squads/MultidexLinks.vue?29d8","webpack:///./src/components/Tools/Squads/MultidexLinks.vue","webpack:///src/views/Tools/Squad.vue","webpack:///./src/views/Tools/Squad.vue?db8a","webpack:///./src/views/Tools/Squad.vue","webpack:///./src/components/Multidex/Units/SpBuildTable.vue?b2de","webpack:///./src/components/Tools/Squads/SparkStatistics/Main.vue?2a9c","webpack:///./src/components/Tools/Squads/SparkStatistics/OverallSimulatorOptions.vue?6289","webpack:///./src/views/Tools/SquadAdd.vue?b1c4","webpack:///./src/components/TextViewer.vue?4567"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UnitEntryEditor_vue_vue_type_style_index_0_id_216b9afa_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UnitEntryEditor_vue_vue_type_style_index_0_id_216b9afa_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","attrs","requiredModules","isExternallyLoading","isVisuallyLoading","externalLoadingMessage","on","initfinished","getDbData","app","fixed","extended","scroll-off-screen","extension-height","directives","name","rawName","value","showCopyModal","expression","class","pt-0 pb-0 mb-2 px-1","focused","searchIsFocused","slot","fluid","id","submit","$event","preventDefault","onFilterUpdate","row","align-center","clearable","color","lightMode","label","prepend-inner-icon","hint","sortedSquads","length","persistent-hint","focusin","focusout","model","callback","$$v","nameFilter","staticStyle","flex-grow","icon","flat","click","sortOrderAscending","_v","_s","min-width","type","outline","filterChanged","round","wrap","_l","squad","i","key","xs12","staticClass","getUnit","getItem","getExtraSkill","to","share","activeSquadIndex","activeSquadDialog","delete","getSquadUrl","left","_e","squadsPerPage","justify-content","numPages","total-visible","$vuetify","breakpoint","mdAndUp","undefined","currentPage","isCopyMode","lazy","input","$v","squadsToShow","back","squadId","cancel","transition","direction","right","bottom","fabModel","fab","transitionend","repositionTooltip","showTooltip","small","showImportFromCodeModal","fullscreen","hide-overlay","background-color","z-index","padding-top","padding-bottom","squadDb","units","items","extraSkills","max-width","rows","importCode","disabled","staticRenderFns","Logger","prefix","loadingDebouncer","SquadListvue_type_script_lang_js_","props","Boolean","default","required","components","SquadListCard","ShareSquadCard","DeleteSquadCard","ModuleChecker","computed","_objectSpread","Object","vuex_esm","tool_routes","squads","$store","state","_this","freeze","filteredSquads","slice","sort","a","b","result","pageIndex","squadStartIndex","Math","ceil","data","isInternallyLoading","activeCallToken","beforeCreate","_this2","dispose","LoadingDebouncer","val","methods","getUnits","getItems","getExtraSkills","_getDbData","_asyncToGenerator","regenerator_default","mark","_callee4","databaseIds","currentServer","_this3","_context4","prev","next","Date","valueOf","toString","random","join","dispatch","settings","activeServer","then","map","s","commit","sent","core_squads","_callee","_context","ids","server","extractedFields","abrupt","stop","_callee2","_context2","_callee3","_context3","reduce","acc","Promise","resolve","apply","arguments","filterSquads","_this4","_ref4","_ref4$name","lowerCaseName","toLowerCase","includesName","includes","filter","some","u","es","Array","isArray","spheres","v","debounce_default","_ref5","_callee5","forceReposition","_context5","$nextTick","_x","getModuleName","internalName","associatedModule","constants","find","m","fullName","$router","path","query","import","route","fullPath","watch","_this5","setValue","immediate","handler","window","scrollTo","newVal","_showTooltip","_callee6","isShowing","_context6","_x2","_showCopyModal","_callee7","toolbarHeight","_context7","utils","document","querySelector","offsetHeight","_x3","Tools_SquadListvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","tabs","tabConfig","activeTabIndex","column","smAndDown","style","possibleTargets","target","sm6","useBullets","showByList","showByTable","showName","showTotalSparkability","showPosition","showOrder","showAction","showSparkStatisticsByUnit","showExtraSkill","showSpheres","showEnhancements","abbreviate","showSpCost","showShareLink","height","inputText","markdownText","flex","squadShorthand","shareLink","$emit","OneLineTextViewervue_type_template_id_74910ad5_render","readonly","block","textToCopy","OneLineTextViewervue_type_template_id_74910ad5_staticRenderFns","OneLineTextViewervue_type_script_lang_js_","String","CopyButton","components_OneLineTextViewervue_type_script_lang_js_","OneLineTextViewer","ShareSquadCardvue_type_script_lang_js_","mixins","SynchronousGettersMixin","sparkResult","CardTabsContainer","TextViewer","copyableJson","_this$squad","otherInfo","_objectWithoutProperties","squadToMarkdown","href","concat","location","protocol","host","pathname","sparkTextByUnit","mapping","Map","forEach","unit","sparkUnitResult","position","set","actualSparks","possibleSparks","updateTime","mounted","setWithPreset","options","_options$showPosition","_options$showAction","_options$showOrder","_options$showName","_options$useBullets","_options$abbreviate","_options$showSpCost","_options$showShareLin","_options$showExtraSki","_options$showSpheres","_options$showEnhancem","_options$showSparkSta","_options$showTotalSpa","_options$showByList","_options$showByTable","sections","nameLine","weightedPercentage","toFixed","push","entry","isFillerUnit","ANY","EMPTY","rarity","lead","friend","bbOrder","getActionText","get","sp","getSpCost","getSpText","skill","cost","code","text","getTableView","linkText","action","sbb","SBB","bb","BB","ATK","toUpperCase","feSkills","feskills","enhancements","split","char","bp","_options$showAction2","_options$showOrder2","_options$showName2","_options$showSparkSta2","_options$showTotalSpa2","isDiscord","names","findIndex","replace","sparkTitle","shouldShowSparkResults","maxLeftNameLength","max","initialOutput","padEnd","trim","CODE_BLOCK_INDICATOR","_initialOutput","Squads_ShareSquadCardvue_type_script_lang_js_","ShareSquadCard_component","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SparkUnitEntryEditable_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SparkUnitEntryEditable_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SquadArenaSuggestionTable_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SquadArenaSuggestionTable_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","module","exports","Worker","p","iconTitle","iconWidth","sheetSize","iconHeight","sheetWidth","sheetHeight","displayWidth","displaySize","displayHeight","src","iconSrc","iconX","iconY","MiniLeaderIconvue_type_script_lang_js_","Number","GenericSpriteIcon","Multidex_MiniLeaderIconvue_type_script_lang_js_","activeSkillSum","input-value","overallState","indeterminate","hide-details","nativeOn","toggleOverallState","spEntry","index","selectedSpEntries","spIndexToCode","toggleSpEntry","category","justify-space-between","sm8","domProps","innerHTML","getSpDescription","getSpDependencyText","sm4","showTables","elem","overflow-x","colspan","effects","getSpEffects","showHeaders","SpBuildTablevue_type_script_lang_js_","SpIcon","BuffTable","MainTable","allEnhancementsCode","_","allEnhancementsSum","allEffects","effectCache","WeakMap","cacheChangeToken","now","computeActiveSum","useCache","has","cacheExchangeToken","entryIndex","isCurrentlyActive","newEntries","dependentEntries","activeCode","dependencies","depCode","newValue","enhancementCode","Units_SpBuildTablevue_type_script_lang_js_","ensureDbSync","isLoadingInParent","isLoadingSquadData","selectedindex","$ev","selectedIndex","newsquad","newunits","save","onSuccessfulSave","inputCode","loadingMessage","parseState","message","warningMessages","showWarnings","$val","justify-end","parsingCode","attemptSquadImport","logger","SquadAddvue_type_script_lang_js_","importSquad","SquadListCardEditable","LoadingIndicator","allUnits","allItems","allExtraSkills","parseErrorMessage","parsedSuccessfully","currentSquadCode","_unused","squadUnits","squadItems","squadExtraSkills","lastImportedSquadCode","setSquad","_attemptSquadImport","initialSquad","t0","error","_setSquad","_fixSquadErrors","warnings","fixedSquad","updateSquadPageDbForSquad","_updateSquadPageDbForSquad","entriesToGet","componentDb","neededKeys","newDb","allKeys","keys","isNaN","retrievedEntries","squad.units","deep","Tools_SquadAddvue_type_script_lang_js_","text-viewer pa-0","limit-height","limitHeight","TextViewervue_type_script_lang_js_","components_TextViewervue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SquadBuffExpandableListView_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SquadBuffExpandableListView_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","squadToShorthand","squadFillerMapping","unitPositionMapping","indexOf","makeSquadUnitEntry","_ref","_ref$id","_ref$position","_ref$es","_ref$spheres","_ref$bbOrder","_ref$action","_ref$sp","generateFillerSquadUnitEntry","_ref2","_ref2$isEmpty","isEmpty","_ref2$position","_ref2$bbOrder","squadUnitActions","NONE","getEffectMappingFromSquadUnitEntry","_unitEffects","unitEntry","_ref3","_ref3$getUnit","_ref3$getItem","_ref3$getExtraSkill","unitEffects","ls","_defineProperty","UBB","from","e","sourcePath","burstTypes","bbType","burstData","levels","getBurstEffects","Set","spCodeToEffects","getSpEntryEffects","sourceSpCode","extraSkillEffects","extraSkill","sphereEffects","sphereId","item","effectData","getItemEffects","generateDefaultSquad","allEmpty","toLocaleString","fill","cloneSquad","simulatorOptions","filterOptions","viewMode","sortUnitsByPosition","shorthandToSquad","shorthand","leadIndex","friendIndex","_entry$split","_entry$split2","_slicedToArray","positionIndex","esText","sphereText","leadFriendFlag","spText","fixSquadErrors","_ref4$getUnit","_ref4$getItem","_ref4$getExtraSkill","messages","filledPositions","usedOrders","currentUnits","_typeof","defaultUnitActions","isValidBbOrder","num","unitData","isValidUnit","unitIdentifer","add","isValidSkill","sphere","isValidSphere","spCodeToIndex","possibleOrders","order","getMultidexDatabaseIdsFromSquads","unitIds","esIds","itemIds","squadsToCheck","clone","toSort","positionA","positionB","getEffectsListForSquadUnitEntry","_ref6","_ref6$unitEntry","_ref6$target","targetTypes","PARTY","_ref6$effectType","effectType","squadBuffTypes","PROC","_ref6$squad","syncGetters","entryEffects","isLsActive","getEffectsList","leaderSkillEffects","nonUbbBurstEffects","ubbBurstEffects","ubb","elgifEffects","values","spEnhancementEffects","getMultidexParamsForSquadUnit","links","moduleName","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SquadListCardEditable_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SquadListCardEditable_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SquadList_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SquadList_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SparkUnitEntry_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SparkUnitEntry_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","Function","_g","_b","$attrs","$listeners","_t","display","thumbnailSize","text-xs-center","align-content-center","orderSettings","isVisible","getImageUrls","ills_battle","imageTitle","x","y","tabindex","textContent","align-self","ml-1","mr-1","isLead","isFriend","justify-center","inactive","word-break","text-align","getSpCategories","ExtraSkillIconvue_type_template_id_1947700c_render","inactiveStyle","iconSize","ExtraSkillIconvue_type_template_id_1947700c_staticRenderFns","ExtraSkillIconvue_type_script_lang_js_","Multidex_ExtraSkillIconvue_type_script_lang_js_","ExtraSkillIcon","SquadUnitEntryvue_type_script_lang_js_","UnitThumbnail","RarityIcon","SphereTypeIcon","LeaderIcon","MiniLeaderIcon","FriendIcon","MiniFriendIcon","hasBbOrder","getOrderText","getColorSetBasedOnAction","colorKey","border","colors_default","base","background","lighten4","foreground","darken4","filteredSkills","Squads_SquadUnitEntryvue_type_script_lang_js_","SquadUnitEntry_component","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SquadBuffExpandableList_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SquadBuffExpandableList_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","MiniFriendIconvue_type_script_lang_js_","Multidex_MiniFriendIconvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ShareSquadCard_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ShareSquadCard_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","isDeleting","deleteSquad","DeleteSquadCardvue_type_script_lang_js_","_deleteSquad","finish","Squads_DeleteSquadCardvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SquadUnitEntry_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SquadUnitEntry_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","squadCost","getUnitEntryKey","align-items","SquadListCardvue_type_script_lang_js_","UnitEntry","SquadUnitEntry","fullUnits","JSON","stringify","Squads_SquadListCardvue_type_script_lang_js_","$set","mouseleave","highlightedIndex","mouseover","fill-height","pointer-events","unitSelectionText","newIndex","onSaveClick","redirectOnCancel","UnitEntryEditorvue_type_template_id_216b9afa_scoped_true_render","activeDialog","$d","setUnit","setExtraSkill","onSelectSphere","width","grid","grid-list-md","activeUnit","setPosition","leadFriendPossibilities","leadFriendStatus","isEmptyUnit","setLeadFriendStatus","xs6","align-items-center","bbOrderPossibilities","setBbOrder","actionPossibilities","setAction","esData","showAssociatedUnits","sphereData","emptySphere","lastSelectedSphereIndex","setSpheres","setEnhancements","UnitEntryEditorvue_type_template_id_216b9afa_scoped_true_staticRenderFns","UnitEntryEditorvue_type_script_lang_js_","UnitCard","EntryCard","ExtraSkillCard","ExtraSkills_EntryCard","SphereCard","Items_EntryCard","SpBuildTable","UnitSelector","EsSelector","ExtraSkillSelector","SphereSelector","localSquad","initialData","core_units","extra_skills","availableBurstTypes","nonBurstActions","emitUnits","emitSquad","updateCurrentUnit","newUnitData","_toConsumableArray","_this$localSquad","unitToSwap","otherUnits","newUnitList","status","_this$localSquad2","unitToSwapOrder","_setUnit","tempData","_this$localSquad3","inputId","newSphereList","Squads_UnitEntryEditorvue_type_script_lang_js_","UnitEntryEditor","SquadListCardEditablevue_type_script_lang_js_","_onSaveClick","SquadListCardEditablevue_type_script_lang_js_asyncToGenerator","resultKey","Squads_SquadListCardEditablevue_type_script_lang_js_","SquadListCardEditable_component","min-height","toggleAllEffectViews","hiddenIndices","mappedEffects","_m","effectEntry","toggleEffectView","grid-column","getEffectsHiddenText","getSortedProps","effect","prop","j","_obj","_obj$1","_obj$2","property-cell","hasBuffTable","isProcBuffList","value-cell has-table","value-cell","isEmptyArray","padding-left","MainTablevue_type_script_lang_js_","translateEffectNames","idKeys","getEffectDetails","gridRowConfig","numEffectRows","mainGridStyle","grid-template-rows","sortedPropsCache","processor_helper","filteredEffect","processedEffect","buffs","getValueSubgridStyle","numProps","obj","effectName","subEffectNames","BuffTableGrid_MainTablevue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MainTable_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MainTable_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","promise","initialLoadPromise","editMode","tempSquad","$sq","onNewUnits","squadCode","scopedSlots","_u","fn","ref","minimizeSquadActionButtons","centeredTabs","growTabs","currentTabIndex","topNavbarHeight","initialSimulatorOptions","simoptions","$sparkResult","sparkResultToShare","applySparkResult","currentsquadresult","SquadBuffExpandableListViewvue_type_template_id_3ac365dc_render","sources","getEffectsFromSource","getEffectsForSquadUnit","titleTopOffset","inputFilterOptions","getTextForSource","getTextForSourceInSquadUnit","filteroptions","$f","viewmode","targetType","inputEffectMappingBySource","highlightedBuffIds","listKey","inputEffectMappingByUnitEntry","highlightedProcs","highlightedPassives","PASSIVE","SquadBuffExpandableListViewvue_type_template_id_3ac365dc_staticRenderFns","SquadBuffExpandableListvue_type_template_id_72983506_render","unitEntries","entries","source","SquadBuffExpandableListvue_type_template_id_72983506_staticRenderFns","SquadBuffExpandableListvue_type_script_lang_js_","BuffExpandableList","blacklistedKeys","effectMappingByUnitEntry","displayValue","startsWith","BuffList_SquadBuffExpandableListvue_type_script_lang_js_","SquadBuffExpandableList","SquadBuffExpandableListViewvue_type_script_lang_js_","BuffExpandableListView","possibleTables","ENEMY","SELF","OTHER","effectMappingByTable","allProcIds","allPassiveIds","tableMapping","effectMappingByUnit","getTableKey","procs","passives","created","table","newOptions","newMode","BuffList_SquadBuffExpandableListViewvue_type_script_lang_js_","SquadBuffExpandableListView_component","SquadBuffExpandableListView","SquadArenaSuggestionTablevue_type_template_id_48be27a9_render","text-transform","font-weight","usableColoClasses","squadKey","suggestionsBySquadEntry","arenaTextDataBySquadEntry","arenaText","SquadArenaSuggestionTablevue_type_template_id_48be27a9_staticRenderFns","SquadArenaSuggestionTablevue_type_script_lang_js_","getSuggestionsForUnit","aiData","ai","generateArenaText","classesBySquadEntry","applicableUnits","applicableColoClasses","commonColoClasses","currentClasses","coloClass","every","otherUnit","Squads_SquadArenaSuggestionTablevue_type_script_lang_js_","SquadArenaSuggestionTable_component","SquadArenaSuggestionTable","Mainvue_type_template_id_b60f6c28_render","currentSection","resultForCurrentSquad","emitShareEvent","errorForCurrentSquad","simulatorWarnings","w","runSimulator","runningSimulator","results","errorForCalculations","simulationElapsedText","lastTestedCount","combosTestedPerSecond","xsOnly","currentResultIndex","resultSelectValues","item-text","item-value","min","getResultName","showProgressDialog","persistent","progressPercent","progressLabel","progressTotal","cancelCalculations","Mainvue_type_template_id_b60f6c28_staticRenderFns","rel","passiveProcMetadata","require","ATTACKING_PROCS","proc","Type","MOVESPEED_OFFSETS","1","Top Left","Top Right","Middle Left","Middle Right","Bottom Left","Bottom Right","2","3","4","5","TELEPORTER_OFFSETS","850328","750167","810278","810108","61007","860357","850418","20887","860258","850158","61087","51107","40857","860518","860548","51317","830048","61207","850568","SBB_NO_CUTIN_DELAY","SBB_CUTIN_DELAY","MAX_WORKERS","getHitCountData","burst","getHitCountDataFromBurst","f","getExtraAttackFrames","attackFrameSets","d","frames","healFrameSets","getHealFrameData","unifiedFrames","frameGroup","frameSet","setIndex","frameIndex","numFrames","time","dmg","resultFrames","frame times","hit dmg% distribution","getAttackEffectsFromBurst","getEffectId","getFramesForSparkUnitEntry","_ref2$burst","_ref2$extraAttackEffe","extraAttackEffects","_ref2$delay","delay","_ref2$moveTypeId","moveTypeId","moveTypeIdByName","Moving","_ref2$moveSpeed","moveSpeed","_ref2$teleporterId","teleporterId","burstFrames","burstEffects","baseOffset","Teleporting","processFrameTimes","frameTimes","totalOffset","isAoe","frame","resultAttackFrames","frameInfo","effectDelay","extraAttackFrames","resultExtraAttackFrames","convertSquadUnitEntryToSparkUnitEntry","_ref3$entry","_ref3$synchronousGett","synchronousGetters","_ref3$squad","originalPosition","_ref3$unitConfig","unitConfig","getSparkSimUnitConfig","sourcesToIgnore","utils_objectSpread","triggeredOn","sparkUnitEntry","movement","moveSpeedType","weight","getBattleFrames","cutinDelay","battleFrames","frameDelay","attack","actualFrame","aoe","st","calculateSparksForSparkSimSquad","getSimulatorOptions","enemyCount","burstCutins","aggregatedBattleFrames","battleFramesByUnit","unitBattleFrames","possibleSparksSquad","actualSparkSquad","sparkResults","_unitBattleFrames$fra","selfAoe","selfSt","remainingAoe","remainingSt","hasSparkableAoe","hasSparkableSt","count","totalWeight","percentSparked","getDelayDescriptionForSparkUnitResult","_ref5$sparkUnitResult","_ref5$unitData","_ref5$burstCutins","makeEntry","description","moveTypeName","getMoveType","teleporterOffset","positionBasedOffset","inputDelay","squadLevelDelay","getNumberOrDefault","defaultValue","_ref6$unitConfig","_ref6$enemyCount","_ref6$burstCutins","_ref6$resultThreshold","resultThreshold","_ref6$workerCount","workerCount","_ref6$maxResults","maxResults","_ref6$optimize","optimize","resultUnitConfig","config","numUnits","finalAction","_ref7","_ref7$action","_ref7$bbOrder","_ref7$delay","_ref7$weight","_ref7$lockPosition","lockPosition","ANY_BB_ORDER","getSimulatorWarningsForSquadUnit","_ref8","_ref8$unit","_ref8$attackEffects","attackEffects","_ref8$unitData","attackTargets","effectId","targetArea","isRandom","hasOwnProperty","getSimulatorWarningsForSquad","emptyUnits","maxBbOrder","highestBbOrderForNonEmptyUnits","lowestBbOrderForEmptyUnits","applySparkResultToSquad","leadUnit","friendUnit","originalOptions","newUnitSet","newSparkResultSquad","squadUnitIndex","sparkUnitIndex","extractUnitConfigFromSparkResultSquad","getAllPermutations","arr","remainingElements","innerPermutations","permutation","getPositionPermutations","lockedIndices","unlockedPositions","resultPositions","createPositionArray","positionPermutation","currentPermutationIndex","getOrderPermutations","allOrders","lockedUnits","unlockedUnits","emptyOrders","lockedOrders","_ref9","unlockedOrders","unitOrderPairings","generateSimulatorPermutations","_generateSimulatorPermutations","positionPermutations","orderPermutations","getResultKey","squadPermutations","permutationHistory","currentIndex","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_loop","_iterator","_step","_args2","currentSquad","unitKey","debug","orderPermutation","resultMapping","Symbol","iterator","done","delegateYield","t1","return","getUnitConfigForUnoptimizedRun","SparkSimWorkerInterface","_ref$sparkSquad","permutations","sparkSquad","_ref$options","_defer","total","completed","reject","Error","SparkSimClient","exchangeWorker","PromiseWorkerExchangeClient","ClientApi_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","call","_worker","_progressListeners","registerCommand","progress","onProgress","method","request","simArguments","listener","clear","close","makeWorker","worker","SimWorker","ClientApi","SparkSimulator","spark_simulator_classCallCheck","_squad","noop","_dbGetters","_workers","_progressTotal","_progressPerWorker","fulfill","setTimeout","calcPromises","sliceSize","floor","sliceIndex","currentWorker","addProgressListener","permutationsForWorker","run","all","aggregateResult","errors","countTested","_ref$completed","workerIndex","sum","getters","getterType","SparkSquadCardvue_type_template_id_66f45725_render","sparkPercentage","bbOrderColorToggleIconColor","toggleBbOrderColor","sparkResultForUnit","sparkResultsByUnit","relativeWeight","relativeWeightByUnit","warningsByUnit","SparkSquadCardvue_type_template_id_66f45725_staticRenderFns","SparkUnitEntryvue_type_template_id_3c49e904_render","sparkFraction","margin-left","text-decoration","delayDescription","margin","showWarningDialog","SparkUnitEntryvue_type_template_id_3c49e904_staticRenderFns","colorConfigByBbOrder","stroke","red","blue","green","yellow","grey","purple","SparkUnitEntryvue_type_script_lang_js_","SparkUnitEntryvue_type_script_lang_js_objectSpread","bbOrderStyle","showBbOrderColors","SparkStatistics_SparkUnitEntryvue_type_script_lang_js_","SparkUnitEntry_component","SparkUnitEntry","SparkSquadCardvue_type_script_lang_js_","unitSparkResult","r","squadUnit","burstAttacks","extraAttacks","sparkResultMapping","SparkStatistics_SparkSquadCardvue_type_script_lang_js_","SparkSquadCard_component","SparkSquadCard","SparkSquadCardEditablevue_type_template_id_98f6c86e_render","sparkSimUnitConfig","updateEntryForUnit","SparkSquadCardEditablevue_type_template_id_98f6c86e_staticRenderFns","SparkUnitEntryEditablevue_type_template_id_54ecff4a_render","align-content-end","smAndUp","bbOrderToShow","nameLabel","md4","actionToShow","emitChangedValue","isAnyUnit","padding","SparkUnitEntryEditablevue_type_template_id_54ecff4a_staticRenderFns","SparkUnitEntryEditablevue_type_script_lang_js_","SparkUnitEntryEditablevue_type_script_lang_js_objectSpread","actionText","colorSetBasedOnAction","moveTypeText","moveType","SparkStatistics_SparkUnitEntryEditablevue_type_script_lang_js_","SparkUnitEntryEditable_component","SparkUnitEntryEditable","SparkSquadCardEditablevue_type_script_lang_js_","hasEmptyUnit","checkEmptyUnitConfig","Event","SparkSquadCardEditablevue_type_script_lang_js_objectSpread","needsUpdate","updatedConfig","associatedSquadUnit","newConfig","SparkStatistics_SparkSquadCardEditablevue_type_script_lang_js_","SparkSquadCardEditable_component","SparkSquadCardEditable","OverallSimulatorOptionsvue_type_template_id_4b69dfb3_render","md2","setAllOrdersInitial","setAllOrdersAny","setAllPositions","burstCutinToggleLabel","suffix","workerCountFieldLabel","OverallSimulatorOptionsvue_type_template_id_4b69dfb3_staticRenderFns","OverallSimulatorOptionsvue_type_script_lang_js_","constants_MAX_WORKERS","OverallSimulatorOptionsvue_type_script_lang_js_objectSpread","newUnitConfig","locked","SparkStatistics_OverallSimulatorOptionsvue_type_script_lang_js_","OverallSimulatorOptions_component","OverallSimulatorOptions","Mainvue_type_script_lang_js_logger","Mainvue_type_script_lang_js_","progressActual","simulationEndTime","simulationStartTime","sparkSimulator","spark_simulator_SparkSimulator","progressAnimationFrame","progressObject","calculateResultForCurrentSquad","_runSimulator","Mainvue_type_script_lang_js_asyncToGenerator","calculationResults","setProgress","cancelAnimationFrame","throttledSetProgress","calculateOptimalOrdersForSquad","err","removeAllListeners","calculateSparksForSquad","emitSimulatorOptions","resultIndex","getTimeElapsedText","progressIsDifferent","loop","currentProgressObject","requestAnimationFrame","otherTime","diff","MS_TO_MINUTES","MS_TO_SECONDS","minutes","seconds","padStart","SparkStatistics_Mainvue_type_script_lang_js_","Main_component","Main","MultidexLinksvue_type_template_id_73d6550a_render","unitKeyBySquadEntry","titleBySquadEntry","linksBySquadEntry","getComponentNameFromEntry","tag","getDataForEntry","generateMultidexPathToEntry","MultidexLinksvue_type_template_id_73d6550a_staticRenderFns","MultidexLinksvue_type_script_lang_js_","UnitEntryCard","ExtraSkillEntryCard","ItemEntryCard","title","multidexPathGetters","urlGenerator","initialUrl","componentName","Squads_MultidexLinksvue_type_script_lang_js_","MultidexLinks_component","MultidexLinks","Squadvue_type_script_lang_js_logger","Squadvue_type_script_lang_js_","TabContainer","SquadSparkStatisticsArea","PromiseWait","Squadvue_type_script_lang_js_objectSpread","disableActiveClassTimeout","updatePageDbForSquad","_updatePageDbForSquad","Squadvue_type_script_lang_js_asyncToGenerator","setDocumentTitle","defaultTitle","onPageReady","updateTopNavbarHeight","disableHtmlOverflow","topNavbar","_applySparkResult","_args3","checkWindowActiveClass","checkAndRemoveClass","activeWindow","$el","classList","remove","newSquad","_editMode","isEditMode","_tempSquad","_x4","Tools_Squadvue_type_script_lang_js_","Squad_component","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SpBuildTable_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SpBuildTable_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Main_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Main_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OverallSimulatorOptions_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OverallSimulatorOptions_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SquadAdd_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SquadAdd_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TextViewer_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TextViewer_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/squads.ac233324.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitEntryEditor.vue?vue&type=style&index=0&id=216b9afa&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitEntryEditor.vue?vue&type=style&index=0&id=216b9afa&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('module-checker',{attrs:{\"requiredModules\":_vm.requiredModules,\"isExternallyLoading\":_vm.isVisuallyLoading,\"externalLoadingMessage\":\"Fetching squad information...\"},on:{\"initfinished\":_vm.getDbData}},[_c('v-container',[_c('v-toolbar',{attrs:{\"app\":\"\",\"fixed\":\"\",\"extended\":\"\",\"scroll-off-screen\":\"\",\"extension-height\":\"72px\"}},[_c('v-container',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showCopyModal),expression:\"!showCopyModal\"}],class:{ 'pt-0 pb-0 mb-2 px-1': true, focused: _vm.searchIsFocused },attrs:{\"slot\":\"extension\",\"fluid\":\"\",\"id\":\"squad-list--search-extension\"},slot:\"extension\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onFilterUpdate($event)}}},[_c('v-layout',{attrs:{\"row\":\"\",\"align-center\":\"\"}},[_c('v-flex',[_c('v-text-field',{attrs:{\"clearable\":\"\",\"color\":_vm.lightMode ? 'black' : 'white',\"label\":\"Search\",\"prepend-inner-icon\":\"search\",\"hint\":((_vm.sortedSquads.length) + \" \" + (_vm.sortedSquads.length === 1 ? 'squad' : 'squads')),\"persistent-hint\":\"\"},on:{\"focusin\":function($event){_vm.searchIsFocused = true},\"focusout\":function($event){_vm.searchIsFocused = false}},model:{value:(_vm.nameFilter),callback:function ($$v) {_vm.nameFilter=$$v},expression:\"nameFilter\"}})],1),_c('v-layout',{staticStyle:{\"flex-grow\":\"0\"},attrs:{\"row\":\"\"}},[_c('v-flex',{staticStyle:{\"flex-grow\":\"0\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"flat\":\"\"},on:{\"click\":function($event){_vm.sortOrderAscending = !_vm.sortOrderAscending}}},[_c('v-icon',[_vm._v(_vm._s((\"fa-sort-alpha-\" + (_vm.sortOrderAscending ? 'down' : 'up'))))])],1)],1),_c('v-flex',{staticStyle:{\"flex-grow\":\"0\"}},[_c('v-btn',{staticStyle:{\"min-width\":\"64px\"},attrs:{\"type\":\"submit\",\"outline\":!_vm.filterChanged,\"color\":_vm.filterChanged ? 'primary' : '',\"round\":\"\"},on:{\"click\":_vm.onFilterUpdate}},[_c('v-icon',[_vm._v(\"search\")])],1)],1)],1)],1)],1)])],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.squadsToShow),function(squad,i){return _c('v-flex',{key:squad.id,attrs:{\"xs12\":\"\"}},[_c('squad-list-card',{staticClass:\"ma-2\",attrs:{\"id\":(\"squad-result-\" + (i + 1)),\"squad\":squad,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"to\":(\"/tools/squads/\" + (squad.id))},on:{\"share\":function () { _vm.activeSquadIndex = i; _vm.activeSquadDialog = 'share'; },\"delete\":function () { _vm.activeSquadIndex = i; _vm.activeSquadDialog = 'delete'; }}},[(_vm.isCopyMode)?[_c('v-card-actions',{attrs:{\"slot\":\"card-actions\"},slot:\"card-actions\"},[_c('v-spacer'),_c('v-btn',{attrs:{\"flat\":\"\",\"to\":_vm.getSquadUrl(squad)}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"file_copy\")]),_vm._v(\"\\n                Copy\\n              \")],1)],1)]:_vm._e()],2)],1)}),1),_c('v-bottom-nav',{attrs:{\"fixed\":\"\",\"value\":_vm.sortedSquads.length > _vm.squadsPerPage,\"app\":\"\"}},[_c('v-pagination',{staticStyle:{\"justify-content\":\"center\"},attrs:{\"length\":_vm.numPages,\"total-visible\":_vm.$vuetify.breakpoint.mdAndUp ? 20 : undefined},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1),(!_vm.isCopyMode)?[_c('v-dialog',{attrs:{\"value\":!!_vm.activeSquadDialog,\"lazy\":\"\"},on:{\"input\":function ($v) { return _vm.activeSquadDialog = $v ? _vm.activeSquadDialog : ''; }}},[(_vm.squadsToShow[_vm.activeSquadIndex])?[(_vm.activeSquadDialog === 'share')?_c('share-squad-card',{attrs:{\"squad\":_vm.squadsToShow[_vm.activeSquadIndex],\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill},on:{\"back\":function($event){_vm.activeSquadDialog = ''}}}):(_vm.activeSquadDialog === 'delete')?_c('delete-squad-card',{attrs:{\"squad\":_vm.squadsToShow[_vm.activeSquadIndex],\"squadId\":_vm.squadsToShow[_vm.activeSquadIndex].id,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill},on:{\"delete\":function () { _vm.activeSquadDialog = ''; _vm.getDbData(); },\"cancel\":function($event){_vm.activeSquadDialog = ''}}}):_vm._e()]:_c('v-card',[_c('v-card-text',[_vm._v(\"\\n            No squad selected\\n          \")]),_c('v-card-actions',{staticStyle:{\"justify-content\":\"flex-end\"}},[_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.activeSquadDialog = ''}}},[_vm._v(\"\\n              Back\\n            \")])],1)],1)],2),(!_vm.isCopyMode)?_c('v-speed-dial',{attrs:{\"transition\":\"slide-y-reverse-transition\",\"direction\":\"top\",\"right\":\"\",\"bottom\":\"\",\"fixed\":\"\"},model:{value:(_vm.fabModel),callback:function ($$v) {_vm.fabModel=$$v},expression:\"fabModel\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"color\":\"primary\",\"fab\":\"\"},on:{\"transitionend\":function () { return _vm.repositionTooltip(); }},slot:\"activator\",model:{value:(_vm.fabModel),callback:function ($$v) {_vm.fabModel=$$v},expression:\"fabModel\"}},[_c('v-icon',[_vm._v(\"add\")]),_c('v-icon',[_vm._v(\"close\")])],1),_c('v-tooltip',{attrs:{\"left\":\"\"},model:{value:(_vm.showTooltip),callback:function ($$v) {_vm.showTooltip=$$v},expression:\"showTooltip\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"to\":\"/tools/squads/add\",\"fab\":\"\",\"small\":\"\",\"outline\":\"\"},slot:\"activator\"},[_c('v-icon',[_vm._v(\"add\")])],1),_c('span',[_vm._v(\"New Squad\")])],1),_c('v-tooltip',{attrs:{\"left\":\"\"},model:{value:(_vm.showTooltip),callback:function ($$v) {_vm.showTooltip=$$v},expression:\"showTooltip\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"fab\":\"\",\"small\":\"\",\"outline\":\"\"},on:{\"click\":function($event){_vm.showImportFromCodeModal = true}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"input\")])],1),_c('span',[_vm._v(\"Import From Code\")])],1),_c('v-tooltip',{attrs:{\"left\":\"\"},model:{value:(_vm.showTooltip),callback:function ($$v) {_vm.showTooltip=$$v},expression:\"showTooltip\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"fab\":\"\",\"small\":\"\",\"outline\":\"\"},on:{\"click\":function($event){_vm.showCopyModal = true}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"file_copy\")])],1),_c('span',[_vm._v(\"Copy Existing Squad\")])],1)],1):_vm._e(),_c('v-dialog',{attrs:{\"lazy\":\"\",\"fullscreen\":\"\",\"hide-overlay\":\"\",\"transition\":\"dialog-bottom-transition\"},model:{value:(_vm.showCopyModal),callback:function ($$v) {_vm.showCopyModal=$$v},expression:\"showCopyModal\"}},[_c('v-card',{staticStyle:{\"background-color\":\"var(--background-color)\"}},[_c('v-toolbar',{staticStyle:{\"z-index\":\"5\"},attrs:{\"fixed\":\"\"}},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.showCopyModal = false}}},[_c('v-icon',[_vm._v(\"close\")])],1),_c('v-toolbar-title',[_vm._v(\"Copy Existing Squad\")])],1),(_vm.showCopyModal)?_c('squad-list',{staticStyle:{\"padding-top\":\"128px\",\"padding-bottom\":\"64px\"},attrs:{\"isCopyMode\":true,\"squadDb\":{ units: _vm.units, items: _vm.items, extraSkills: _vm.extraSkills }}}):_vm._e()],1)],1),_c('v-dialog',{attrs:{\"lazy\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.showImportFromCodeModal),callback:function ($$v) {_vm.showImportFromCodeModal=$$v},expression:\"showImportFromCodeModal\"}},[_c('v-card',[_c('v-card-text',[_c('v-textarea',{attrs:{\"rows\":10,\"label\":\"Import Code\"},model:{value:(_vm.importCode),callback:function ($$v) {_vm.importCode=$$v},expression:\"importCode\"}})],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"disabled\":!_vm.importCode,\"flat\":\"\",\"to\":_vm.getSquadUrl(_vm.importCode)}},[_vm._v(\"\\n              Import\\n            \")])],1)],1)],1)]:_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <module-checker\n    :requiredModules=\"requiredModules\"\n    :isExternallyLoading=\"isVisuallyLoading\"\n    externalLoadingMessage=\"Fetching squad information...\"\n    @initfinished=\"getDbData\">\n    <v-container>\n      <v-toolbar\n        app\n        fixed extended\n        scroll-off-screen\n        extension-height=\"72px\"\n      >\n        <v-container\n          v-show=\"!showCopyModal\"\n          fluid\n          slot=\"extension\"\n          id=\"squad-list--search-extension\"\n          :class=\"{ 'pt-0 pb-0 mb-2 px-1': true, focused: searchIsFocused }\">\n          <form @submit.prevent=\"onFilterUpdate\">\n            <v-layout row align-center>\n              <v-flex>\n                <v-text-field\n                  v-model=\"nameFilter\"\n                  @focusin=\"searchIsFocused = true\"\n                  @focusout=\"searchIsFocused = false\"\n                  clearable\n                  :color=\"lightMode ? 'black' : 'white'\"\n                  label=\"Search\"\n                  prepend-inner-icon=\"search\"\n                  :hint=\"`${sortedSquads.length} ${sortedSquads.length === 1 ? 'squad' : 'squads'}`\"\n                  persistent-hint\n                />\n              </v-flex>\n              <v-layout row style=\"flex-grow: 0\">\n                <v-flex style=\"flex-grow: 0\">\n                  <v-btn icon flat @click=\"sortOrderAscending = !sortOrderAscending\">\n                    <v-icon>{{ `fa-sort-alpha-${sortOrderAscending ? 'down' : 'up' }` }}</v-icon>\n                  </v-btn>\n                </v-flex>\n                <v-flex style=\"flex-grow: 0\">\n                  <v-btn\n                    type=\"submit\"\n                    @click=\"onFilterUpdate\"\n                    :outline=\"!filterChanged\"\n                    :color=\"filterChanged ? 'primary' : ''\"\n                    style=\"min-width: 64px;\"\n                    round>\n                    <v-icon>search</v-icon>\n                  </v-btn>\n                </v-flex>\n              </v-layout>\n            </v-layout>\n          </form>\n        </v-container>\n      </v-toolbar>\n      <v-layout row wrap>\n        <v-flex xs12 v-for=\"(squad, i) in squadsToShow\" :key=\"squad.id\">\n          <squad-list-card\n            :id=\"`squad-result-${i + 1}`\"\n            class=\"ma-2\"\n            :squad=\"squad\"\n            :getUnit=\"getUnit\"\n            :getItem=\"getItem\"\n            :getExtraSkill=\"getExtraSkill\"\n            :to=\"`/tools/squads/${squad.id}`\"\n            @share=\"() => { activeSquadIndex = i; activeSquadDialog = 'share'; }\"\n            @delete=\"() => { activeSquadIndex = i; activeSquadDialog = 'delete'; }\"\n          >\n            <template v-if=\"isCopyMode\">\n              <v-card-actions slot=\"card-actions\">\n                <v-spacer/>\n                <v-btn flat :to=\"getSquadUrl(squad)\">\n                  <v-icon left>file_copy</v-icon>\n                  Copy\n                </v-btn>\n              </v-card-actions>\n            </template>\n          </squad-list-card>\n        </v-flex>\n      </v-layout>\n      <v-bottom-nav fixed :value=\"sortedSquads.length > squadsPerPage\" app>\n        <v-pagination\n          style=\"justify-content: center;\"\n          v-model=\"currentPage\"\n          :length=\"numPages\"\n          :total-visible=\"$vuetify.breakpoint.mdAndUp ? 20 : undefined\"\n        />\n      </v-bottom-nav>\n      <template v-if=\"!isCopyMode\">\n        <v-dialog\n          :value=\"!!activeSquadDialog\"\n          @input=\"$v => activeSquadDialog = $v ? activeSquadDialog : ''\"\n          lazy>\n          <template v-if=\"squadsToShow[activeSquadIndex]\">\n            <share-squad-card\n              v-if=\"activeSquadDialog === 'share'\"\n              :squad=\"squadsToShow[activeSquadIndex]\"\n              :getUnit=\"getUnit\"\n              :getItem=\"getItem\"\n              :getExtraSkill=\"getExtraSkill\"\n              @back=\"activeSquadDialog = ''\"/>\n            <delete-squad-card\n              v-else-if=\"activeSquadDialog === 'delete'\"\n              :squad=\"squadsToShow[activeSquadIndex]\"\n              :squadId=\"squadsToShow[activeSquadIndex].id\"\n              :getUnit=\"getUnit\"\n              :getItem=\"getItem\"\n              :getExtraSkill=\"getExtraSkill\"\n              @delete=\"() => { activeSquadDialog = ''; getDbData(); }\"\n              @cancel=\"activeSquadDialog = ''\"/>\n          </template>\n          <v-card v-else>\n            <v-card-text>\n              No squad selected\n            </v-card-text>\n            <v-card-actions style=\"justify-content: flex-end\">\n              <v-btn flat @click=\"activeSquadDialog = ''\">\n                Back\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n        <v-speed-dial\n          v-if=\"!isCopyMode\"\n          v-model=\"fabModel\"\n          transition=\"slide-y-reverse-transition\"\n          direction=\"top\"\n          right bottom\n          fixed>\n          <v-btn\n            v-model=\"fabModel\"\n            @transitionend=\"() => repositionTooltip()\"\n            slot=\"activator\"\n            color=\"primary\"\n            fab>\n            <v-icon>add</v-icon>\n            <v-icon>close</v-icon>\n          </v-btn>\n          <v-tooltip\n            v-model=\"showTooltip\"\n            left>\n            <v-btn\n              to=\"/tools/squads/add\"\n              fab\n              small\n              outline\n              slot=\"activator\">\n              <v-icon>add</v-icon>\n            </v-btn>\n            <span>New Squad</span>\n          </v-tooltip>\n          <v-tooltip\n            v-model=\"showTooltip\"\n            left>\n            <v-btn\n              fab\n              small\n              outline\n              @click=\"showImportFromCodeModal = true\"\n              slot=\"activator\">\n              <v-icon>input</v-icon>\n            </v-btn>\n            <span>Import From Code</span>\n          </v-tooltip>\n          <v-tooltip\n            v-model=\"showTooltip\"\n            left>\n            <v-btn\n              fab\n              small\n              @click=\"showCopyModal = true\"\n              outline\n              slot=\"activator\">\n              <v-icon>file_copy</v-icon>\n            </v-btn>\n            <span>Copy Existing Squad</span>\n          </v-tooltip>\n        </v-speed-dial>\n        <v-dialog\n          v-model=\"showCopyModal\"\n          lazy\n          fullscreen\n          hide-overlay\n          transition=\"dialog-bottom-transition\"\n        >\n          <v-card style=\"background-color: var(--background-color);\">\n            <v-toolbar style=\"z-index: 5;\" fixed>\n              <v-btn icon @click=\"showCopyModal = false\">\n                <v-icon>close</v-icon>\n              </v-btn>\n              <v-toolbar-title>Copy Existing Squad</v-toolbar-title>\n            </v-toolbar>\n            <squad-list\n              v-if=\"showCopyModal\"\n              :isCopyMode=\"true\"\n              :squadDb=\"{ units, items, extraSkills }\"\n              style=\"padding-top: 128px; padding-bottom: 64px;\"\n            />\n          </v-card>\n        </v-dialog>\n        <v-dialog\n          v-model=\"showImportFromCodeModal\"\n          lazy\n          max-width=\"500px\">\n          <v-card>\n            <v-card-text>\n              <v-textarea\n                :rows=\"10\"\n                v-model=\"importCode\"\n                label=\"Import Code\"/>\n            </v-card-text>\n            <v-card-actions>\n              <v-spacer/>\n              <v-btn\n                :disabled=\"!importCode\"\n                flat\n                :to=\"getSquadUrl(importCode)\">\n                Import\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </template>\n    </v-container>\n  </module-checker>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex';\nimport { multidexModuleInfo } from '@/modules/constants';\nimport { ensureContentPadding, delay } from '@/modules/utils';\nimport { squadRequiredModules } from '@/router/tool-routes';\nimport { Logger } from '@/modules/Logger';\nimport { squadToShorthand, getMultidexDatabaseIdsFromSquads } from '@/modules/core/squads';\nimport debounce from 'lodash/debounce';\nimport LoadingDebouncer from '@/modules/LoadingDebouncer';\nimport SquadListCard from '@/components/Tools/Squads/SquadListCard';\nimport ShareSquadCard from '@/components/Tools/Squads/ShareSquadCard';\nimport DeleteSquadCard from '@/components/Tools/Squads/DeleteSquadCard';\nimport ModuleChecker from '@/components/ModuleChecker';\n\n// eslint-disable-next-line no-unused-vars\nconst logger = new Logger({ prefix: '[SquadList]' });\nlet loadingDebouncer;\nexport default {\n  name: 'squad-list',\n  props: {\n    isCopyMode: {\n      type: Boolean,\n      default: false,\n    },\n    squadDb: {\n      required: false,\n    },\n  },\n  components: {\n    SquadListCard,\n    ShareSquadCard,\n    DeleteSquadCard,\n    ModuleChecker,\n  },\n  computed: {\n    ...mapState('settings', ['activeServer', 'lightMode']),\n    requiredModules: () => squadRequiredModules,\n    squads () {\n      return this.$store.state.squads.squads;\n    },\n    sortedSquads () {\n      return Object.freeze(\n        this.filteredSquads\n          .slice()\n          .sort((a, b) => {\n            const result = a.name < b.name ? -1 : 1;\n            return this.sortOrderAscending ? result : -result;\n          })\n      );\n    },\n    squadsPerPage () {\n      return 10;\n    },\n    squadsToShow () {\n      const pageIndex = this.currentPage - 1;\n      const squadStartIndex = pageIndex * this.squadsPerPage;\n      return Object.freeze(this.sortedSquads.slice(squadStartIndex, squadStartIndex + this.squadsPerPage));\n    },\n    numPages () {\n      return Math.ceil(this.sortedSquads.length / this.squadsPerPage);\n    },\n  },\n  data () {\n    return {\n      units: {},\n      items: {},\n      extraSkills: {},\n      isInternallyLoading: false,\n      isVisuallyLoading: false,\n      activeCallToken: '0',\n      nameFilter: '',\n      searchIsFocused: false,\n      filterChanged: false,\n      sortOrderAscending: true,\n      filteredSquads: [],\n      currentPage: 1,\n      activeSquadIndex: -1,\n      activeSquadDialog: '',\n      fabModel: false,\n      showTooltip: true,\n      showCopyModal: false,\n      showImportFromCodeModal: false,\n      importCode: '',\n    };\n  },\n  beforeCreate () {\n    if (loadingDebouncer) {\n      loadingDebouncer.dispose();\n    }\n    loadingDebouncer = new LoadingDebouncer(val => {\n      this.isVisuallyLoading = val;\n    });\n  },\n  methods: {\n    ...mapActions('units', {\n      getUnits: 'getByIds',\n    }),\n    ...mapActions('items', {\n      getItems: 'getByIds',\n    }),\n    ...mapActions('extraSkills', {\n      getExtraSkills: 'getByIds',\n    }),\n    async getDbData () {\n      this.isInternallyLoading = true;\n      // generate unique value on every call\n      const activeCallToken = [(new Date().valueOf()).toString(), Math.random().toString()].join('-');\n      this.activeCallToken = activeCallToken;\n      if (this.squadDb) {\n        this.units = this.squadDb.units;\n        this.items = this.squadDb.items;\n        this.extraSkills = this.squadDb.extraSkills;\n      } else {\n        const squads = await this.$store.dispatch('squads/getSquads', this.$store.state.settings.activeServer)\n          .then(result => {\n            const squads = result.map(s => ({ id: s.id, ...s.squad }));\n            this.$store.commit('squads/setSquadList', squads);\n            return squads;\n          });\n        const databaseIds = getMultidexDatabaseIdsFromSquads(squads);\n  \n        const currentServer = this.activeServer;\n        await [\n          async () => this.units = await this.getUnits({\n            ids: databaseIds.units,\n            server: currentServer,\n            extractedFields: ['id', 'rarity', 'feskills', 'name', 'sbb', 'cost'],\n          }),\n          async () => this.items = await this.getItems({\n            ids: databaseIds.items,\n            server: currentServer,\n            extractedFields: ['name', 'sphere type'],\n          }),\n          async () => this.extraSkills = await this.getExtraSkills({\n            ids: databaseIds.extraSkills,\n            server: currentServer,\n            extractedFields: ['name'],\n          }),\n        ].reduce((acc, val) => acc.then(() => {\n          // only continue if call token is the same\n          if (activeCallToken === this.activeCallToken) {\n            return val();\n          }\n        }), Promise.resolve());\n      }\n      if (activeCallToken === this.activeCallToken) {\n        this.isInternallyLoading = false;\n      }\n    },\n    getUnit (id) {\n      return this.units[id] || {};\n    },\n    getItem (id) {\n      return this.items[id] || {};\n    },\n    getExtraSkill (id) {\n      return this.extraSkills[id] || {};\n    },\n    // TODO: offload filter into a worker\n    filterSquads ({ name = '' } = {}) {\n      const lowerCaseName = name && name.toLowerCase();\n      const includesName = (n) => (n || '').toLowerCase().includes(lowerCaseName);\n      return this.squads.filter(s => {\n        return [\n          () => !lowerCaseName, // check if name has any values\n          () => includesName(s.id.toString()),\n          () => s.name && includesName(s.name),\n          () => s.units.some(u => [\n            () => includesName(this.getUnit(u.id).name),\n            () => u.es && includesName(this.getExtraSkill(u.es).name),\n            () => Array.isArray(u.spheres) && u.spheres.some(i => includesName(this.getItem(i).name)),\n          ].some(v => v())),\n        ].some(v => v());\n      });\n    },\n    onFilterUpdate: debounce(function () {\n      this.filteredSquads = this.filterSquads({ name: this.nameFilter });\n      this.filterChanged = false;\n    }, 300),\n    repositionTooltip: debounce(async function (forceReposition) {\n      if (this.fabModel || forceReposition) {\n        await this.$nextTick();\n        this.showTooltip = false;\n      }\n    }, 200),\n    getModuleName (internalName) {\n      const associatedModule = multidexModuleInfo.find(m => m.name === internalName);\n      return associatedModule ? associatedModule.fullName : internalName;\n    },\n    getSquadUrl (squad) {\n      return this.$router.resolve({\n        path: '/tools/squads/add',\n        query: { import: typeof squad !== 'string' ? squadToShorthand(squad) : squad },\n      }).route.fullPath;\n    },\n  },\n  watch: {\n    isInternallyLoading () {\n      loadingDebouncer.setValue(() => this.isInternallyLoading);\n    },\n    squads: {\n      immediate: true,\n      handler () {\n        this.onFilterUpdate();\n      },\n    },\n    nameFilter () {\n      this.filterChanged = true;\n    },\n    currentPage () {\n      window.scrollTo(0, 0);\n    },\n    activeSquadDialog (newVal) {\n      if (!newVal) {\n        this.activeSquadIndex = -1;\n      }\n    },\n    sortedSquads () {\n      this.currentPage = 1;\n    },\n    async showTooltip (isShowing) {\n      if (!isShowing) {\n        await this.$nextTick();\n        this.showTooltip = true;\n      }\n    },\n    async showCopyModal (isShowing) {\n      this.$store.commit('setHtmlOverflowDisableState', !!isShowing);\n\n      if (!isShowing) {\n        await delay(1000);\n        const toolbarHeight = document.querySelector('nav.v-toolbar').offsetHeight;\n        // 56px is height of bottom navbar\n        ensureContentPadding(toolbarHeight, 56);\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n#squad-list--search-extension {\n  background-color: var(--background-color-alt--lighten-1);\n  border-radius: 28px;\n  transition: border-color 0.25s;\n  border: 1px solid var(--background-color-alt--lighten-1);\n\n  &.focused {\n    border-color: var(--border-color-alt--lighten-2);\n  }\n\n  .v-text-field {\n    .v-input__slot {\n      margin-bottom: 0;\n      &::before, &::after {\n        border-width: 0;\n      }\n    }\n\n    .v-messages {\n      padding-left: 28px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SquadList.vue?vue&type=template&id=5b431e8e&\"\nimport script from \"./SquadList.vue?vue&type=script&lang=js&\"\nexport * from \"./SquadList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SquadList.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"squad-card--share\"},[_c('card-tabs-container',{attrs:{\"tabs\":_vm.tabConfig},model:{value:(_vm.activeTabIndex),callback:function ($$v) {_vm.activeTabIndex=$$v},expression:\"activeTabIndex\"}},[_c('v-layout',{attrs:{\"slot\":\"markdown\",\"column\":_vm.$vuetify.breakpoint.smAndDown,\"row\":_vm.$vuetify.breakpoint.mdAndUp},slot:\"markdown\"},[_c('v-layout',{style:({\n        'max-width': _vm.$vuetify.breakpoint.mdAndUp ? '50%' : '100%',\n        }),attrs:{\"column\":\"\",\"wrap\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('h2',{staticClass:\"title\"},[_vm._v(\"\\n              Formatting\\n            \")])]),_c('v-flex',[_c('v-select',{attrs:{\"items\":_vm.possibleTargets,\"label\":\"Platform\"},model:{value:(_vm.target),callback:function ($$v) {_vm.target=$$v},expression:\"target\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Use Bulleted List\"},model:{value:(_vm.useBullets),callback:function ($$v) {_vm.useBullets=$$v},expression:\"useBullets\"}})],1)],1),_c('v-divider',{staticClass:\"mb-3\"}),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('h2',{staticClass:\"title\"},[_vm._v(\"\\n              Information\\n            \")])]),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"List View\"},model:{value:(_vm.showByList),callback:function ($$v) {_vm.showByList=$$v},expression:\"showByList\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Table View\"},model:{value:(_vm.showByTable),callback:function ($$v) {_vm.showByTable=$$v},expression:\"showByTable\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Squad Name\"},model:{value:(_vm.showName),callback:function ($$v) {_vm.showName=$$v},expression:\"showName\"}})],1),(_vm.sparkResult)?_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"disabled\":!_vm.showName && !_vm.showByTable,\"label\":\"Total Spark Percentage\"},model:{value:(_vm.showTotalSparkability),callback:function ($$v) {_vm.showTotalSparkability=$$v},expression:\"showTotalSparkability\"}})],1):_vm._e(),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"disabled\":!_vm.showByList,\"label\":\"Position\"},model:{value:(_vm.showPosition),callback:function ($$v) {_vm.showPosition=$$v},expression:\"showPosition\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"BB Order\"},model:{value:(_vm.showOrder),callback:function ($$v) {_vm.showOrder=$$v},expression:\"showOrder\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Action\"},model:{value:(_vm.showAction),callback:function ($$v) {_vm.showAction=$$v},expression:\"showAction\"}})],1),(_vm.sparkResult)?_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Show Sparks per Unit\"},model:{value:(_vm.showSparkStatisticsByUnit),callback:function ($$v) {_vm.showSparkStatisticsByUnit=$$v},expression:\"showSparkStatisticsByUnit\"}})],1):_vm._e(),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"disabled\":!_vm.showByList,\"label\":\"Extra Skill\"},model:{value:(_vm.showExtraSkill),callback:function ($$v) {_vm.showExtraSkill=$$v},expression:\"showExtraSkill\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"disabled\":!_vm.showByList,\"label\":\"Spheres\"},model:{value:(_vm.showSpheres),callback:function ($$v) {_vm.showSpheres=$$v},expression:\"showSpheres\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"disabled\":!_vm.showByList,\"label\":\"SP Enhancements\"},model:{value:(_vm.showEnhancements),callback:function ($$v) {_vm.showEnhancements=$$v},expression:\"showEnhancements\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"disabled\":!_vm.showByList,\"label\":\"Abbreviate Results\"},model:{value:(_vm.abbreviate),callback:function ($$v) {_vm.abbreviate=$$v},expression:\"abbreviate\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"disabled\":!_vm.showByList || _vm.abbreviate || !_vm.showEnhancements,\"label\":\"SP Costs\"},model:{value:(_vm.showSpCost),callback:function ($$v) {_vm.showSpCost=$$v},expression:\"showSpCost\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Share Link\"},model:{value:(_vm.showShareLink),callback:function ($$v) {_vm.showShareLink=$$v},expression:\"showShareLink\"}})],1)],1)],1),_c('v-flex',[_c('text-viewer',{staticStyle:{\"height\":\"100%\"},attrs:{\"inputText\":_vm.markdownText,\"value\":_vm.markdownText}})],1)],1),_c('v-layout',{attrs:{\"slot\":\"code\",\"row\":\"\"},slot:\"code\"},[_c('one-line-text-viewer',{staticStyle:{\"flex\":\"0 1 100%\"},attrs:{\"inputText\":_vm.squadShorthand,\"label\":\"Code\",\"value\":_vm.squadShorthand}})],1),_c('v-layout',{attrs:{\"slot\":\"link\",\"row\":\"\"},slot:\"link\"},[_c('one-line-text-viewer',{staticStyle:{\"flex\":\"0 1 100%\"},attrs:{\"inputText\":_vm.shareLink,\"label\":\"Link\",\"value\":_vm.shareLink}})],1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){return _vm.$emit('back')}}},[_vm._v(\"Back\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text-field',{attrs:{\"value\":_vm.inputText,\"label\":_vm.label,\"readonly\":\"\"}}),_c('copy-button',{staticClass:\"mb-0\",attrs:{\"block\":\"\",\"textToCopy\":_vm.inputText,\"value\":_vm.value}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-text-field :value=\"inputText\" :label=\"label\" readonly/>\n    <copy-button block :textToCopy=\"inputText\" :value=\"value\" class=\"mb-0\"/>\n  </div>\n</template>\n\n<script>\nimport CopyButton from '@/components/CopyButton';\nexport default {\n  props: {\n    inputText: {\n      type: String,\n      default: '',\n    },\n    label: {\n      type: String,\n      default: '',\n    },\n    // resets button text on change\n    value: {\n      default: undefined,\n    },\n  },\n  components: {\n    CopyButton,\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OneLineTextViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OneLineTextViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OneLineTextViewer.vue?vue&type=template&id=74910ad5&\"\nimport script from \"./OneLineTextViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./OneLineTextViewer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-card class=\"squad-card--share\">\n    <card-tabs-container :tabs=\"tabConfig\" v-model=\"activeTabIndex\">\n      <v-layout\n        :column=\"$vuetify.breakpoint.smAndDown\"\n        :row=\"$vuetify.breakpoint.mdAndUp\"\n        slot=\"markdown\">\n        <v-layout column wrap :style=\"{\n          'max-width': $vuetify.breakpoint.mdAndUp ? '50%' : '100%',\n          }\">\n          <v-layout row wrap>\n            <v-flex xs12>\n              <h2 class=\"title\">\n                Formatting\n              </h2>\n            </v-flex>\n            <v-flex>\n              <v-select\n                v-model=\"target\"\n                :items=\"possibleTargets\"\n                label=\"Platform\"/>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"useBullets\" label=\"Use Bulleted List\"/>\n            </v-flex>\n          </v-layout>\n          <v-divider class=\"mb-3\"/>\n          <v-layout row wrap>\n            <v-flex xs12>\n              <h2 class=\"title\">\n                Information\n              </h2>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"showByList\" label=\"List View\"/>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"showByTable\" label=\"Table View\"/>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"showName\" label=\"Squad Name\"/>\n            </v-flex>\n            <v-flex xs12 sm6 v-if=\"sparkResult\">\n              <v-checkbox v-model=\"showTotalSparkability\" :disabled=\"!showName && !showByTable\" label=\"Total Spark Percentage\"/>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"showPosition\" :disabled=\"!showByList\" label=\"Position\"/>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"showOrder\" label=\"BB Order\"/>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"showAction\" label=\"Action\"/>\n            </v-flex>\n            <v-flex xs12 sm6 v-if=\"sparkResult\">\n              <v-checkbox v-model=\"showSparkStatisticsByUnit\" label=\"Show Sparks per Unit\"/>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"showExtraSkill\" :disabled=\"!showByList\" label=\"Extra Skill\"/>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"showSpheres\" :disabled=\"!showByList\" label=\"Spheres\"/>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"showEnhancements\" :disabled=\"!showByList\" label=\"SP Enhancements\"/>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"abbreviate\" :disabled=\"!showByList\" label=\"Abbreviate Results\"/>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"showSpCost\" :disabled=\"!showByList || abbreviate || !showEnhancements\" label=\"SP Costs\"/>\n            </v-flex>\n            <v-flex xs12 sm6>\n              <v-checkbox v-model=\"showShareLink\" label=\"Share Link\"/>\n            </v-flex>\n          </v-layout>\n        </v-layout>\n        <v-flex>\n          <text-viewer\n            style=\"height: 100%;\"\n            :inputText=\"markdownText\"\n            :value=\"markdownText\"/>\n        </v-flex>\n      </v-layout>\n      <v-layout row slot=\"code\">\n        <one-line-text-viewer\n          style=\"flex: 0 1 100%;\"\n          :inputText=\"squadShorthand\"\n          label=\"Code\"\n          :value=\"squadShorthand\"\n        />\n      </v-layout>\n      <v-layout row slot=\"link\">\n        <one-line-text-viewer\n          style=\"flex: 0 1 100%;\"\n          :inputText=\"shareLink\"\n          label=\"Link\"\n          :value=\"shareLink\"\n        />\n      </v-layout>\n    </card-tabs-container>\n    <v-divider/>\n    <v-card-actions>\n      <v-spacer/>\n      <v-btn flat @click=\"$emit('back')\">Back</v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\nimport { spCodeToIndex, getSpDescription, getSpCost } from '@/modules/core/units';\nimport { squadToShorthand } from '@/modules/core/squads';\nimport { squadUnitActions, squadFillerMapping, unitPositionMapping } from '@/modules/constants';\nimport CardTabsContainer from '@/components/CardTabsContainer';\nimport TextViewer from '@/components/TextViewer';\nimport OneLineTextViewer from '@/components/OneLineTextViewer';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\n\nexport default {\n  mixins: [GettersMixin],\n  props: {\n    squad: {\n      type: Object,\n      required: true,\n    },\n    sparkResult: {\n      required: false,\n    },\n  },\n  components: {\n    CardTabsContainer,\n    TextViewer,\n    OneLineTextViewer,\n  },\n  computed: {\n    tabConfig: () => ['markdown', 'code', 'link'].map(name => ({ name, slot: name })),\n    copyableJson () {\n      // don't need to share ID to export\n      // eslint-disable-next-line no-unused-vars\n      const { id, ...otherInfo } = this.squad;\n      return otherInfo;\n    },\n    markdownText () {\n      return this.squadToMarkdown(this.squad, this);\n    },\n    squadShorthand () {\n      return squadToShorthand(this.squad);\n    },\n    shareLink () {\n      const path = this.$router.resolve({ path: '/tools/squads/add', query: { import: this.squadShorthand }}).href;\n      return `${location.protocol}//${location.host}${location.pathname}${path}`;\n    },\n    possibleTargets: () => ['Discord', 'Reddit'],\n    sparkTextByUnit () {\n      const mapping = new Map();\n      if (this.sparkResult) {\n        this.squad.units.forEach(unit => {\n          const sparkUnitResult = this.sparkResult.squad.find(s => unit.position === s.position);\n          if (sparkUnitResult) {\n            mapping.set(unit, `(${sparkUnitResult.actualSparks}/${sparkUnitResult.possibleSparks})`);\n          }\n        });\n      }\n      return mapping;\n    },\n  },\n  data () {\n    return {\n      activeTabIndex: 0,\n      updateTime: new Date(), // used to reset copy text\n      showPosition: false,\n      showAction: false,\n      showOrder: false,\n      showName: false,\n      useBullets: false,\n      abbreviate: false,\n      showSpCost: false,\n      showShareLink: false,\n      showExtraSkill: false,\n      showSpheres: false,\n      showEnhancements: false,\n      showSparkStatisticsByUnit: true,\n      showTotalSparkability: true,\n      showByList: true,\n      showByTable: true,\n      target: 'Discord',\n    };\n  },\n  mounted () {\n    this.setWithPreset();\n  },\n  methods: {\n    squadToMarkdown (\n      squad = {},\n      options = {},\n    ) {\n      const {\n        showPosition = true,\n        showAction = true,\n        showOrder = true,\n        showName = false,\n        useBullets = true,\n        abbreviate = false,\n        showSpCost = true,\n        showShareLink = false,\n        showExtraSkill = false,\n        showSpheres = false,\n        showEnhancements = true,\n        showSparkStatisticsByUnit = true,\n        showTotalSparkability = true,\n        showByList = true,\n        showByTable = true,\n      } = options;\n\n      const sections = [];\n\n      if (showName) {\n        const nameLine = [\n          `${squad.name}`,\n          showTotalSparkability && this.sparkResult && `(${(this.sparkResult.weightedPercentage * 100).toFixed(2)}%)`,\n        ].filter(v => v).join(' ');\n        sections.push(`# ${nameLine}\\n`);\n      }\n      if (showByList) {\n        squad.units.forEach((unit, i) => {\n          const entry = [];\n          let prefix = useBullets ? '*' : '';\n          const isFillerUnit = unit.id === squadFillerMapping.ANY || unit.id === squadFillerMapping.EMPTY;\n          // name, position, BB order and type\n          entry.push([\n            prefix,\n            isFillerUnit && `**__${this.getUnit(unit.id).name || unit.id}__**`,\n            !isFillerUnit && [\n              `**__${this.getUnit(unit.id).rarity && `${this.getUnit(unit.id).rarity === 8 ? 'OE' : `${this.getUnit(unit.id).rarity}\\\\*`}`}`,\n              `${this.getUnit(unit.id).name || unit.id}__**`,\n              ].join(' '),\n            i === squad.lead && `**(${abbreviate ? 'L' : 'Leader'})**`,\n            i === squad.friend && `**(${abbreviate ? 'F' : 'Friend'})**`,\n            (showPosition || showOrder || showAction) && '-',\n            [\n              showPosition && unit.position,\n              [showOrder && unit.bbOrder, showAction && this.getActionText(unit)].filter(v => v).join('-'),\n            ].filter(v => v).join('; '),\n            showSparkStatisticsByUnit && this.sparkTextByUnit.get(unit),\n          ].filter(v => v).join(' '));\n\n          // indent one level for supplementary info\n          if (useBullets) {\n            prefix = '\\t*';\n          }\n\n          if (showExtraSkill && unit.es) {\n            entry.push([\n              prefix,\n              `**${abbreviate ? 'ES' : 'Extra Skill'}:**`,\n              this.getExtraSkill(unit.es).name || unit.es,\n            ].filter(v => v).join(' '));\n          }\n\n          if (showSpheres && Array.isArray(unit.spheres) && unit.spheres.length > 0) {\n            entry.push([\n              prefix,\n              '**Spheres:**',\n              unit.spheres.map(id => this.getItem(id).name || id).join(', '),\n            ].filter(v => v).join(' '));\n          }\n\n          if (showEnhancements && unit.sp && this.getSpCost(unit) > 0) {\n            entry.push([\n              prefix,\n              `**SP Enhancements (${this.getSpCost(unit)} SP):**`,\n              abbreviate && unit.sp,\n\n              // convert SP code to list of SP options\n              !abbreviate && ['\\n', this.getSpText(unit).map(skill => [\n                `\\t${useBullets ? `${prefix} ` : ''}`,\n                showSpCost && `[${skill.cost} SP] - `,\n                `**${skill.code}:** ${skill.text}`,\n              ].filter(v => v).join('')).join('\\n')].join(''),\n            ].filter(v => v).join(' '));\n          }\n\n          sections.push(`${entry.join('\\n')}\\n`);\n        });\n      }\n\n      if (showByTable) {\n        sections.push(`${this.getTableView(options)}\\n`);\n      }\n\n      if (showShareLink) {\n        const linkText = this.target === 'Reddit'\n          ? `[Save Squad](${this.shareLink})`\n          : `Save Squad: ${this.shareLink}`;\n        sections.push(linkText);\n      }\n\n      return sections.join('\\n');\n    },\n    getActionText (unit = {}) {\n      // default to SBB or below (depending on if the unit has it)\n      const action = unit.action ||\n        (this.getUnit(unit.id).sbb && squadUnitActions.SBB) ||\n        (this.getUnit(unit.id).bb && squadUnitActions.BB) ||\n        (squadUnitActions.ATK);\n      return action.toUpperCase();\n    },\n    getSpCost (unit = {}) {\n      const feSkills = this.getUnit(unit.id).feskills;\n      const enhancements = unit.sp;\n      return getSpCost(feSkills, enhancements);\n    },\n    getSpText (unit) {\n      const feSkills = this.getUnit(unit.id).feskills;\n      const enhancements = unit.sp;\n      if (!feSkills || !enhancements) {\n        return [];\n      }\n\n      return enhancements.split('')\n        .map(char => ({\n          code: char,\n          skill: feSkills[spCodeToIndex(char)],\n        }))\n        .filter(v => v.skill) // only get valid skills\n        .map(v => ({\n          code: v.code,\n          text: getSpDescription(v.skill),\n          cost: v.skill.skill.bp,\n        }));\n    },\n    setWithPreset () {\n      // shared settings\n      this.showOrder = true;\n      this.abbreviate = false;\n      this.showSpCost = true;\n      this.showShareLink = true;\n      this.showExtraSkill = true;\n      this.showSpheres = true;\n      this.showEnhancements = true;\n      this.showPosition = true;\n      this.showAction = true;\n\n      // individual settings\n      this.showName = this.target === 'Discord';\n      this.useBullets = this.target === 'Reddit';\n    },\n    getTableView (options) {\n      const {\n        showAction = true,\n        showOrder = true,\n        showName = false,\n        showSparkStatisticsByUnit = true,\n        showTotalSparkability = true,\n      } = options;\n      const { squad, getUnit, sparkTextByUnit, getActionText } = this;\n      const isDiscord = this.target === 'Discord';\n      const names = unitPositionMapping.map(position => {\n        const i = squad.units.findIndex(u => u.position === position);\n        const unit = squad.units[i];\n        const isFillerUnit = unit.id === squadFillerMapping.ANY || unit.id === squadFillerMapping.EMPTY;\n        // name, position, BB order and type\n        const nameLine = [\n          isFillerUnit && `**__${getUnit(unit.id).name || unit.id}__**`,\n          !isFillerUnit && [\n            `**__${getUnit(unit.id).rarity && `${getUnit(unit.id).rarity === 8 ? 'OE' : `${getUnit(unit.id).rarity}\\\\*`}`}`,\n            `${getUnit(unit.id).name || unit.id}__**`,\n            ].join(' '),\n          i === squad.lead && '**(L)**',\n          i === squad.friend && '**(F)**',\n          '-',\n          [\n            showOrder && unit.bbOrder,\n            showAction && getActionText(unit),\n          ].filter(v => v).join('-'),\n          showSparkStatisticsByUnit && sparkTextByUnit.get(unit),\n        ].filter(v => v).join(' ');\n        return isDiscord\n          ? nameLine.replace(/\\*\\*/g, '').replace(/__/g, '')\n          : nameLine;\n      });\n      const sparkTitle = (this.sparkResult && `${(this.sparkResult.weightedPercentage * 100).toFixed(2)}%`) || '';\n      const shouldShowSparkResults = showTotalSparkability && !showName;\n      let result;\n      if (isDiscord) {\n        // formatted code block\n        const maxLeftNameLength = names.reduce((acc, name, i) => Math.max(acc, i % 2 === 0 ? name.length : 0), 0);\n        const initialOutput = names.map((name, i) => `${name.padEnd(maxLeftNameLength, ' ')}${i % 2 === 0 ? ' | ' : '\\n'}`)\n          .join('').trim();\n        const CODE_BLOCK_INDICATOR = '```';\n        result = [\n          CODE_BLOCK_INDICATOR,\n          shouldShowSparkResults && sparkTitle,\n          initialOutput,\n          CODE_BLOCK_INDICATOR,\n        ].filter(v => v).join('\\n');\n      } else {\n        // markdown table\n        const initialOutput = names.map((name, i) => `${i % 2 === 0 ? '| ' : ''}${name}${i % 2 === 0 ? ' | ' : ' |\\n'}`);\n        result = [\n          `|${shouldShowSparkResults ? ` ${sparkTitle}` : ''} | |`,\n          '| --- | --- |',\n          initialOutput.join('').trim(),\n        ].join('\\n');\n      }\n\n      return result;\n    },\n  },\n  watch: {\n    target () {\n      this.setWithPreset();\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.squad-card--share {\n  .v-card__actions {\n    position: sticky;\n    bottom: 0;\n    background-color: inherit;\n\n    a:not(:hover):before {\n      background-color: inherit;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareSquadCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareSquadCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShareSquadCard.vue?vue&type=template&id=f653f098&\"\nimport script from \"./ShareSquadCard.vue?vue&type=script&lang=js&\"\nexport * from \"./ShareSquadCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ShareSquadCard.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SparkUnitEntryEditable.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SparkUnitEntryEditable.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadArenaSuggestionTable.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadArenaSuggestionTable.vue?vue&type=style&index=0&lang=less&\"","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"8beed0ebc1cac4397f51.worker.js\");\n};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('generic-sprite-icon',{attrs:{\"iconTitle\":_vm.label,\"iconWidth\":_vm.sheetSize[0],\"iconHeight\":_vm.sheetSize[1],\"sheetWidth\":_vm.sheetSize[0],\"sheetHeight\":_vm.sheetSize[1],\"displayWidth\":_vm.displaySize,\"displayHeight\":_vm.displaySize,\"src\":_vm.iconSrc,\"iconX\":0,\"iconY\":0}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <generic-sprite-icon\n    :iconTitle=\"label\"\n    :iconWidth=\"sheetSize[0]\" :iconHeight=\"sheetSize[1]\"\n    :sheetWidth=\"sheetSize[0]\" :sheetHeight=\"sheetSize[1]\"\n    :displayWidth=\"displaySize\" :displayHeight=\"displaySize\"\n    :src=\"iconSrc\"\n    :iconX=\"0\" :iconY=\"0\"/>\n</template>\n\n<script>\nimport GenericSpriteIcon from '@/components/GenericSpriteIcon';\n\nexport default {\n  props: {\n    displaySize: {\n      type: Number,\n      default: 52,\n    },\n  },\n  components: {\n    GenericSpriteIcon,\n  },\n  computed: {\n    label: () => 'Leader Unit',\n    iconSrc () {\n      return require('@/assets/battle_leader_icon.png');\n    },\n    sheetSize () {\n      return [17, 22];\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MiniLeaderIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MiniLeaderIcon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MiniLeaderIcon.vue?vue&type=template&id=7c2890fa&\"\nimport script from \"./MiniLeaderIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./MiniLeaderIcon.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('table',{staticClass:\"sp-table\"},[_c('thead',[_c('th',{staticClass:\"sp-column\"},[_c('v-checkbox',{staticClass:\"mt-0\",attrs:{\"label\":(_vm.activeSkillSum + \" SP\"),\"input-value\":_vm.overallState === 'all',\"indeterminate\":_vm.overallState === 'some',\"hide-details\":\"\"},nativeOn:{\"click\":function($event){return _vm.toggleOverallState($event)}}})],1),_c('th',{staticClass:\"type-column\"},[_c('v-subheader',{staticClass:\"flex-container align-center justify-center px-0\"},[_vm._v(\"Type\")])],1),_c('th',{staticClass:\"description-column\"},[_c('v-subheader',{staticClass:\"flex-container align-center px-0\"},[_vm._v(\"Description\")])],1)]),_c('tbody',[_vm._l((_vm.feSkills),function(spEntry,index){return [_c('tr',{key:(index + \"-content\"),class:(\"content-row content-row--\" + (index % 2 === 0 ? 'even' : 'odd'))},[_c('td',{staticClass:\"sp-column\"},[_c('v-checkbox',{attrs:{\"label\":((spEntry.skill.bp) + \" SP\"),\"input-value\":_vm.selectedSpEntries.includes(_vm.spIndexToCode(index))},nativeOn:{\"click\":function($event){return _vm.toggleSpEntry(index, spEntry)}}})],1),_c('td',{staticClass:\"type-column text-xs-center\"},[_c('sp-icon',{attrs:{\"category\":+spEntry.category,\"displaySize\":24}})],1),_c('td',{staticClass:\"description-column py-2\"},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\",\"justify-space-between\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm8\":\"\"}},[_c('span',{staticClass:\"d-block\",domProps:{\"innerHTML\":_vm._s(_vm.getSpDescription(index))}}),(spEntry.dependency)?_c('i',[_vm._v(\"\\n                \"+_vm._s(_vm.getSpDependencyText(spEntry))+\"\\n              \")]):_vm._e()]),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\"}},[(!_vm.showTables.includes(index))?_c('v-btn',{attrs:{\"block\":\"\",\"flat\":\"\"},on:{\"click\":function($event){return _vm.showTables.push(index)}}},[_vm._v(\"\\n                Show Data\\n              \")]):_c('v-btn',{attrs:{\"block\":\"\",\"flat\":\"\"},on:{\"click\":function($event){_vm.showTables = _vm.showTables.filter(function (elem) { return elem !== index; })}}},[_vm._v(\"\\n                Hide Data\\n              \")])],1)],1)],1)]),_c('v-slide-y-transition',{key:(index + \"-table\")},[_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTables.includes(index)),expression:\"showTables.includes(index)\"}],class:(\"buff-row buff-row--\" + (index % 2 === 0 ? 'even' : 'odd'))},[_c('td',{staticStyle:{\"overflow-x\":\"auto\"},attrs:{\"colspan\":\"3\"}},[_c('buff-table',{staticClass:\"mb-2\",attrs:{\"effects\":_vm.getSpEffects(spEntry, true),\"showHeaders\":true}})],1)])])]})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <table class=\"sp-table\">\n    <thead>\n      <th class=\"sp-column\">\n        <v-checkbox\n          class=\"mt-0\"\n          :label=\"`${activeSkillSum} SP`\"\n          :input-value=\"overallState === 'all'\"\n          :indeterminate=\"overallState === 'some'\"\n          @click.native=\"toggleOverallState\"\n          hide-details/>\n      </th>\n      <th class=\"type-column\">\n        <v-subheader class=\"flex-container align-center justify-center px-0\">Type</v-subheader>\n      </th>\n      <th class=\"description-column\">\n        <v-subheader class=\"flex-container align-center px-0\">Description</v-subheader>\n      </th>\n    </thead>\n    <tbody>\n      <template v-for=\"(spEntry, index) in feSkills\">\n        <tr :key=\"`${index}-content`\" :class=\"`content-row content-row--${index % 2 === 0 ? 'even' : 'odd'}`\">\n          <td class=\"sp-column\">\n            <v-checkbox\n              :label=\"`${spEntry.skill.bp} SP`\"\n              :input-value=\"selectedSpEntries.includes(spIndexToCode(index))\"\n              @click.native=\"toggleSpEntry(index, spEntry)\"\n            />\n          </td>\n          <td class=\"type-column text-xs-center\">\n            <sp-icon :category=\"+spEntry.category\" :displaySize=\"24\"/>\n          </td>\n          <td class=\"description-column py-2\">\n            <v-layout row wrap align-center justify-space-between>\n              <v-flex xs12 sm8>\n                <span class=\"d-block\" v-html=\"getSpDescription(index)\"/>\n                <i v-if=\"spEntry.dependency\">\n                  {{ getSpDependencyText(spEntry) }}\n                </i>\n              </v-flex>\n              <v-flex xs12 sm4>\n                <v-btn\n                  v-if=\"!showTables.includes(index)\"\n                  block flat\n                  @click=\"showTables.push(index)\">\n                  Show Data\n                </v-btn>\n                <v-btn\n                  v-else\n                  block flat\n                  @click=\"showTables = showTables.filter(elem => elem !== index)\">\n                  Hide Data\n                </v-btn>\n              </v-flex>\n            </v-layout>\n          </td>\n        </tr>\n        <v-slide-y-transition :key=\"`${index}-table`\">\n          <tr\n            v-show=\"showTables.includes(index)\"\n            :class=\"`buff-row buff-row--${index % 2 === 0 ? 'even' : 'odd'}`\">\n            <td colspan=\"3\" style=\"overflow-x: auto;\">\n              <buff-table\n                class=\"mb-2\"\n                :effects=\"getSpEffects(spEntry, true)\"\n                :showHeaders=\"true\"/>\n            </td>\n          </tr>\n        </v-slide-y-transition>\n      </template>\n    </tbody>\n  </table>\n</template>\n\n<script>\nimport {\n  getSpEntryEffects,\n  spIndexToCode,\n  getSpCost,\n  getAllDependenciesFromSpEntry,\n  getAllEntriesThatDependOnSpEntry,\n  getSpDescription,\n  getSpDependencyText,\n} from '@/modules/core/units';\nimport debounce from 'lodash/debounce';\nimport SpIcon from '@/components/Multidex/Units/SpIcon';\nimport BuffTable from '@/components/Multidex/BuffTableGrid/MainTable';\n\nexport default {\n  props: {\n    feSkills: {\n      type: Array,\n      required: true,\n    },\n    value: {\n      type: String,\n      default: '',\n    },\n  },\n  components: {\n    SpIcon,\n    BuffTable,\n  },\n  computed: {\n    allEnhancementsCode () {\n      return this.feSkills.map((_, i) => spIndexToCode(i)).join('');\n    },\n    allEnhancementsSum () {\n      return getSpCost(this.feSkills, this.allEnhancementsCode);\n    },\n    overallState () {\n      if (this.activeSkillSum === this.allEnhancementsSum) {\n        return 'all';\n      } else if (this.activeSkillSum === 0) {\n        return 'none';\n      } else {\n        return 'some';\n      }\n    },\n    allEffects () {\n      return !this.feSkills ? [] : this.feSkills\n        .map(s => this.getSpEffects(s, false))\n        .reduce((acc, val) => acc.concat(val), []);\n    },\n  },\n  data () {\n    return {\n      selectedSpEntries: [],\n      activeSkillSum: 0,\n      showTables: [],\n      effectCache: new WeakMap(),\n      cacheChangeToken: Date.now(),\n    };\n  },\n  mounted () {\n    this.computeActiveSum();\n  },\n  methods: {\n    getSpEffects (spEntry, useCache = false) {\n      if (useCache) {\n        if (!this.effectCache.has(spEntry)) {\n          this.effectCache.set(spEntry, getSpEntryEffects(spEntry));\n          this.cacheExchangeToken = Date.now();\n        }\n        return this.effectCache.get(spEntry);\n      } else {\n        return getSpEntryEffects(spEntry);\n      }\n    },\n    getSpDescription (entryIndex) {\n      return `<b>${spIndexToCode(entryIndex)}</b>: ${getSpDescription(this.feSkills[entryIndex])}`;\n    },\n    getSpDependencyText (spEntry) {\n      return getSpDependencyText(spEntry, this.feSkills);\n    },\n    spIndexToCode,\n    toggleOverallState () {\n      if (this.overallState === 'all') {\n        this.selectedSpEntries = [];\n      } else {\n        this.selectedSpEntries = this.allEnhancementsCode.split('');\n      }\n    },\n    computeActiveSum: debounce(function () {\n      this.activeSkillSum = getSpCost(this.feSkills, this.selectedSpEntries.join(''));\n    }, 50),\n    toggleSpEntry (index, spEntry) {\n      const code = spIndexToCode(index);\n      const isCurrentlyActive = this.selectedSpEntries.includes(code);\n      let newEntries = this.selectedSpEntries.slice();\n      if (isCurrentlyActive) {\n        // toggle off entry and entries dependent on it\n        const dependentEntries = getAllEntriesThatDependOnSpEntry(spEntry, this.feSkills);\n        newEntries = newEntries.filter(activeCode => {\n          return activeCode !== code && !dependentEntries.includes(activeCode);\n        });\n      } else {\n        // toggle on entry and entries it depends on\n        newEntries.push(code);\n\n        const dependencies = getAllDependenciesFromSpEntry(spEntry, this.feSkills);\n        dependencies.forEach(depCode => {\n          if (!newEntries.includes(depCode)) {\n            newEntries.push(depCode);\n          }\n        });\n      }\n\n      this.selectedSpEntries = newEntries;\n    },\n  },\n  watch: {\n    value: {\n      immediate: true,\n      handler (newValue) {\n        this.selectedSpEntries = newValue.split('');\n      },\n    },\n    selectedSpEntries (newValue) {\n      this.computeActiveSum();\n      const enhancementCode = newValue.slice().sort().join('');\n      if (enhancementCode !== this.value) {\n        this.$emit('input', enhancementCode);\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\ntable.sp-table {\n  --table-border-color: var(--background-color-alt);\n  --table-background-color: var(--background-color-alt--lighten-1);\n  --table-border-settings: 1px solid var(--table-border-color);\n\n  table-layout: fixed;\n  width: 100%;\n  border-collapse: collapse;\n\n  & > thead, & > tbody {\n    .sp-column {\n      width: 6.5em;\n    }\n    .type-column {\n      width: 3.5em;\n    }\n  }\n\n  & > thead > th {\n    font-weight: bold;\n    border-bottom: var(--table-border-settings);\n  }\n\n  & > tbody > tr {\n    &.content-row--odd, &.buff-row--odd {\n      background-color: var(--table-border-color);\n    }\n\n    &.buff-row {\n      overflow-x: auto;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpBuildTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpBuildTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SpBuildTable.vue?vue&type=template&id=2c20c877&\"\nimport script from \"./SpBuildTable.vue?vue&type=script&lang=js&\"\nexport * from \"./SpBuildTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SpBuildTable.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('module-checker',{attrs:{\"requiredModules\":_vm.requiredModules,\"ensureDbSync\":true}},[_c('v-container',[_c('v-layout',{attrs:{\"column\":\"\"}},[_c('v-flex',[_c('v-card',[_c('card-tabs-container',{attrs:{\"tabs\":_vm.tabConfig},model:{value:(_vm.activeTabIndex),callback:function ($$v) {_vm.activeTabIndex=$$v},expression:\"activeTabIndex\"}},[_c('v-layout',{attrs:{\"slot\":\"squad\",\"column\":\"\"},slot:\"squad\"},[_c('v-flex',[_c('squad-list-card-editable',{attrs:{\"flat\":\"\",\"squad\":_vm.squad,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"isLoadingInParent\":_vm.isLoadingSquadData},on:{\"selectedindex\":function ($ev) { return _vm.selectedIndex = $ev; },\"newsquad\":function ($ev) { return _vm.squad = $ev; },\"newunits\":function ($ev) { return _vm.squad.units = $ev; },\"save\":_vm.onSuccessfulSave}})],1)],1),_c('v-layout',{attrs:{\"slot\":\"import-code\",\"column\":\"\"},slot:\"import-code\"},[_c('v-flex',[_c('v-text-field',{model:{value:(_vm.inputCode),callback:function ($$v) {_vm.inputCode=$$v},expression:\"inputCode\"}})],1),(_vm.parsingCode)?_c('v-flex',[_c('loading-indicator',{attrs:{\"loadingMessage\":\"Parsing input code\"}})],1):(_vm.parseState.type)?_c('v-flex',[_c('v-alert',{staticClass:\"squad-message-alert\",attrs:{\"outline\":\"\",\"value\":true,\"type\":_vm.parseState.type}},[_c('div',[_c('div',{staticClass:\"d-flex-container items-center\"},[_c('span',{staticStyle:{\"flex\":\"auto\"}},[_vm._v(_vm._s(_vm.parseState.message))]),(_vm.warningMessages.length > 0)?_c('v-btn',{staticStyle:{\"flex\":\"none\"},attrs:{\"flat\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.showWarnings = !_vm.showWarnings}}},[_c('v-icon',[_vm._v(_vm._s(_vm.showWarnings ? 'keyboard_arrow_up' : 'keyboard_arrow_down'))])],1):_vm._e()],1),(_vm.warningMessages.length > 0)?_c('div',[_c('v-expansion-panel',{attrs:{\"value\":_vm.showWarnings ? 0 : -1},on:{\"input\":function ($val) { return _vm.showWarnings = $val === 0; }}},[_c('v-expansion-panel-content',{key:0},[_c('v-list',_vm._l((_vm.warningMessages),function(message){return _c('v-list-tile',{key:message},[_c('v-list-tile-content',[_c('v-list-tile-title',{staticClass:\"pl-2\"},[_vm._v(\"\\n                                  \"+_vm._s(message)+\"\\n                                \")])],1)],1)}),1)],1)],1)],1):_vm._e()])])],1):_vm._e(),_c('v-layout',{attrs:{\"justify-end\":\"\"}},[_c('v-flex',{staticStyle:{\"flex-grow\":\"0\"}},[_c('v-btn',{attrs:{\"disabled\":!_vm.inputCode || _vm.parsingCode,\"flat\":\"\"},on:{\"click\":_vm.attemptSquadImport}},[_vm._v(\"\\n                    Import\\n                  \")])],1)],1)],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <module-checker\n    :requiredModules=\"requiredModules\"\n    :ensureDbSync=\"true\">\n    <v-container>\n      <v-layout column>\n        <v-flex>\n          <v-card>\n            <card-tabs-container :tabs=\"tabConfig\" v-model=\"activeTabIndex\">\n              <v-layout column slot=\"squad\">\n                <v-flex>\n                  <squad-list-card-editable\n                    flat\n                    @selectedindex=\"$ev => selectedIndex = $ev\"\n                    @newsquad=\"$ev => squad = $ev\"\n                    @newunits=\"$ev => squad.units = $ev\"\n                    @save=\"onSuccessfulSave\"\n                    :squad=\"squad\"\n                    :getUnit=\"getUnit\"\n                    :getItem=\"getItem\"\n                    :getExtraSkill=\"getExtraSkill\"\n                    :isLoadingInParent=\"isLoadingSquadData\"/>\n                </v-flex>\n              </v-layout>\n              <v-layout column slot=\"import-code\">\n                <v-flex>\n                  <v-text-field v-model=\"inputCode\"/>\n                </v-flex>\n                <v-flex v-if=\"parsingCode\">\n                  <loading-indicator loadingMessage=\"Parsing input code\"/>\n                </v-flex>\n                <v-flex v-else-if=\"parseState.type\">\n                  <v-alert\n                    class=\"squad-message-alert\"\n                    outline\n                    :value=\"true\"\n                    :type=\"parseState.type\">\n                    <div>\n                      <div class=\"d-flex-container items-center\">\n                        <span style=\"flex: auto;\">{{ parseState.message }}</span>\n                        <v-btn\n                          v-if=\"warningMessages.length > 0\"\n                          @click=\"showWarnings = !showWarnings\"\n                          flat icon style=\"flex: none;\">\n                          <v-icon>{{ showWarnings ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}</v-icon>\n                        </v-btn>\n                      </div>\n                      <div v-if=\"warningMessages.length > 0\">\n                        <v-expansion-panel\n                          :value=\"showWarnings ? 0 : -1\"\n                          @input=\"$val => showWarnings = $val === 0\">\n                          <v-expansion-panel-content :key=\"0\">\n                            <v-list>\n                              <v-list-tile\n                                v-for=\"message in warningMessages\"\n                                :key=\"message\">\n                                <v-list-tile-content>\n                                  <v-list-tile-title class=\"pl-2\">\n                                    {{ message }}\n                                  </v-list-tile-title>\n                                </v-list-tile-content>\n                              </v-list-tile>\n                            </v-list>\n                          </v-expansion-panel-content>\n                        </v-expansion-panel>\n                      </div>\n                    </div>\n                  </v-alert>\n                </v-flex>\n                <v-layout justify-end>\n                  <v-flex style=\"flex-grow: 0;\">\n                    <v-btn\n                      @click=\"attemptSquadImport\"\n                      :disabled=\"!inputCode || parsingCode\"\n                      flat>\n                      Import\n                    </v-btn>\n                  </v-flex>\n                </v-layout>\n              </v-layout>\n            </card-tabs-container>\n          </v-card>\n        </v-flex>\n      </v-layout>\n    </v-container>\n  </module-checker>\n</template>\n\n<script>\nimport { squadRequiredModules } from '@/router/tool-routes';\nimport {\n  shorthandToSquad,\n  squadToShorthand,\n  generateDefaultSquad,\n  getMultidexDatabaseIdsFromSquads,\n  fixSquadErrors,\n} from '@/modules/core/squads';\nimport { Logger } from '@/modules/Logger';\nimport { mapState, mapActions } from 'vuex';\nimport ModuleChecker from '@/components/ModuleChecker';\nimport CardTabsContainer from '@/components/CardTabsContainer';\nimport SquadListCardEditable from '@/components/Tools/Squads/SquadListCardEditable';\nimport LoadingIndicator from '@/components/LoadingIndicator';\n\nconst logger = new Logger({ prefix: '[SquaddAdd]' });\nexport default {\n  props: {\n    importSquad: {\n      type: String,\n      default: '',\n    },\n  },\n  components: {\n    ModuleChecker,\n    CardTabsContainer,\n    SquadListCardEditable,\n    LoadingIndicator,\n  },\n  computed: {\n    ...mapState('settings', ['activeServer']),\n    ...mapState('units', {\n      allUnits: 'pageDb',\n    }),\n    ...mapState('items', {\n      allItems: 'pageDb',\n    }),\n    ...mapState('extraSkills', {\n      allExtraSkills: 'pageDb',\n    }),\n    requiredModules: () => squadRequiredModules,\n    tabConfig: () => ['squad', 'import code'].map(name => ({ name, slot: name.replace(/ /g, '-') })),\n    parseState () {\n      const type = (this.parseErrorMessage && 'error') ||\n        (this.parsedSuccessfully && this.warningMessages.length === 0 && 'success') ||\n        (this.parsedSuccessfully && this.warningMessages.length > 0 && 'warning');\n      const message = this.parseErrorMessage ||\n       (this.warningMessages.length > 0 && `Parsed input code with ${this.warningMessages.length} warnings.`) ||\n       'Successfully parsed input code';\n      return { type, message };\n    },\n    currentSquadCode () {\n      try {\n        return squadToShorthand(this.squad);\n      } catch {\n        return '';\n      }\n    },\n  },\n  data () {\n    return {\n      squad: generateDefaultSquad(),\n      inputCode: '',\n      parseErrorMessage: '',\n      warningMessages: [],\n      parsedSuccessfully: false,\n      parsingCode: false,\n      activeTabIndex: 0,\n      squadUnits: {},\n      squadItems: {},\n      squadExtraSkills: {},\n      isLoadingSquadData: false,\n      selectedIndex: -1,\n      showWarnings: false,\n      lastImportedSquadCode: '',\n    };\n  },\n  mounted () {\n    this.$store.commit('setHtmlOverflowDisableState', false);\n    if (this.inputCode) {\n      this.activeTabIndex = 1;\n      this.attemptSquadImport();\n    } else {\n      this.setSquad(this.squad);\n    }\n  },\n  methods: {\n    ...mapActions('units', {\n      getUnits: 'getByIds',\n    }),\n    ...mapActions('items', {\n      getItems: 'getByIds',\n    }),\n    ...mapActions('extraSkills', {\n      getExtraSkills: 'getByIds',\n    }),\n    async attemptSquadImport () {\n      this.parseErrorMessage = '';\n      this.parsedSuccessfully = false;\n      this.warningMessages = [];\n      if (!this.inputCode) {\n        this.parseErrorMessage = 'No input specified';\n      } else {\n        this.parsingCode = true;\n        await this.$nextTick();\n        try {\n          const initialSquad = shorthandToSquad(this.inputCode);\n          await this.setSquad(initialSquad);\n          this.parsedSuccessfully = true;\n        } catch (err) {\n          logger.error('error parsing squad', err);\n          this.parseErrorMessage = 'Import code is invalid and cannot be parsed.';\n        }\n        this.parsingCode = false;\n      }\n    },\n    async setSquad (squad) {\n      await this.updateSquadPageDbForSquad(squad);\n      const { warnings, ...fixedSquad } = fixSquadErrors(squad, {\n        getUnit: this.getUnit,\n        getExtraSkill: this.getExtraSkill,\n        getItem: this.getItem,\n      });\n      this.warningMessages = warnings;\n      this.squad = fixedSquad;\n      this.lastImportedSquadCode = squadToShorthand(fixedSquad);\n    },\n    async updateSquadPageDbForSquad (squad) {\n      if (squad) {\n        const databaseIds = getMultidexDatabaseIdsFromSquads(squad);\n        const toLowerCase = (input) => `${input[0].toLowerCase()}${input.slice(1)}`;\n        const currentServer = this.activeServer;\n        await ['Units', 'Items', 'ExtraSkills'].reduce((acc, name) => {\n          const entriesToGet = [];\n          const componentDb = this[`squad${name}`];\n          const neededKeys = databaseIds[toLowerCase(name)];\n          const newDb = {};\n          const allKeys = Object.keys(componentDb).map(id => +id).concat(neededKeys);\n          allKeys.forEach((id) => {\n            if (!isNaN(id) && neededKeys.includes(id)) {\n              if (!componentDb[id]) {\n                entriesToGet.push(id);\n              } else {\n                newDb[id] = componentDb[id];\n              }\n            }\n          });\n\n          return acc.then(async () => {\n            if (entriesToGet.length > 0) {\n              if (!this.isLoadingSquadData) {\n                this.isLoadingSquadData = true;\n              }\n              const retrievedEntries = await this[`get${name}`]({\n                ids: entriesToGet,\n                server: currentServer,\n                extractedFields: [],\n              });\n              this[`squad${name}`] = { ...newDb, ...retrievedEntries };\n            } else {\n              this[`squad${name}`] = newDb;\n            }\n          });\n        }, Promise.resolve());\n        this.isLoadingSquadData = false;\n      }\n    },\n    getUnit (id) {\n      return this.squadUnits[id] || {};\n    },\n    getItem (id) {\n      return this.squadItems[id] || {};\n    },\n    getExtraSkill (id) {\n      return this.squadExtraSkills[id] || {};\n    },\n    onSuccessfulSave (key) {\n      this.$router.push({ path: `/tools/squads/${key}` });\n    },\n  },\n  watch: {\n    importSquad: {\n      immediate: true,\n      handler (value) {\n        if (value) {\n          this.inputCode = value;\n        }\n      },\n    },\n    inputCode (newValue) {\n      // clear message on input clear\n      if (!newValue) {\n        this.parseErrorMessage = '';\n      }\n      this.parsedSuccessfully = false;\n    },\n    parseErrorMessage (newValue) {\n      if (newValue && this.warningMessages.length === 0) {\n        this.activeTabIndex = 1; // show import tab\n      }\n    },\n    'squad.units': {\n      deep: true,\n      handler () {\n        this.updateSquadPageDbForSquad(this.squad);\n      },\n    },\n    warningMessages (newValue) {\n      this.showWarnings = newValue.length > 0;\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.squad-message-alert {\n  overflow-x: auto;\n  .v-list__tile {\n    padding: 0;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SquadAdd.vue?vue&type=template&id=6415220b&\"\nimport script from \"./SquadAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./SquadAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SquadAdd.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{class:{ 'text-viewer pa-0': true, 'limit-height': _vm.limitHeight },attrs:{\"fluid\":\"\"}},[_c('copy-button',{staticClass:\"mb-0\",attrs:{\"block\":\"\",\"textToCopy\":_vm.inputText,\"value\":_vm.value}}),_c('pre',[_c('code',[_vm._v(_vm._s(_vm.inputText))])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fluid :class=\"{ 'text-viewer pa-0': true, 'limit-height': limitHeight }\">\n    <copy-button block :textToCopy=\"inputText\" :value=\"value\" class=\"mb-0\"/>\n    <pre><code>{{ inputText }}</code></pre>\n  </v-container>\n</template>\n\n<script>\nimport CopyButton from '@/components/CopyButton';\nexport default {\n  props: {\n    inputText: {\n      type: String,\n      default: '',\n    },\n    // resets button text on change\n    value: {\n      default: undefined,\n    },\n    limitHeight: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  components: {\n    CopyButton,\n  },\n};\n</script>\n\n<style lang=\"less\">\n.text-viewer {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n\n  .copy-button {\n    flex: none;\n  }\n\n  &.limit-height pre {\n    max-height: 45vh;\n  }\n\n  pre {\n    overflow: auto;\n    flex: auto;\n  }\n\n  code {\n    width: 100%;\n    height: auto;\n\n    &::before {\n      content: '';\n    }\n\n    .theme--dark & {\n      border: 1px solid var(--background-color);\n      background-color: black;\n      color: lightgreen;\n    }\n  }\n}\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextViewer.vue?vue&type=template&id=1dc4358e&\"\nimport script from \"./TextViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./TextViewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TextViewer.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadBuffExpandableListView.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadBuffExpandableListView.vue?vue&type=style&index=0&lang=less&\"","import {\n  unitPositionMapping,\n  squadFillerMapping,\n  squadUnitActions,\n  burstTypes,\n  squadBuffTypes,\n  targetTypes,\n} from '@/modules/constants';\nimport {\n  spCodeToIndex,\n  isValidUnit,\n  spCodeToEffects,\n  spIndexToCode,\n  getSpEntryEffects,\n} from '@/modules/core/units';\nimport { isValidSkill } from '@/modules/core/extra-skills';\nimport { isValidSphere, getItemEffects } from '@/modules/core/items';\nimport { getBurstEffects } from '@/modules/core/bursts';\nimport { getEffectsList } from '@/modules/core/buffs';\n\nexport function squadToShorthand (squad = { units: [] }) {\n  return squad.units\n    .map((unit, i) => [\n      (unit.id === squadFillerMapping.EMPTY && 'E') || (unit.id === squadFillerMapping.ANY && 'X') || unit.id,\n      unitPositionMapping.indexOf(unit.position),\n      unit.es || '-',\n      unit.spheres.join('+') || '-',\n      (i === squad.lead && 'L') || (i === squad.friend && 'F') || '-',\n      unit.bbOrder,\n      unit.action,\n      unit.sp || '-',\n    ].join('~'))\n    .join(',');\n}\n\nexport function makeSquadUnitEntry ({\n  id = '',\n  position = unitPositionMapping[0],\n  es = '',\n  spheres = [],\n  bbOrder = 0,\n  action = '',\n  sp = '',\n} = {}) {\n  const toString = (val) => (val || '').toString();\n  return {\n    id: (id === 'E' && squadFillerMapping.EMPTY) || (id === 'X' && squadFillerMapping.ANY) || toString(id),\n    position,\n    es: toString(es),\n    spheres: spheres.map(toString),\n    bbOrder,\n    action,\n    sp,\n  };\n}\n\nexport function generateFillerSquadUnitEntry ({\n  isEmpty = false,\n  position = unitPositionMapping[0],\n  bbOrder = 0,\n} = {}) {\n  return makeSquadUnitEntry({\n    id: isEmpty ? squadFillerMapping.EMPTY : squadFillerMapping.ANY,\n    position,\n    bbOrder,\n    action: isEmpty ? squadUnitActions.NONE : squadUnitActions.ATK,\n  });\n}\n\nexport function getEffectMappingFromSquadUnitEntry (\n  unitEntry = generateFillerSquadUnitEntry(),\n  {\n    // NOTE: these are synchronous getters\n    getUnit = () => {},\n    getItem = () => {}, // eslint-disable-line no-unused-vars\n    getExtraSkill = () => {}, // eslint-disable-line no-unused-vars\n  } = {},\n) {\n  const unitEffects = {\n    ls: [],\n    es: [],\n    [squadUnitActions.BB]: [],\n    [squadUnitActions.SBB]: [],\n    [squadUnitActions.UBB]: [],\n    sp: [],\n  };\n  if (unitEntry.id && unitEntry.id !== squadFillerMapping.EMPTY && unitEntry.id !== squadFillerMapping.ANY) {\n    const unit = getUnit(unitEntry.id) || {};\n    if (unit['leader skill'] && Array.isArray(unit['leader skill'].effects)) {\n      unitEffects.ls = Array.from(unit['leader skill'].effects).map(e => ({ ...e, sourcePath: 'unit.ls' }));\n    }\n\n    if (unit['extra skill'] && Array.isArray(unit['extra skill'].effects)) {\n      unitEffects.es = Array.from(unit['extra skill'].effects).map(e => ({ ...e, sourcePath: 'unit.es' }));\n    }\n\n    burstTypes.forEach(bbType => {\n      let burstData = (unit[bbType] && Array.isArray(unit[bbType].levels))\n        ? getBurstEffects(unit[bbType])\n        : {};\n      if (Array.isArray(burstData.effects)) {\n        unitEffects[bbType] = Array.from(burstData.effects).map(e => ({ ...e, sourcePath: `unit.${bbType}` }));\n      }\n    });\n\n    if (unitEntry.sp && Array.isArray(unit.feskills)) {\n      unitEffects.sp = Array.from(new Set(spCodeToEffects(unitEntry.sp, unit.feskills)))\n        .reduce((acc, val) => acc.concat(getSpEntryEffects(val).map(e => ({\n          ...e,\n          sourcePath: 'unit.sp',\n          sourceSpCode: spIndexToCode(unit.feskills.indexOf(val)),\n        }))), []);\n    }\n  }\n\n  let extraSkillEffects = [];\n  if (unitEntry.es) {\n    const extraSkill = getExtraSkill(unitEntry.es) || {};\n    if (Array.isArray(extraSkill.effects)) {\n      extraSkillEffects = Array.from(extraSkill.effects).map(e => ({ ...e, sourcePath: 'es' }));\n    }\n  }\n\n  let sphereEffects = {};\n  if (Array.isArray(unitEntry.spheres)) {\n    unitEntry.spheres.forEach(sphereId => {\n      const item = getItem(sphereId) || {};\n      const effectData = getItemEffects(item);\n      if (effectData.length > 0) {\n        sphereEffects[sphereId] = effectData.map(e => ({ ...e, sourcePath: `sphere:${sphereId}` }));\n      }\n    });\n  }\n\n  return {\n    unit: unitEffects,\n    es: extraSkillEffects,\n    spheres: sphereEffects,\n  };\n}\n\nexport function generateDefaultSquad (allEmpty = false, units) {\n  return {\n    lead: 0,\n    friend: 3,\n    name: `Squad ${new Date().toLocaleString()}`,\n    units: Array.isArray(units)\n      ? units\n      : new Array(6)\n        .fill(0)\n        .map((_, i) => generateFillerSquadUnitEntry({\n          isEmpty: allEmpty,\n          position: unitPositionMapping[i],\n          bbOrder: i + 1,\n        })),\n  };\n}\n\nexport function cloneSquad (squad = {}) {\n  const { lead, friend, name, simulatorOptions, filterOptions, viewMode } = squad;\n  return {\n    lead,\n    friend,\n    name,\n    units: sortUnitsByPosition(squad.units.map(makeSquadUnitEntry), false),\n    simulatorOptions,\n    filterOptions,\n    viewMode,\n  };\n}\n\nexport function shorthandToSquad (shorthand = '', name = `Squad ${new Date().toLocaleString()}`) {\n  let leadIndex = 0, friendIndex = 0;\n  const units = shorthand.split(',').map((entry, i) => {\n    const [\n      id,\n      positionIndex,\n      esText,\n      sphereText,\n      leadFriendFlag,\n      bbOrder,\n      action,\n      spText,\n    ] = entry.split('~');\n    if (leadFriendFlag === 'L') {\n      leadIndex = i;\n    } else if (leadFriendFlag === 'F') {\n      friendIndex = i;\n    }\n\n    return makeSquadUnitEntry({\n      id,\n      position: unitPositionMapping[positionIndex],\n      es: esText !== '-' ? esText : '',\n      spheres: sphereText !== '-' ? sphereText.split('+') : [],\n      bbOrder: +bbOrder,\n      action,\n      sp: spText !== '-' ? spText : '',\n    });\n  });\n  return {\n    name,\n    lead: leadIndex,\n    friend: friendIndex,\n    units,\n  };\n}\n\nexport function fixSquadErrors (squad = {}, {\n  // NOTE: these are synchronous getters\n  getUnit = () => {},\n  getItem = () => {},\n  getExtraSkill = () => {},\n} = {}) {\n  const units = [];\n  const messages = [];\n  let { lead, friend } = squad;\n  const filledPositions = new Set();\n  const usedOrders = new Set();\n  if (Array.isArray(squad.units)) {\n    // only allow 6 entries at most\n    const currentUnits = squad.units.filter(u => typeof u === 'object').slice(0, 6);\n    const defaultUnitActions = [squadUnitActions.SBB, squadUnitActions.BB];\n    const isValidBbOrder = (num) => num >= 1 && num <= 6;\n\n    currentUnits.forEach((unit, i) => {\n      if (typeof unit === 'object') {\n        const unitData = getUnit(unit.id) || {};\n        // get value or defaults for each property of a squad unit entry\n        const id = (unit.id === squadFillerMapping.ANY || unit.id === squadFillerMapping.EMPTY || isValidUnit(unitData))\n          ? unit.id\n          : squadFillerMapping.ANY; // default to entry for ANY\n\n        const unitIdentifer = unitData.name\n          ? `Unit [${unitData.name}] at index ${i}`\n          : `Unit [${unit.id || id}] at index ${i}`;\n        if (id !== unit.id) {\n          messages.push(`${unitIdentifer} has an invalid ID [${unit.id}]. Used default filler unit entry [${squadFillerMapping.ANY}].`);\n        }\n\n        if (lead === i && id === squadFillerMapping.EMPTY) {\n          messages.push(`There is an empty unit at index ${lead} and cannot be leader. Removed leader indicator.`);\n          lead = -1;\n        } else if (friend === i && id === squadFillerMapping.EMPTY) {\n          messages.push(`There is an empty unit at index ${friend} cannot be friend leader. Removed friend leader indicator.`);\n          friend = -1;\n        }\n\n        const position = unitPositionMapping.includes(unit.position) &&\n          !filledPositions.has(unit.position) &&\n          unit.position;\n        if (position) {\n          filledPositions.add(position);\n        } else {\n          messages.push(`${unitIdentifer} has invalid position [${unit.position}]. Used default position value instead.`);\n        }\n\n        const bbOrder = id !== squadFillerMapping.EMPTY &&\n          isValidBbOrder(unit.bbOrder) &&\n          !usedOrders.has(unit.bbOrder) &&\n          unit.bbOrder;\n        if (bbOrder) {\n          usedOrders.add(bbOrder);\n        } else {\n          messages.push(`${unitIdentifer} has invalid BB Order [${unit.bbOrder}]. Used default BB Order value instead.`);\n        }\n\n        // default order of actions when current current action is invalid (if a unit has it): SBB, BB, ATK\n        const action = id === squadFillerMapping.EMPTY\n          ? squadUnitActions.NONE\n          : (id === squadFillerMapping.ANY && unit.action) || (unitData[unit.action] && unit.action) || (defaultUnitActions.find(a => !!unitData[a]));\n        if (action !== unit.action) {\n          messages.push(`${unitIdentifer} has invalid action [${unit.action}]. Used default action [${action}].`);\n        }\n\n        const extraSkill = (id !== squadFillerMapping.EMPTY && unit.es && isValidSkill(getExtraSkill(unit.es)))\n          ? unit.es\n          : undefined;\n        if (extraSkill !== unit.es && !!unit.es) {\n          messages.push(`${unitIdentifer} has invalid Extra Skill [${unit.es}]. Removed Extra Skill.`);\n        }\n\n        const spheres = ((id !== squadFillerMapping.EMPTY && Array.isArray(unit.spheres)) ? unit.spheres : [])\n          .filter(sphere => isValidSphere(getItem(sphere)));\n        if (!Array.isArray(unit.spheres)) {\n          messages.push(`${unitIdentifer} has invalid sphere entry. Used default of no spheres.`);\n        } else if (spheres.length !== unit.spheres.length) {\n          messages.push(`${unitIdentifer} has invalid spheres [${unit.spheres.filter(s => !spheres.includes(s)).join(', ')}]. Removed them from the entry.`);\n        }\n\n        const sp = (id !== squadFillerMapping.EMPTY && unitData.feskills && typeof unit.sp === 'string')\n          ? unit.sp.split('').filter(code => unitData.feskills[spCodeToIndex(code)]).join('')\n          : undefined;\n        if (sp !== unit.sp && !!unit.sp) {\n          const message = [\n            `${unitIdentifer} has invalid SP code [${unit.sp}].`,\n            sp ? `Set SP code to [${sp}].` : `Removed SP code.`,\n          ].join(' ');\n          messages.push(message);\n        }\n\n        units.push(makeSquadUnitEntry({\n          id,\n          position,\n          bbOrder,\n          action,\n          es: extraSkill,\n          spheres,\n          sp,\n        }));\n      } else {\n        messages.push(`Unit at input index ${i} is invalid and has been removed from squad.`);\n      }\n    });\n  }\n\n  // fill in units with invalid positions and bbOrders\n  const possibleOrders = (new Array(6).fill(0).map((_, i) => i + 1));\n  units.forEach(unit => {\n    if (!unit.position) {\n      unit.position = unitPositionMapping.find(p => !filledPositions.has(p));\n      filledPositions.add(unit.position);\n    }\n\n    if (!unit.bbOrder) {\n      unit.bbOrder = possibleOrders.find(order => !usedOrders.has(order));\n      usedOrders.add(unit.bbOrder);\n    }\n  });\n\n  if (units.length < 6) {\n    messages.push(`${units.length} valid units found. Added ${6 - units.length} filler units.`);\n  }\n  for (let i = units.length; i < 6; ++i) {\n    const position = unitPositionMapping.find(p => !filledPositions.has(p));\n    filledPositions.add(position);\n\n    const bbOrder = possibleOrders.find(order => !usedOrders.has(order));\n    usedOrders.add(bbOrder);\n\n    units.push(generateFillerSquadUnitEntry({\n      position,\n      bbOrder,\n    }));\n  }\n\n  // remove lead/friend if those values are invalid\n  if (!units[lead] || units[lead].id === squadFillerMapping.EMPTY) {\n    messages.push(`Unit at index ${lead} cannot be leader because it is invalid or empty. Removed leader indicator.`);\n    lead = -1;\n  }\n  if (!units[friend] || units[friend].id === squadFillerMapping.EMPTY) {\n    messages.push(`Unit at index ${lead} cannot be friend leader because it is invalid or empty. Removed friend leader indicator.`);\n    friend = -1;\n  }\n\n  // remove friend lead if lead and friend refer to the same unit\n  if (lead !== -1 && friend !== -1 && lead === friend) {\n    messages.push(`Unit at index ${lead} cannot be lead and friend lead. Removed friend leader indicator.`);\n    friend = -1;\n  }\n\n  return {\n    lead,\n    friend,\n    name: squad.name || 'Default Squad Name',\n    units: sortUnitsByPosition(units),\n    warnings: messages,\n    simulatorOptions: squad.simulatorOptions,\n  };\n}\n\nexport function getMultidexDatabaseIdsFromSquads (squads = [generateDefaultSquad()]) {\n  const unitIds = new Set(), esIds = new Set(), itemIds = new Set();\n  const squadsToCheck = Array.isArray(squads) ? squads : [squads];\n  squadsToCheck.forEach(squad => {\n    squad.units.forEach(unit => {\n      unitIds.add(unit.id);\n      if (unit.es) {\n        esIds.add(unit.es);\n      }\n      if (unit.spheres.length > 0) {\n        unit.spheres.forEach(id => {\n          itemIds.add(id);\n        });\n      }\n    });\n  });\n  return {\n    units: Array.from(unitIds),\n    extraSkills: Array.from(esIds),\n    items: Array.from(itemIds),\n  };\n}\n\nexport function sortUnitsByPosition (units = [], clone = true) {\n  const toSort = clone ? units.slice() : units;\n  return toSort.sort((a, b) => {\n    const [positionA, positionB] = [unitPositionMapping.indexOf(a.position), unitPositionMapping.indexOf(b.position)];\n    return positionA - positionB;\n  });\n}\n\nexport function getEffectsListForSquadUnitEntry (\n  {\n    unitEntry = generateFillerSquadUnitEntry(),\n    target = targetTypes.PARTY,\n    effectType = squadBuffTypes.PROC,\n    squad = generateDefaultSquad(),\n  }, syncGetters = {\n    getUnit: () => {},\n    getItem: () => {},\n    getExtraSkill: () => {},\n  },\n) {\n  const entryEffects = getEffectMappingFromSquadUnitEntry(unitEntry, syncGetters);\n  const isLsActive = (squad.units.indexOf(unitEntry) === squad.lead || squad.units.indexOf(unitEntry) === squad.friend);\n  return getEffectsList({\n    leaderSkillEffects: isLsActive ? entryEffects.unit.ls : [],\n    extraSkillEffects: entryEffects.unit.es,\n    nonUbbBurstEffects: entryEffects.unit.bb.concat(entryEffects.unit.sbb),\n    ubbBurstEffects: entryEffects.unit.ubb,\n    elgifEffects: entryEffects.es,\n    sphereEffects: Object.values(entryEffects.spheres).reduce((acc, effects) => acc.concat(effects), []),\n    spEnhancementEffects: entryEffects.unit.sp,\n    target,\n    effectType,\n  });\n}\n\nexport function getMultidexParamsForSquadUnit (unit = generateFillerSquadUnitEntry()) {\n  const links = [];\n  if (unit.id !== squadFillerMapping.ANY && unit.id !== squadFillerMapping.EMPTY) {\n    links.push({\n      moduleName: 'units',\n      id: unit.id,\n      sp: unit.sp,\n    });\n  }\n\n  if (unit.es) {\n    links.push({\n      moduleName: 'extraSkills',\n      id: unit.es,\n    });\n  }\n\n  // add unique entries\n  Array.from(new Set(unit.spheres)).forEach(id => {\n    links.push({\n      moduleName: 'items',\n      id,\n    });\n  });\n\n  return links;\n}\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadListCardEditable.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadListCardEditable.vue?vue&type=style&index=0&lang=less&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAWCAMAAAARtodwAAAAA3NCSVQICAjb4U/gAAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAApUwkpVAkpVwkoXAkoXgknZQonZwombgkmcQoldAokfQwjhgsiiwsgmwwgngxDhisfoQseogwfowwfpAwfpQwfpgwepwweqA0eqQweqg0eqw0erA0erQ0drg0erg0dsA0dsQ0itBMntRdPnTwrtxwstx4vuCA8tCw4uyk5vCxepExepUxIwDtbtk1buE1awE5dyFFhyVdlylpqzWBwzmabsYybso130G130W540W6auo560nGD1Xq20a3E3r7D6L7N7sni6d7j6N/i697q+Onr+Onw9u/t+ez////////SciOpAAAA/3RSTlMA/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////3N8PqRcAAAAkElEQVQY04WQsQ7CMAxEz03Sgih0QoxFfAH//0NsDEWINE5sppIEVao3P9ln31n8l10jWva0PgM8DgQAMZ4XMnlKLBqPP/JqP4GjNu9bvqWXq5C6fJ36vq3/Mc6wgVjoQlTCs5Mw7LOOTCwqp7wV/cysTgtfMo61crMztQs/gwAqSBJK9cydqavJsJkhbeX8BTdVMwA/hLFSAAAAAElFTkSuQmCC\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadList.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadList.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SparkUnitEntry.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SparkUnitEntry.vue?vue&type=style&index=0&lang=less&\"","export default {\n  props: {\n    getUnit: {\n      type: Function,\n      default: () => ({}),\n    },\n    getItem: {\n      type: Function,\n      default: () => ({}),\n    },\n    getExtraSkill: {\n      type: Function,\n      default: () => ({}),\n    },\n  },\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-flex',_vm._g(_vm._b({staticClass:\"squad-unit-entry\"},'v-flex',_vm.$attrs,false),_vm.$listeners),[_vm._t(\"before-content\"),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('v-layout',{staticClass:\"mx-2\",style:((\"flex-grow: 0!important; min-width: \" + _vm.thumbnailSize + \"px; max-width: \" + _vm.thumbnailSize + \"px;\")),attrs:{\"column\":\"\"}},[(_vm.$vuetify.breakpoint.xsOnly)?_c('v-flex',{attrs:{\"text-xs-center\":\"\"}},[_c('span',{staticClass:\"caption text-no-wrap\"},[_vm._v(_vm._s(_vm.unit.position))])]):_vm._e(),_c('v-layout',{staticStyle:{\"flex-grow\":\"0\"},attrs:{\"align-content-center\":\"\",\"row\":\"\"}},[_c('unit-thumbnail',{staticClass:\"unit-thumbnail\",style:((\"border-color: \" + (_vm.orderSettings.border) + \";\")),attrs:{\"isVisible\":_vm.isVisible,\"src\":_vm.getImageUrls(_vm.unit.id).ills_battle,\"rarity\":_vm.rarity,\"imageTitle\":_vm.name,\"displayWidth\":_vm.thumbnailSize,\"displayHeight\":_vm.thumbnailSize}},[_c('template',{slot:\"after-image\"},[_c('text',{attrs:{\"x\":0,\"y\":_vm.thumbnailSize * 0.75}},[_vm._v(\"\\n              \"+_vm._s(!isNaN(_vm.unit.bbOrder) ? _vm.unit.bbOrder : '-')+\"\\n            \")])])],2)],1),(_vm.orderSettings)?_c('v-flex',{staticClass:\"text-xs-center\"},[(!_vm.isVisible)?_c('span',{staticClass:\"body-1\",domProps:{\"textContent\":_vm._s(_vm.orderSettings.text)}}):_c('v-chip',{staticClass:\"bb-order-chip\",style:((\"\\n            background-color: \" + (_vm.orderSettings.background) + \";\\n            color: \" + (_vm.orderSettings.foreground) + \";\\n            border-color: \" + (_vm.orderSettings.border) + \";\\n          \")),attrs:{\"tabindex\":\"-1\",\"small\":\"\"}},[_c('b',[_vm._v(_vm._s(_vm.orderSettings.text))])])],1):_vm._e()],1),_c('v-layout',{staticStyle:{\"align-self\":\"flex-start\"},attrs:{\"column\":\"\"}},[_c('v-layout',{attrs:{\"align-center\":\"\"}},[_c('v-flex',{staticClass:\"d-flex-container align-center font-weight-bold subheading\"},[(_vm.rarity < 8)?_c('span',[_vm._v(_vm._s(_vm.rarity))]):_vm._e(),(_vm.isVisible)?_c('rarity-icon',{class:{ 'ml-1': _vm.rarity !== 8, 'mr-1': true, },attrs:{\"rarity\":_vm.rarity || 0,\"displaySize\":18}}):_vm._e(),_c('span',[_vm._v(_vm._s(_vm.name))])],1),_c('v-spacer'),(_vm.isLead || _vm.isFriend)?_c('v-flex',{staticStyle:{\"flex-grow\":\"0\"}},[(_vm.isLead)?_c('leader-icon',{attrs:{\"displaySize\":18}}):(_vm.isFriend)?_c('friend-icon',{attrs:{\"displaySize\":18}}):_vm._e()],1):_vm._e()],1),_c('v-layout',{attrs:{\"align-center\":\"\"}},[_c('v-layout',{staticStyle:{\"flex-grow\":\"0\"},attrs:{\"align-center\":\"\",\"justify-center\":\"\"}},[(_vm.isVisible)?_c('extra-skill-icon',{staticClass:\"mr-1\",attrs:{\"inactive\":!_vm.unit.es,\"displaySize\":22}}):_vm._e()],1),_c('v-flex',{staticStyle:{\"word-break\":\"break-all\",\"text-align\":\"left\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.getExtraSkill(_vm.unit.es).name || 'No Extra Skill')+\"\\n        \")])],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\"}},_vm._l(((_vm.unit.spheres.length > 0 ? _vm.unit.spheres : ['No Sphere'])),function(sphereId,i){return _c('v-layout',{key:(sphereId + \"-\" + i),attrs:{\"align-center\":\"\"}},[_c('v-layout',{staticStyle:{\"flex-grow\":\"0\"},attrs:{\"align-center\":\"\",\"justify-center\":\"\"}},[(_vm.isVisible)?_c('sphere-type-icon',{staticClass:\"mr-1\",attrs:{\"category\":_vm.getItem(sphereId)['sphere type'],\"displaySize\":22}}):_vm._e()],1),_c('v-flex',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.getItem(sphereId).name || sphereId)+\"\\n          \")])],1)}),1),(_vm.unit.sp && _vm.isVisible && _vm.getSpCost(_vm.unit) > 0)?_c('v-layout',[_c('v-flex',{staticClass:\"mr-1\",staticStyle:{\"flex-grow\":\"0\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.getSpCost(_vm.unit))+\" SP:\\n        \")]),_vm._l((_vm.getSpCategories(_vm.unit)),function(category){return _c('v-flex',{key:(category + \"-\" + (_vm.unit.id) + \"-\" + _vm.index),staticStyle:{\"flex-grow\":\"0\"}},[_c('sp-icon',{attrs:{\"category\":category,\"displaySize\":22}})],1)})],2):_vm._e()],1)],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('generic-sprite-icon',{style:(_vm.inactive ? _vm.inactiveStyle : _vm.$attrs.style),attrs:{\"iconTitle\":\"Extra Skill Icon\",\"iconWidth\":_vm.iconSize,\"iconHeight\":_vm.iconSize,\"sheetWidth\":_vm.sheetSize[0],\"sheetHeight\":_vm.sheetSize[1],\"displayWidth\":_vm.displaySize,\"displayHeight\":_vm.displaySize,\"src\":require('@/assets/ex_icon.png'),\"iconX\":0,\"iconY\":0}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <generic-sprite-icon\n    iconTitle=\"Extra Skill Icon\"\n    :style=\"inactive ? inactiveStyle : $attrs.style\"\n    :iconWidth=\"iconSize\" :iconHeight=\"iconSize\"\n    :sheetWidth=\"sheetSize[0]\" :sheetHeight=\"sheetSize[1]\"\n    :displayWidth=\"displaySize\" :displayHeight=\"displaySize\"\n    :src=\"require('@/assets/ex_icon.png')\"\n    :iconX=\"0\" :iconY=\"0\"/>\n</template>\n\n<script>\nimport GenericSpriteIcon from '@/components/GenericSpriteIcon';\n\nexport default {\n  props: {\n    inactive: {\n      type: Boolean,\n      default: false,\n    },\n    displaySize: {\n      type: Number,\n      default: 32,\n    },\n  },\n  components: {\n    GenericSpriteIcon,\n  },\n  computed: {\n    iconSize () {\n      return 32;\n    },\n    sheetSize () {\n      return [32, 32];\n    },\n    inactiveStyle () {\n      return 'filter: brightness(75%) grayscale(100%)';\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExtraSkillIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExtraSkillIcon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExtraSkillIcon.vue?vue&type=template&id=1947700c&\"\nimport script from \"./ExtraSkillIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./ExtraSkillIcon.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-flex class=\"squad-unit-entry\" v-bind=\"$attrs\" v-on=\"$listeners\">\n    <slot name=\"before-content\"/>\n    <div style=\"display: flex;\">\n      <v-layout\n        column class=\"mx-2\"\n        :style=\"`flex-grow: 0!important; min-width: ${thumbnailSize}px; max-width: ${thumbnailSize}px;`\">\n        <v-flex text-xs-center v-if=\"$vuetify.breakpoint.xsOnly\">\n          <span class=\"caption text-no-wrap\">{{ unit.position }}</span>\n        </v-flex>\n        <v-layout align-content-center row style=\"flex-grow: 0\">\n          <unit-thumbnail\n            class=\"unit-thumbnail\"\n            :style=\"`border-color: ${orderSettings.border};`\"\n            :isVisible=\"isVisible\"\n            :src=\"getImageUrls(unit.id).ills_battle\"\n            :rarity=\"rarity\"\n            :imageTitle=\"name\"\n            :displayWidth=\"thumbnailSize\" :displayHeight=\"thumbnailSize\">\n            <template slot=\"after-image\">\n              <text\n                :x=\"0\"\n                :y=\"thumbnailSize * 0.75\">\n                {{ !isNaN(unit.bbOrder) ? unit.bbOrder : '-' }}\n              </text>\n            </template>\n          </unit-thumbnail>\n        </v-layout>\n        <v-flex class=\"text-xs-center\" v-if=\"orderSettings\">\n          <span\n            v-if=\"!isVisible\"\n            class=\"body-1\"\n            v-text=\"orderSettings.text\"/>\n          <v-chip\n            v-else\n            tabindex=\"-1\"\n            :style=\"`\n              background-color: ${orderSettings.background};\n              color: ${orderSettings.foreground};\n              border-color: ${orderSettings.border};\n            `\"\n            class=\"bb-order-chip\"\n            small>\n            <b>{{ orderSettings.text }}</b>\n          </v-chip>\n        </v-flex>\n      </v-layout>\n      <v-layout column style=\"align-self: flex-start;\">\n        <!-- name and leader/friend icon -->\n        <v-layout align-center>\n          <v-flex class=\"d-flex-container align-center font-weight-bold subheading\">\n            <span v-if=\"rarity < 8\">{{ rarity }}</span>\n            <rarity-icon\n              v-if=\"isVisible\"\n              :class=\"{ 'ml-1': rarity !== 8, 'mr-1': true, }\"\n              :rarity=\"rarity || 0\"\n              :displaySize=\"18\"/>\n            <span>{{ name }}</span>\n          </v-flex>\n          <v-spacer/>\n          <v-flex\n            v-if=\"isLead || isFriend\"\n            style=\"flex-grow: 0;\">\n            <leader-icon\n              v-if=\"isLead\"\n              :displaySize=\"18\"/>\n            <friend-icon\n              v-else-if=\"isFriend\"\n              :displaySize=\"18\"/>\n          </v-flex>\n        </v-layout>\n        <!-- extra skill -->\n        <v-layout align-center>\n          <v-layout style=\"flex-grow: 0;\" align-center justify-center>\n            <extra-skill-icon\n              v-if=\"isVisible\"\n              :inactive=\"!unit.es\"\n              :displaySize=\"22\"\n              class=\"mr-1\"/>\n          </v-layout>\n          <v-flex style=\"word-break: break-all; text-align: left;\">\n            {{ getExtraSkill(unit.es).name || 'No Extra Skill' }}\n          </v-flex>\n        </v-layout>\n        <!-- spheres -->\n        <v-layout row wrap align-center>\n          <v-layout\n            v-for=\"(sphereId, i) in (unit.spheres.length > 0 ? unit.spheres : ['No Sphere'])\"\n            :key=\"`${sphereId}-${i}`\"\n            align-center>\n            <v-layout style=\"flex-grow: 0;\" align-center justify-center>\n              <sphere-type-icon\n                v-if=\"isVisible\"\n                :category=\"getItem(sphereId)['sphere type']\"\n                :displaySize=\"22\"\n                class=\"mr-1\"/>\n            </v-layout>\n            <v-flex style=\"text-align: left\">\n              {{ getItem(sphereId).name || sphereId }}\n            </v-flex>\n          </v-layout>\n        </v-layout>\n\n        <!-- SP -->\n        <v-layout v-if=\"unit.sp && isVisible && getSpCost(unit) > 0\">\n          <v-flex style=\"flex-grow: 0;\" class=\"mr-1\">\n            {{ getSpCost(unit) }} SP:\n          </v-flex>\n          <v-flex\n            v-for=\"category in getSpCategories(unit)\"\n            :key=\"`${category}-${unit.id}-${index}`\"\n            style=\"flex-grow: 0;\">\n            <sp-icon\n              :category=\"category\"\n              :displaySize=\"22\"/>\n          </v-flex>\n        </v-layout>\n      </v-layout>\n    </div>\n  </v-flex>\n</template>\n\n<script>\nimport { squadUnitActions } from '@/modules/constants';\nimport { spCodeToIndex, spCodeToEffects } from '@/modules/core/units';\nimport { mapGetters } from 'vuex';\nimport colors from 'vuetify/es5/util/colors';\nimport UnitThumbnail from '@/components/Multidex/Units/UnitThumbnail';\nimport RarityIcon from '@/components/Multidex/RarityIcon';\nimport SphereTypeIcon from '@/components/Multidex/Items/SphereTypeIcon';\nimport LeaderIcon from '@/components/Multidex/MiniLeaderIcon';\nimport FriendIcon from '@/components/Multidex/MiniFriendIcon';\nimport ExtraSkillIcon from '@/components/Multidex/ExtraSkillIcon';\nimport SpIcon from '@/components/Multidex/Units/SpIcon';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\n\nexport default {\n  mixins: [GettersMixin],\n  components: {\n    UnitThumbnail,\n    RarityIcon,\n    SphereTypeIcon,\n    LeaderIcon,\n    FriendIcon,\n    ExtraSkillIcon,\n    SpIcon,\n  },\n  props: {\n    unit: {\n      type: Object,\n      required: true,\n    },\n    isLead: {\n      type: Boolean,\n      default: false,\n    },\n    isFriend: {\n      type: Boolean,\n      default: false,\n    },\n    isVisible: {\n      type: Boolean,\n      default: true,\n    },\n    index: {\n      type: Number,\n      default: -1,\n    },\n  },\n  computed: {\n    ...mapGetters('units', {\n      getImageUrls: 'getImageUrls',\n    }),\n    thumbnailSize () {\n      return 64;\n    },\n    iconSize () {\n      return 22;\n    },\n    orderSettings () {\n      const hasBbOrder = !isNaN(this.unit.bbOrder);\n      return {\n        text: (hasBbOrder && this.getOrderText(this.unit)) || '-',\n        ...this.getColorSetBasedOnAction((hasBbOrder && this.unit) || undefined),\n      };\n    },\n    rarity () {\n      return this.getUnit(this.unit.id).rarity;\n    },\n    name () {\n      return this.getUnit(this.unit.id).name || this.unit.id;\n    },\n  },\n  methods: {\n    getColorSetBasedOnAction (unit = {}) {\n      const colorKey = (unit.action === squadUnitActions.UBB && 'red') ||\n        (unit.action === squadUnitActions.SBB && 'amber') ||\n        (unit.action === squadUnitActions.BB && 'blueGrey') ||\n        'grey';\n\n      return {\n        border: colors[colorKey].base,\n        background: colors[colorKey].lighten4,\n        foreground: colors[colorKey].darken4,\n      };\n    },\n    getOrderText (unit = {}) {\n      // default to SBB or below (depending on if the unit has it)\n      const action = unit.action ||\n        (this.getUnit(unit.id).sbb && squadUnitActions.SBB) ||\n        (this.getUnit(unit.id).bb && squadUnitActions.BB) ||\n        (squadUnitActions.ATK);\n      return action.toUpperCase();\n    },\n    getSpCategories (unit = {}) {\n      const feSkills = this.getUnit(unit.id).feskills;\n      const enhancements = unit.sp;\n      if (!feSkills || !enhancements) {\n        return [];\n      }\n\n      const filteredSkills = spCodeToEffects(enhancements, feSkills)\n        .map(s => +s.category);\n      return Array.from(new Set(filteredSkills));\n    },\n    getSpCost (unit = {}) {\n      const feSkills = this.getUnit(unit.id).feskills;\n      const enhancements = unit.sp;\n      if (!feSkills || !enhancements) {\n        return 0;\n      }\n      return enhancements.split('')\n        .map(char => feSkills[spCodeToIndex(char)])\n        .filter(v => v)\n        .reduce((acc, s) => acc + +s.skill.bp, 0);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.squad-unit-entry {\n  .bb-order-chip {\n    justify-content: center;\n    margin: auto;\n    width: 100%;\n    border-top-left-radius: 0; \n    border-top-right-radius: 0;\n    margin-top: 0;\n  }\n\n  image.lazy-actual {\n    min-width: 64px;\n  }\n\n  .unit-thumbnail {\n    flex: 0 1 auto;\n    margin: auto;\n    font: bold 4.5em sans-serif;\n    stroke: black;\n    stroke-width: 2px;\n    fill: white;\n    border: 1px solid white;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadUnitEntry.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadUnitEntry.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SquadUnitEntry.vue?vue&type=template&id=56b89092&\"\nimport script from \"./SquadUnitEntry.vue?vue&type=script&lang=js&\"\nexport * from \"./SquadUnitEntry.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SquadUnitEntry.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadBuffExpandableList.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadBuffExpandableList.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('generic-sprite-icon',{attrs:{\"iconTitle\":_vm.label,\"iconWidth\":_vm.sheetSize[0],\"iconHeight\":_vm.sheetSize[1],\"sheetWidth\":_vm.sheetSize[0],\"sheetHeight\":_vm.sheetSize[1],\"displayWidth\":_vm.displaySize,\"displayHeight\":_vm.displaySize,\"src\":_vm.iconSrc,\"iconX\":0,\"iconY\":0}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <generic-sprite-icon\n    :iconTitle=\"label\"\n    :iconWidth=\"sheetSize[0]\" :iconHeight=\"sheetSize[1]\"\n    :sheetWidth=\"sheetSize[0]\" :sheetHeight=\"sheetSize[1]\"\n    :displayWidth=\"displaySize\" :displayHeight=\"displaySize\"\n    :src=\"iconSrc\"\n    :iconX=\"0\" :iconY=\"0\"/>\n</template>\n\n<script>\nimport GenericSpriteIcon from '@/components/GenericSpriteIcon';\n\nexport default {\n  props: {\n    displaySize: {\n      type: Number,\n      default: 52,\n    },\n  },\n  components: {\n    GenericSpriteIcon,\n  },\n  computed: {\n    label: () => 'Friend Unit',\n    iconSrc () {\n      return require('@/assets/battle_friend_icon.png');\n    },\n    sheetSize () {\n      return [17, 22];\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MiniFriendIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MiniFriendIcon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MiniFriendIcon.vue?vue&type=template&id=54344c36&\"\nimport script from \"./MiniFriendIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./MiniFriendIcon.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareSquadCard.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareSquadCard.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',[_c('h1',{staticClass:\"title\"},[_vm._v(\"Delete Confirmation\")])]),_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-flex',[_vm._v(\"Are you sure you want to delete the following squad?\")]),_c('squad-list-card',{attrs:{\"squad\":_vm.squad,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill}},[_c('div',{attrs:{\"slot\":\"card-actions\"},slot:\"card-actions\"})])],1),_c('v-card-actions',{staticStyle:{\"justify-content\":\"space-between\"}},[_c('v-btn',{attrs:{\"disabled\":_vm.isDeleting,\"flat\":\"\",\"color\":\"error\"},on:{\"click\":_vm.deleteSquad}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"delete\")]),_vm._v(\"\\n      Delete\\n    \")],1),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_vm._v(\"\\n      Cancel\\n    \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card>\n    <v-card-title>\n      <h1 class=\"title\">Delete Confirmation</h1>\n    </v-card-title>\n    <v-container fluid>\n      <v-flex>Are you sure you want to delete the following squad?</v-flex>\n      <squad-list-card\n        :squad=\"squad\"\n        :getUnit=\"getUnit\"\n        :getItem=\"getItem\"\n        :getExtraSkill=\"getExtraSkill\">\n        <div slot=\"card-actions\"/>\n      </squad-list-card>\n    </v-container>\n    <v-card-actions style=\"justify-content: space-between;\">\n      <v-btn :disabled=\"isDeleting\" flat color=\"error\" @click=\"deleteSquad\">\n        <v-icon left>delete</v-icon>\n        Delete\n      </v-btn>\n      <v-btn flat @click=\"$emit('cancel')\">\n        Cancel\n      </v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\nimport SquadListCard from '@/components/Tools/Squads/SquadListCard';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\n\nexport default {\n  mixins: [GettersMixin],\n  props: {\n    squad: {\n      type: Object,\n      required: true,\n    },\n    squadId: {\n      type: Number,\n      required: true,\n    },\n  },\n  components: {\n    SquadListCard,\n  },\n  data () {\n    return {\n      isDeleting: false,\n    };\n  },\n  methods: {\n    async deleteSquad () {\n      this.isDeleting = true;\n      try {\n        const result = await this.$store.dispatch('squads/deleteSquad', { id: this.squadId });\n        this.$emit('delete', result);\n      } finally {\n        this.isDeleting - false;\n      }\n    },\n  },\n};\n</script>\n\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteSquadCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteSquadCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DeleteSquadCard.vue?vue&type=template&id=9269e246&\"\nimport script from \"./DeleteSquadCard.vue?vue&type=script&lang=js&\"\nexport * from \"./DeleteSquadCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadUnitEntry.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadUnitEntry.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"squad-list--entry-card\"},[_c('v-layout',{staticClass:\"pa-2\",attrs:{\"row\":\"\"}},[_c('v-flex',[_c('h1',{staticClass:\"title\"},[_vm._v(\"\\n        \"+_vm._s(_vm.squad.name)+\"\\n      \")])]),_c('v-spacer'),_c('v-flex',{staticStyle:{\"flex-grow\":\"0\"}},[_c('h2',{staticClass:\"subheading\"},[_vm._v(\"\\n        \"+_vm._s(_vm.squadCost)+\" Cost\\n      \")])])],1),_c('v-layout',{staticClass:\"px-2\",attrs:{\"row\":\"\",\"wrap\":\"\"}},[(!_vm.isLoadingInParent)?_vm._l((_vm.fullUnits),function(unit,i){return _c('unit-entry',{key:_vm.getUnitEntryKey(unit, i),staticClass:\"d-flex py-1\",staticStyle:{\"align-items\":\"center\",\"border\":\"1px solid var(--background-color-alt)\"},attrs:{\"xs12\":\"\",\"sm6\":\"\",\"index\":i,\"isVisible\":_vm.isVisible,\"unit\":unit,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"isLead\":i === _vm.squad.lead,\"isFriend\":i === _vm.squad.friend}})}):_c('loading-indicator',{attrs:{\"loadingMessage\":\"Loading squad data\"}})],2),_c('v-divider',{staticClass:\"mt-2\"}),_vm._t(\"card-actions\",[_c('v-card-actions',[(_vm.to)?_c('v-btn',{attrs:{\"flat\":\"\",\"disabled\":_vm.isLoadingInParent || !_vm.isVisible,\"to\":_vm.to}},[_vm._v(\"View\")]):_c('v-btn',{attrs:{\"flat\":\"\",\"disabled\":_vm.isLoadingInParent || !_vm.isVisible},on:{\"click\":function($event){return _vm.$emit('view')}}},[_vm._v(\"View\")]),_c('v-btn',{attrs:{\"flat\":\"\",\"disabled\":_vm.isLoadingInParent || !_vm.isVisible},on:{\"click\":function($event){return _vm.$emit('share')}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"share\")]),_vm._v(\"\\n        Share\\n      \")],1),_c('v-spacer'),_c('v-btn',{attrs:{\"flat\":\"\",\"disabled\":_vm.isLoadingInParent || !_vm.isVisible},on:{\"click\":function($event){return _vm.$emit('delete')}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"delete\")]),_vm._v(\"\\n        Delete\\n      \")],1)],1)],{\"disabled\":_vm.isLoadingInParent || !_vm.isVisible})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card class=\"squad-list--entry-card\">\n    <v-layout row class=\"pa-2\">\n      <v-flex>\n        <h1 class=\"title\">\n          {{ squad.name }}\n        </h1>\n      </v-flex>\n      <v-spacer/>\n      <v-flex style=\"flex-grow: 0;\">\n        <h2 class=\"subheading\">\n          {{ squadCost }} Cost\n        </h2>\n      </v-flex>\n    </v-layout>\n    <v-layout row wrap class=\"px-2\">\n      <template v-if=\"!isLoadingInParent\">\n        <unit-entry\n          v-for=\"(unit, i) in fullUnits\"\n          :key=\"getUnitEntryKey(unit, i)\"\n          xs12 sm6\n          :index=\"i\"\n          :isVisible=\"isVisible\"\n          :unit=\"unit\"\n          :getUnit=\"getUnit\"\n          :getItem=\"getItem\"\n          :getExtraSkill=\"getExtraSkill\"\n          :isLead=\"i === squad.lead\"\n          :isFriend=\"i === squad.friend\"\n          class=\"d-flex py-1\"\n          style=\"align-items: center; border: 1px solid var(--background-color-alt);\"/>\n      </template>\n      <loading-indicator v-else loadingMessage=\"Loading squad data\"/>\n    </v-layout>\n    <v-divider class=\"mt-2\"/>\n    <slot name=\"card-actions\" :disabled=\"isLoadingInParent || !isVisible\">\n      <v-card-actions>\n        <v-btn flat :disabled=\"isLoadingInParent || !isVisible\" v-if=\"to\" :to=\"to\">View</v-btn>\n        <v-btn flat :disabled=\"isLoadingInParent || !isVisible\" v-else @click=\"$emit('view')\">View</v-btn>\n        <v-btn flat :disabled=\"isLoadingInParent || !isVisible\" @click=\"$emit('share')\">\n          <v-icon left>share</v-icon>\n          Share\n        </v-btn>\n        <v-spacer/>\n        <v-btn flat :disabled=\"isLoadingInParent || !isVisible\" @click=\"$emit('delete')\">\n          <v-icon left>delete</v-icon>\n          Delete\n        </v-btn>\n      </v-card-actions>\n    </slot>\n  </v-card>\n</template>\n\n<script>\nimport { unitPositionMapping } from '@/modules/constants';\nimport { generateFillerSquadUnitEntry } from '@/modules/core/squads';\nimport UnitEntry from '@/components/Tools/Squads/SquadUnitEntry';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\nimport LoadingIndicator from '@/components/LoadingIndicator';\n\nexport default {\n  mixins: [GettersMixin],\n  components: {\n    UnitEntry,\n    LoadingIndicator,\n  },\n  props: {\n    squad: {\n      type: Object,\n      required: true,\n    },\n    to: {\n      type: String,\n      default: '',\n    },\n    isVisible: {\n      type: Boolean,\n      default: true,\n    },\n    isLoadingInParent: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  computed: {\n    squadCost () {\n      return this.squad.units\n        .map(({ id }) => this.getUnit(id))\n        .reduce((acc, unit) => acc + (+(unit.cost || 0)), 0);\n    },\n    // fills empty positions with empty values\n    fullUnits () {\n      return unitPositionMapping.map(position => {\n        let unit = this.squad.units.find(unit => unit.position === position);\n        if (!unit) { // empty position, so fill it with empty data\n          unit = generateFillerSquadUnitEntry({ isEmpty: true, bbOrder: null, position });\n        }\n\n        return unit;\n      });\n    },\n  },\n  methods: {\n    getUnitEntryKey (unit = {}, i = 0) {\n      return `${JSON.stringify(unit)}-${i}`;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadListCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadListCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SquadListCard.vue?vue&type=template&id=14de4c07&\"\nimport script from \"./SquadListCard.vue?vue&type=script&lang=js&\"\nexport * from \"./SquadListCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',_vm._b({staticClass:\"squad-card--editable\"},'v-card',_vm.$attrs,false),[_c('v-layout',{staticClass:\"px-2 pt-2\",attrs:{\"row\":\"\",\"align-center\":\"\"}},[_c('v-flex',[_c('v-text-field',{attrs:{\"label\":\"Squad Name\"},model:{value:(_vm.squad.name),callback:function ($$v) {_vm.$set(_vm.squad, \"name\", $$v)},expression:\"squad.name\"}})],1),_c('v-flex',{staticClass:\"ml-2\",staticStyle:{\"flex-grow\":\"0\"}},[_c('h2',{staticClass:\"subheading\"},[_vm._v(\"\\n        \"+_vm._s(_vm.squadCost)+\" Cost\\n      \")])])],1),_c('v-layout',{staticClass:\"px-2\",attrs:{\"row\":\"\",\"wrap\":\"\"},on:{\"mouseleave\":function($event){_vm.highlightedIndex = -1}}},[(!_vm.isLoadingInParent)?[_vm._l((_vm.fullUnits),function(unit,i){return _c('unit-entry',{key:_vm.getUnitEntryKey(unit, i),staticClass:\"d-flex py-1\",style:((\"\\n          align-items: center;\\n          border: 1px solid \" + (_vm.selectedIndex === i ? 'yellow' : 'var(--background-color-alt)') + \";\\n          position: relative;\")),attrs:{\"xs12\":\"\",\"sm6\":\"\",\"index\":i,\"unit\":unit,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"isLead\":i === _vm.squad.lead,\"isFriend\":i === _vm.squad.friend},on:{\"mouseover\":function($event){_vm.highlightedIndex = i;},\"click\":function () { _vm.selectedIndex = (_vm.selectedIndex !== i ? i : -1) }}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.highlightedIndex === i),expression:\"highlightedIndex === i\"}],style:(\"\\n            position: absolute;\\n            width: 100%;\\n            height: 100%;\\n            z-index: 10;\\n            cursor: pointer;\\n          \"),attrs:{\"slot\":\"before-content\"},slot:\"before-content\"},[_c('v-container',{staticStyle:{\"background\":\"rgba(0, 0, 0, 0.5)\"},attrs:{\"fluid\":\"\",\"justify-center\":\"\",\"fill-height\":\"\"}},[_c('v-flex',{attrs:{\"align-center\":\"\"}},[_c('v-btn',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"flat\":\"\",\"block\":\"\"}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"create\")]),_vm._v(\"\\n                Edit\\n              \")],1)],1)],1)],1)])}),(_vm.squad.units[_vm.selectedIndex])?_c('v-flex',{staticClass:\"py-1\",attrs:{\"xs12\":\"\"}},[_c('v-divider')],1):_vm._e(),_c('v-layout',{attrs:{\"column\":\"\"}},[_c('v-flex',[_c('span',{domProps:{\"textContent\":_vm._s(_vm.unitSelectionText)}})]),(_vm.squad.units[_vm.selectedIndex])?_c('unit-entry-editor',{staticClass:\"py-2\",attrs:{\"squad\":_vm.squad,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"selectedIndex\":_vm.selectedIndex},on:{\"newunits\":function ($ev) { _vm.selectedIndex = $ev.newIndex; _vm.$emit('newunits', $ev.units) },\"newsquad\":function ($ev) { _vm.selectedIndex = $ev.newIndex; _vm.$emit('newsquad', $ev.squad); }}}):_vm._e()],1)]:_c('loading-indicator',{attrs:{\"loadingMessage\":\"Loading squad data\"}})],2),_c('v-divider',{staticClass:\"mt-2\"}),_vm._t(\"card-actions\",[_c('v-card-actions',{staticStyle:{\"justify-content\":\"space-between\"},attrs:{\"disabled\":_vm.isLoadingInParent}},[_c('v-btn',{attrs:{\"flat\":\"\",\"disabled\":_vm.isLoadingInParent},on:{\"click\":_vm.onSaveClick}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"save\")]),_vm._v(\"\\n        Save Squad\\n      \")],1),_c('v-btn',{attrs:{\"flat\":\"\",\"disabled\":_vm.isLoadingInParent,\"to\":_vm.redirectOnCancel ? '/tools/squads' : undefined},on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_c('span',[_vm._v(\"Cancel\")])])],1)])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{staticClass:\"unit-entry-editor\",attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-dialog',{attrs:{\"value\":!!_vm.activeDialog,\"lazy\":\"\"},on:{\"input\":function($event){_vm.activeDialog = ''}}},[(_vm.activeDialog === 'units')?_c('unit-selector',{on:{\"input\":function ($d) { return _vm.setUnit($d.data); },\"cancel\":function($event){_vm.activeDialog = ''}}}):(_vm.activeDialog === 'extraSkills')?_c('es-selector',{on:{\"input\":function ($d) { return _vm.setExtraSkill($d.id); },\"cancel\":function($event){_vm.activeDialog = ''}}}):(_vm.activeDialog === 'spheres')?_c('sphere-selector',{on:{\"input\":function ($d) { return _vm.onSelectSphere($d.id); },\"cancel\":function($event){_vm.activeDialog = ''}}}):_vm._e()],1),_c('v-layout',{staticStyle:{\"width\":\"100%\"},attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-subheader',[_vm._v(\"Unit\")])],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('unit-card',{key:_vm.unitData.id,staticClass:\"no-highlight ml-1\",attrs:{\"entry\":_vm.unitData}})],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"grid\":\"\"}},[_c('v-flex',{staticClass:\"px-1\",attrs:{\"xs12\":\"\"}},[_c('v-btn',{attrs:{\"block\":\"\"},on:{\"click\":function($event){_vm.activeDialog = 'units'}}},[_vm._v(\"\\n          Select Unit\\n        \")])],1),_c('v-flex',{staticClass:\"px-1\",attrs:{\"sm6\":\"\"}},[_c('v-btn',{attrs:{\"block\":\"\",\"disabled\":_vm.unitData.name === _vm.squadFillerMapping.EMPTY},on:{\"click\":function($event){return _vm.setUnit(_vm.squadFillerMapping.EMPTY)}}},[_vm._v(\"\\n          Set Empty\\n        \")])],1),_c('v-flex',{staticClass:\"px-1\",attrs:{\"sm6\":\"\"}},[_c('v-btn',{attrs:{\"block\":\"\",\"disabled\":_vm.unitData.name === _vm.squadFillerMapping.ANY},on:{\"click\":function($event){return _vm.setUnit(_vm.squadFillerMapping.ANY)}}},[_vm._v(\"\\n          Set Any\\n        \")])],1)],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-container',{staticClass:\"pa-1\",attrs:{\"fluid\":\"\",\"grid-list-md\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-subheader',[_vm._v(\"Position\")])],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.unitPositionMapping),function(position){return _c('v-flex',{key:position,attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-btn',{attrs:{\"block\":\"\",\"color\":position === _vm.activeUnit.position ? 'primary' : undefined},on:{\"click\":function($event){return _vm.setPosition(position)}}},[_vm._v(\"\\n            \"+_vm._s(position)+\"\\n          \")])],1)}),1)],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\"}},[_c('v-select',{staticClass:\"px-1\",attrs:{\"items\":_vm.leadFriendPossibilities,\"value\":_vm.leadFriendStatus,\"disabled\":_vm.isEmptyUnit,\"label\":\"Leader or Friend?\"},on:{\"input\":_vm.setLeadFriendStatus}})],1),_c('v-flex',{attrs:{\"xs6\":\"\",\"sm4\":\"\"}},[_c('v-layout',{attrs:{\"align-items-center\":\"\"}},[_c('v-flex',{staticClass:\"d-flex-container items-center\",staticStyle:{\"flex\":\"none\"}},[_c('v-subheader',{staticClass:\"pl-1\",staticStyle:{\"flex\":\"auto\"}},[_vm._v(\"BB Order\")])],1),_c('v-flex',{staticClass:\"d-flex-container items-center\"},[_c('v-select',{staticClass:\"pr-1\",attrs:{\"value\":_vm.activeUnit.bbOrder,\"items\":_vm.bbOrderPossibilities},on:{\"input\":_vm.setBbOrder}})],1)],1)],1),_c('v-flex',{attrs:{\"xs6\":\"\",\"sm4\":\"\"}},[_c('v-layout',{attrs:{\"align-items-center\":\"\"}},[_c('v-flex',{staticClass:\"d-flex-container items-center\",staticStyle:{\"flex\":\"none\"}},[_c('v-subheader',{staticClass:\"pl-1\",staticStyle:{\"flex\":\"auto\"}},[_vm._v(\"Action\")])],1),_c('v-flex',{staticClass:\"d-flex-container items-center\"},[_c('v-select',{staticClass:\"pr-1\",attrs:{\"disabled\":_vm.isEmptyUnit,\"items\":_vm.actionPossibilities,\"value\":_vm.activeUnit.action},on:{\"input\":_vm.setAction}})],1)],1)],1),_c('v-layout',{staticStyle:{\"width\":\"100%\",\"padding-bottom\":\"8px\"},attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-subheader',[_vm._v(\"Extra Skill\")])],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('extra-skill-card',{key:_vm.esData.id,staticClass:\"no-highlight ml-1\",attrs:{\"showAssociatedUnits\":false,\"entry\":_vm.esData}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\",\"fill-height\":\"\"}},[_c('v-flex',{staticClass:\"px-1\",attrs:{\"xs12\":\"\"}},[_c('v-btn',{attrs:{\"block\":\"\",\"disabled\":_vm.isEmptyUnit},on:{\"click\":function($event){_vm.activeDialog = 'extraSkills'}}},[_vm._v(\"\\n            Select Extra Skill\\n          \")])],1),_c('v-flex',{staticClass:\"px-1\",attrs:{\"xs12\":\"\"}},[_c('v-btn',{attrs:{\"block\":\"\",\"disabled\":_vm.esData.id === 0},on:{\"click\":function($event){return _vm.setExtraSkill('')}}},[_vm._v(\"\\n            Clear Extra Skill\\n          \")])],1)],1)],1)],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[(_vm.$vuetify.breakpoint.smAndUp)?_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-subheader',[_vm._v(\"Spheres\")])],1):_vm._e(),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-layout',{attrs:{\"column\":\"\"}},[(_vm.$vuetify.breakpoint.xsOnly)?_c('v-flex',[_c('v-subheader',[_vm._v(\"Sphere 1\")])],1):_vm._e(),_c('v-flex',[_c('sphere-card',{key:(_vm.sphereData[0] || _vm.emptySphere).id,staticClass:\"no-highlight ml-1\",attrs:{\"entry\":(_vm.sphereData[0] || _vm.emptySphere)}})],1),_c('v-flex',{staticClass:\"px-1\"},[_c('v-btn',{attrs:{\"block\":\"\",\"disabled\":_vm.isEmptyUnit},on:{\"click\":function () { _vm.lastSelectedSphereIndex = 0; _vm.activeDialog = 'spheres'; }}},[_vm._v(\"\\n            Select Sphere 1\\n          \")])],1),_c('v-flex',{staticClass:\"px-1\"},[_c('v-btn',{attrs:{\"block\":\"\",\"disabled\":!_vm.sphereData[0]},on:{\"click\":function($event){_vm.setSpheres(_vm.activeUnit.spheres.slice(1, 2))}}},[_vm._v(\"\\n            Clear Sphere 1\\n          \")])],1)],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-layout',{attrs:{\"column\":\"\"}},[(_vm.$vuetify.breakpoint.xsOnly)?_c('v-flex',[_c('v-subheader',[_vm._v(\"Sphere 2\")])],1):_vm._e(),_c('v-flex',[_c('sphere-card',{key:(_vm.sphereData[1] || _vm.emptySphere).id,staticClass:\"no-highlight ml-1\",attrs:{\"entry\":(_vm.sphereData[1] || _vm.emptySphere)}})],1),_c('v-flex',{staticClass:\"px-1\"},[_c('v-btn',{attrs:{\"block\":\"\",\"disabled\":_vm.isEmptyUnit},on:{\"click\":function () { _vm.lastSelectedSphereIndex = 1; _vm.activeDialog = 'spheres'; }}},[_vm._v(\"\\n            Select Sphere 2\\n          \")])],1),_c('v-flex',{staticClass:\"px-1\"},[_c('v-btn',{attrs:{\"block\":\"\",\"disabled\":!_vm.sphereData[1]},on:{\"click\":function($event){_vm.setSpheres(_vm.activeUnit.spheres.slice(0, 1))}}},[_vm._v(\"\\n            Clear Sphere 2\\n          \")])],1)],1)],1)],1),(!_vm.isEmptyUnit && Array.isArray(_vm.unitData.feskills))?_c('v-layout',{staticStyle:{\"width\":\"100%\"},attrs:{\"column\":\"\"}},[_c('v-flex',[_c('v-subheader',[_c('span',[_vm._v(\"SP Enhancements\")]),(_vm.activeUnit.sp)?_c('span',{staticClass:\"pl-1\"},[_vm._v(\"\\n          (\"+_vm._s(_vm.activeUnit.sp)+\")\\n        \")]):_vm._e()])],1),_c('v-flex',[_c('sp-build-table',{attrs:{\"value\":_vm.activeUnit.sp,\"feSkills\":_vm.unitData.feskills},on:{\"input\":_vm.setEnhancements}})],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-layout row wrap class=\"unit-entry-editor\">\n    <v-dialog\n      :value=\"!!activeDialog\"\n      @input=\"activeDialog = ''\"\n      lazy>\n      <unit-selector\n        v-if=\"activeDialog === 'units'\"\n        @input=\"$d => setUnit($d.data)\"\n        @cancel=\"activeDialog = ''\"/>\n      <es-selector\n        v-else-if=\"activeDialog === 'extraSkills'\"\n        @input=\"$d => setExtraSkill($d.id)\"\n        @cancel=\"activeDialog = ''\"/>\n      <sphere-selector\n        v-else-if=\"activeDialog === 'spheres'\"\n        @input=\"$d => onSelectSphere($d.id)\"\n        @cancel=\"activeDialog = ''\"/>\n    </v-dialog>\n    <v-layout row style=\"width: 100%;\" wrap>\n      <v-flex xs12>\n        <v-subheader>Unit</v-subheader>\n      </v-flex>\n      <v-flex xs12 sm6>\n        <unit-card\n          :key=\"unitData.id\"\n          :entry=\"unitData\"\n          class=\"no-highlight ml-1\"/>\n      </v-flex>\n      <v-layout row wrap grid>\n        <v-flex xs12 class=\"px-1\">\n          <v-btn block @click=\"activeDialog = 'units'\">\n            Select Unit\n          </v-btn>\n        </v-flex>\n        <v-flex sm6 class=\"px-1\">\n          <v-btn\n            block\n            @click=\"setUnit(squadFillerMapping.EMPTY)\"\n            :disabled=\"unitData.name === squadFillerMapping.EMPTY\">\n            Set Empty\n          </v-btn>\n        </v-flex>\n        <v-flex sm6 class=\"px-1\">\n          <v-btn\n            block\n            @click=\"setUnit(squadFillerMapping.ANY)\"\n            :disabled=\"unitData.name === squadFillerMapping.ANY\">\n            Set Any\n          </v-btn>\n        </v-flex>\n      </v-layout>\n    </v-layout>\n    <v-flex xs12>\n      <v-container fluid grid-list-md class=\"pa-1\">\n        <v-flex xs12>\n          <v-subheader>Position</v-subheader>\n        </v-flex>\n        <v-layout row wrap>\n          <v-flex\n            v-for=\"position in unitPositionMapping\"\n            :key=\"position\"\n            xs12 sm6>\n            <v-btn\n              block\n              @click=\"setPosition(position)\"\n              :color=\"position === activeUnit.position ? 'primary' : undefined\">\n              {{ position }}\n            </v-btn>\n          </v-flex>\n        </v-layout>\n      </v-container>\n    </v-flex>\n    <v-flex xs12 sm4>\n      <v-select\n        class=\"px-1\"\n        :items=\"leadFriendPossibilities\"\n        :value=\"leadFriendStatus\"\n        @input=\"setLeadFriendStatus\"\n        :disabled=\"isEmptyUnit\"\n        label=\"Leader or Friend?\"/>\n    </v-flex>\n    <v-flex xs6 sm4>\n      <v-layout align-items-center>\n        <v-flex style=\"flex: none;\" class=\"d-flex-container items-center\">\n          <v-subheader class=\"pl-1\" style=\"flex: auto;\">BB Order</v-subheader>\n        </v-flex>\n        <v-flex class=\"d-flex-container items-center\">\n        <v-select\n          class=\"pr-1\"\n          :value=\"activeUnit.bbOrder\"\n          @input=\"setBbOrder\"\n          :items=\"bbOrderPossibilities\"/>\n        </v-flex>\n      </v-layout>\n    </v-flex>\n    <v-flex xs6 sm4>\n      <v-layout align-items-center>\n        <v-flex style=\"flex: none;\" class=\"d-flex-container items-center\">\n          <v-subheader class=\"pl-1\" style=\"flex: auto;\">Action</v-subheader>\n        </v-flex>\n        <v-flex class=\"d-flex-container items-center\">\n        <v-select\n          class=\"pr-1\"\n          :disabled=\"isEmptyUnit\"\n          :items=\"actionPossibilities\"\n          :value=\"activeUnit.action\"\n          @input=\"setAction\"/>\n        </v-flex>\n      </v-layout>\n    </v-flex>\n    <v-layout row style=\"width: 100%; padding-bottom: 8px;\" wrap>\n      <v-flex xs12>\n        <v-subheader>Extra Skill</v-subheader>\n      </v-flex>\n      <v-flex xs12 sm6>\n        <extra-skill-card\n          :showAssociatedUnits=\"false\"\n          :key=\"esData.id\"\n          :entry=\"esData\"\n          class=\"no-highlight ml-1\"/>\n      </v-flex>\n      <v-flex xs12 sm6>\n        <v-layout row wrap align-center fill-height>\n          <v-flex xs12 class=\"px-1\">\n            <v-btn block :disabled=\"isEmptyUnit\" @click=\"activeDialog = 'extraSkills'\">\n              Select Extra Skill\n            </v-btn>\n          </v-flex>\n          <v-flex xs12 class=\"px-1\">\n            <v-btn\n              block\n              @click=\"setExtraSkill('')\"\n              :disabled=\"esData.id === 0\">\n              Clear Extra Skill\n            </v-btn>\n          </v-flex>\n        </v-layout>\n      </v-flex>\n    </v-layout>\n    <v-layout row wrap>\n      <v-flex xs12 v-if=\"$vuetify.breakpoint.smAndUp\">\n        <v-subheader>Spheres</v-subheader>\n      </v-flex>\n      <v-flex xs12 sm6>\n        <v-layout column>\n          <v-flex v-if=\"$vuetify.breakpoint.xsOnly\">\n            <v-subheader>Sphere 1</v-subheader>\n          </v-flex>\n          <v-flex>\n            <sphere-card\n              :key=\"(sphereData[0] || emptySphere).id\"\n              :entry=\"(sphereData[0] || emptySphere)\"\n              class=\"no-highlight ml-1\"/>\n          </v-flex>\n          <v-flex class=\"px-1\">\n            <v-btn block :disabled=\"isEmptyUnit\" @click=\"() => { lastSelectedSphereIndex = 0; activeDialog = 'spheres'; }\">\n              Select Sphere 1\n            </v-btn>\n          </v-flex>\n          <v-flex class=\"px-1\">\n            <v-btn\n              @click=\"setSpheres(activeUnit.spheres.slice(1, 2))\"\n              block\n              :disabled=\"!sphereData[0]\">\n              Clear Sphere 1\n            </v-btn>\n          </v-flex>\n        </v-layout>\n      </v-flex>\n      <v-flex xs12 sm6>\n        <v-layout column>\n          <v-flex v-if=\"$vuetify.breakpoint.xsOnly\">\n            <v-subheader>Sphere 2</v-subheader>\n          </v-flex>\n          <v-flex>\n            <sphere-card\n              :key=\"(sphereData[1] || emptySphere).id\"\n              :entry=\"(sphereData[1] || emptySphere)\"\n              class=\"no-highlight ml-1\"/>\n          </v-flex>\n          <v-flex class=\"px-1\">\n            <v-btn block :disabled=\"isEmptyUnit\" @click=\"() => { lastSelectedSphereIndex = 1; activeDialog = 'spheres'; }\">\n              Select Sphere 2\n            </v-btn>\n          </v-flex>\n          <v-flex class=\"px-1\">\n            <v-btn\n              block\n              @click=\"setSpheres(activeUnit.spheres.slice(0, 1))\"\n              :disabled=\"!sphereData[1]\">\n              Clear Sphere 2\n            </v-btn>\n          </v-flex>\n        </v-layout>\n      </v-flex>\n    </v-layout>\n    <v-layout column style=\"width: 100%;\" v-if=\"!isEmptyUnit && Array.isArray(unitData.feskills)\">\n      <v-flex>\n        <v-subheader>\n          <span>SP Enhancements</span>\n          <span v-if=\"activeUnit.sp\" class=\"pl-1\">\n            ({{ activeUnit.sp }})\n          </span>\n        </v-subheader>\n      </v-flex>\n      <v-flex>\n        <sp-build-table\n          :value=\"activeUnit.sp\"\n          @input=\"setEnhancements\"\n          :feSkills=\"unitData.feskills\"/>\n      </v-flex>\n    </v-layout>\n  </v-layout>\n</template>\n\n<script>\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\nimport UnitCard from '@/components/Multidex/Units/EntryCard';\nimport ExtraSkillCard from '@/components/Multidex/ExtraSkills/EntryCard';\nimport SphereCard from '@/components/Multidex/Items/EntryCard';\nimport SpBuildTable from '@/components/Multidex/Units/SpBuildTable';\nimport UnitSelector from '@/components/Tools/Squads/MultidexSelectors/UnitSelector';\nimport EsSelector from '@/components/Tools/Squads/MultidexSelectors/ExtraSkillSelector';\nimport SphereSelector from '@/components/Tools/Squads/MultidexSelectors/SphereSelector';\nimport { Logger } from '@/modules/Logger';\nimport { squadFillerMapping, unitPositionMapping, squadUnitActions } from '@/modules/constants';\nimport { isValidUnit, getFillerUnit } from '@/modules/core/units';\nimport { isValidSkill, getEmptySkill } from '@/modules/core/extra-skills';\nimport { isValidSphere, getEmptySphere } from '@/modules/core/items';\nimport { cloneSquad, sortUnitsByPosition, fixSquadErrors } from '@/modules/core/squads';\n\n// eslint-disable-next-line no-unused-vars\nconst logger = new Logger({ prefix: '[UnitEntryEditor]' });\nexport default {\n  mixins: [GettersMixin],\n  components: {\n    UnitCard,\n    ExtraSkillCard,\n    SphereCard,\n    SpBuildTable,\n    UnitSelector,\n    EsSelector,\n    SphereSelector,\n  },\n  props: {\n    squad: {\n      type: Object,\n      required: true,\n    },\n    selectedIndex: {\n      type: Number,\n      default: -1,\n    },\n  },\n  computed: {\n    activeUnit () {\n      return this.localSquad.units[this.selectedIndex] || {};\n    },\n    isEmptyUnit () {\n      return this.unitData.name === squadFillerMapping.EMPTY;\n    },\n    unitData () {\n      const initialData = this.getUnit(this.activeUnit.id);\n      return isValidUnit(initialData)\n        ? initialData\n        : getFillerUnit(this.activeUnit.id === squadFillerMapping.EMPTY);\n    },\n    esData () {\n      const initialData = this.getExtraSkill(this.activeUnit.es);\n      return isValidSkill(initialData)\n        ? initialData\n        : getEmptySkill();\n    },\n    sphereData () {\n      return this.activeUnit.spheres.map(sphereId => {\n        const initialData = this.getItem(sphereId);\n        return isValidSphere(initialData)\n          ? initialData\n          : this.emptySphere;\n      });\n    },\n    emptySphere () {\n      return getEmptySphere();\n    },\n    unitPositionMapping: () => unitPositionMapping,\n    squadFillerMapping: () => squadFillerMapping,\n    leadFriendPossibilities: () => ['Leader', 'Friend', 'Neither'],\n    leadFriendStatus () {\n      return [\n        this.localSquad.lead === this.selectedIndex && 'Leader',\n        this.localSquad.friend === this.selectedIndex && 'Friend',\n        'Neither',\n      ].find(v => v);\n    },\n    bbOrderPossibilities: () => Object.freeze(new Array(6).fill(0).map((_, i) => i + 1)),\n    actionPossibilities () {\n      const availableBurstTypes = [\n        {\n          text: 'BB',\n          value: squadUnitActions.BB,\n        },\n        {\n          text: 'SBB',\n          value: squadUnitActions.SBB,\n        },\n        {\n          text: 'UBB',\n          value: squadUnitActions.UBB,\n        },\n      ].filter(({ value }) => this.activeUnit.id === squadFillerMapping.ANY || this.unitData[value] || this.activeUnit.action === value);\n\n      const nonBurstActions = [\n        {\n          text: 'None',\n          value: squadUnitActions.NONE,\n        },\n        (!this.isEmptyUnit && {\n          text: 'Attack',\n          value: squadUnitActions.ATK,\n        }),\n      ].filter(v => v);\n      return nonBurstActions.concat(availableBurstTypes);\n    },\n  },\n  data () {\n    return {\n      activeDialog: '',\n      localSquad: {},\n      lastSelectedSphereIndex: -1,\n    };\n  },\n  methods: {\n    onSelectSphere (sphereId) {\n      let spheres = this.activeUnit.spheres.slice();\n      if (this.lastSelectedSphereIndex > -1 && !spheres.includes(sphereId) && !spheres.includes(+sphereId)) {\n        if (spheres[this.lastSelectedSphereIndex]) {\n          spheres[this.lastSelectedSphereIndex] = sphereId;\n        } else if (spheres.length < 2) {\n          spheres.push(sphereId);\n        } else {\n          // remove first sphere\n          spheres = [spheres[1], sphereId];\n        }\n        this.setSpheres(spheres);\n      }\n      this.activeDialog = '';\n    },\n    emitUnits (units = [], newIndex) {\n      this.$emit('newunits', { units, newIndex: !isNaN(newIndex) ? newIndex : this.selectedIndex });\n      if (this.activeDialog) {\n        this.activeDialog = '';\n      }\n    },\n    emitSquad (squad = {}, newIndex) {\n      this.$emit('newsquad', { squad, newIndex: !isNaN(newIndex) ? newIndex : this.selectedIndex });\n      if (this.activeDialog) {\n        this.activeDialog = '';\n      }\n    },\n    // update an internal value for the current unit\n    updateCurrentUnit (newUnitData = {}) {\n      this.lastSelectedSphereIndex = -1;\n      this.emitUnits([\n        ...this.localSquad.units.slice(0, this.selectedIndex),\n        {\n          ...this.activeUnit,\n          ...newUnitData,\n        },\n        ...this.localSquad.units.slice(this.selectedIndex + 1),\n      ]);\n    },\n    setPosition (position) {\n      const { units, lead, friend } = this.localSquad;\n      const unitToSwap = units.find(u => u.position === position);\n      if (unitToSwap && unitToSwap !== this.activeUnit) {\n        const otherUnits = units.filter((u, i) => i !== this.selectedIndex && u !== unitToSwap);\n        const newUnitList = sortUnitsByPosition([\n          ...otherUnits,\n          {\n            ...unitToSwap,\n            position: this.activeUnit.position,\n          },\n          {\n            ...this.activeUnit,\n            position,\n          },\n        ], false);\n\n        const newIndex = unitPositionMapping.indexOf(position);\n        this.emitSquad({\n          ...this.localSquad,\n          lead: this.selectedIndex === lead ? newIndex : lead,\n          friend: this.selectedIndex === friend ? newIndex : friend,\n          units: newUnitList,\n        }, newIndex);\n      }\n    },\n    setLeadFriendStatus (status) {\n      const { lead, friend } = this.localSquad;\n      if (status === 'Leader') {\n        if (friend === this.selectedIndex) {\n          this.localSquad.friend = lead;\n        }\n        this.localSquad.lead = this.selectedIndex;\n      } else if (status === 'Friend') {\n        if (lead === this.selectedIndex) {\n          this.localSquad.lead = friend;\n        }\n        this.localSquad.friend = this.selectedIndex;\n      } else {\n        // neither\n        // allow for squads to have no leader/friend lead\n        if (lead === this.selectedIndex) {\n          this.localSquad.lead = -1;\n        } else if (friend === this.selectedIndex) {\n          this.localSquad.friend = -1;\n        }\n      }\n\n      this.emitSquad(this.localSquad);\n    },\n    setBbOrder (order) {\n      const unitToSwapOrder = this.localSquad.units.find(u => u.bbOrder === order);\n      if (unitToSwapOrder && unitToSwapOrder !== this.activeUnit) {\n        const otherUnits = this.localSquad.units.filter((u, i) => i !== this.selectedIndex && u !== unitToSwapOrder);\n        const newUnitList = sortUnitsByPosition([\n          ...otherUnits,\n          {\n            ...unitToSwapOrder,\n            bbOrder: this.activeUnit.bbOrder,\n          },\n          {\n            ...this.activeUnit,\n            bbOrder: order,\n          },\n        ], false);\n        this.emitUnits(newUnitList);\n      }\n    },\n    setAction (action) {\n      if (this.actionPossibilities.some(({ value }) => action === value)) {\n        this.updateCurrentUnit({ action });\n      }\n    },\n    setEnhancements (sp) {\n      this.updateCurrentUnit({ sp });\n    },\n    async setUnit (id) {\n      let tempData;\n      if (id.then !== undefined) {\n        await id.then(data => {\n          tempData = data;\n        });\n      } else {\n        tempData = this.getUnit(id);\n      }\n      if (isValidUnit(tempData) || id === squadFillerMapping.ANY || id === squadFillerMapping.EMPTY) {\n        const { lead, friend, name } = this.localSquad;\n        // eslint-disable-next-line no-unused-vars\n        const { messages, ...squad } = fixSquadErrors({\n          lead,\n          friend,\n          name,\n          units: [\n            ...this.localSquad.units.slice(0, this.selectedIndex),\n            {\n              ...this.activeUnit,\n              id: (id.then !== undefined && tempData.id) || id,\n              sp: '', // reset SP on change\n            },\n            ...this.localSquad.units.slice(this.selectedIndex + 1),\n          ],\n        }, {\n          getUnit: (inputId) => +inputId === +tempData.id ? tempData : this.getUnit(inputId),\n          getExtraSkill: this.getExtraSkill,\n          getItem: this.getItem,\n        });\n        this.emitSquad(squad);\n      }\n    },\n    setExtraSkill (es) {\n      this.updateCurrentUnit({ es });\n    },\n    setSpheres (spheres = []) {\n      const newSphereList = spheres.map(id => (id || '').toString()).filter(v => v);\n      this.updateCurrentUnit({ spheres: newSphereList });\n    },\n  },\n  watch: {\n    squad: {\n      immediate: true,\n      deep: true,\n      handler (value) {\n        this.localSquad = cloneSquad(value);\n      },\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.unit-entry-editor {\n  .v-subheader {\n    padding-left: 0;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitEntryEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitEntryEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UnitEntryEditor.vue?vue&type=template&id=216b9afa&scoped=true&\"\nimport script from \"./UnitEntryEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./UnitEntryEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UnitEntryEditor.vue?vue&type=style&index=0&id=216b9afa&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"216b9afa\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-card class=\"squad-card--editable\" v-bind=\"$attrs\">\n    <v-layout row class=\"px-2 pt-2\" align-center>\n      <v-flex>\n        <v-text-field v-model=\"squad.name\" label=\"Squad Name\"/>\n      </v-flex>\n      <v-flex style=\"flex-grow: 0;\" class=\"ml-2\">\n        <h2 class=\"subheading\">\n          {{ squadCost }} Cost\n        </h2>\n      </v-flex>\n    </v-layout>\n    <v-layout row wrap class=\"px-2\" @mouseleave=\"highlightedIndex = -1\">\n      <template v-if=\"!isLoadingInParent\">\n        <unit-entry\n          v-for=\"(unit, i) in fullUnits\"\n          :key=\"getUnitEntryKey(unit, i)\"\n          xs12 sm6\n          :index=\"i\"\n          :unit=\"unit\"\n          :getUnit=\"getUnit\"\n          :getItem=\"getItem\"\n          :getExtraSkill=\"getExtraSkill\"\n          :isLead=\"i === squad.lead\"\n          :isFriend=\"i === squad.friend\"\n          @mouseover=\"highlightedIndex = i;\"\n          @click=\"() => { selectedIndex = (selectedIndex !== i ? i : -1) }\"\n          class=\"d-flex py-1\"\n          :style=\"`\n            align-items: center;\n            border: 1px solid ${selectedIndex === i ? 'yellow' : 'var(--background-color-alt)'};\n            position: relative;`\">\n          <div\n            slot=\"before-content\"\n            v-show=\"highlightedIndex === i\"\n            :style=\"`\n              position: absolute;\n              width: 100%;\n              height: 100%;\n              z-index: 10;\n              cursor: pointer;\n            `\">\n            <v-container\n              fluid justify-center\n              fill-height\n              style=\"background: rgba(0, 0, 0, 0.5);\">\n              <v-flex align-center>\n                <v-btn flat block style=\"pointer-events: none;\">\n                  <v-icon left>create</v-icon>\n                  Edit\n                </v-btn>\n              </v-flex>\n            </v-container>\n          </div>\n        </unit-entry>\n        <v-flex v-if=\"squad.units[selectedIndex]\" xs12 class=\"py-1\">\n          <v-divider/>\n        </v-flex>\n        <v-layout column>\n          <v-flex>\n            <span v-text=\"unitSelectionText\"/>\n          </v-flex>\n          <unit-entry-editor\n            v-if=\"squad.units[selectedIndex]\"\n            class=\"py-2\"\n            @newunits=\"($ev) => { selectedIndex = $ev.newIndex; $emit('newunits', $ev.units) }\"\n            @newsquad=\"($ev) => { selectedIndex = $ev.newIndex; $emit('newsquad', $ev.squad); }\"\n            :squad=\"squad\"\n            :getUnit=\"getUnit\"\n            :getItem=\"getItem\"\n            :getExtraSkill=\"getExtraSkill\"\n            :selectedIndex=\"selectedIndex\"/>\n        </v-layout>\n      </template>\n      <loading-indicator v-else loadingMessage=\"Loading squad data\"/>\n    </v-layout>\n    <v-divider class=\"mt-2\"/>\n    <slot name=\"card-actions\">\n      <v-card-actions style=\"justify-content: space-between;\" :disabled=\"isLoadingInParent\">\n        <v-btn\n          flat\n          :disabled=\"isLoadingInParent\"\n          @click=\"onSaveClick\">\n          <v-icon left>save</v-icon>\n          Save Squad\n        </v-btn>\n        <v-btn\n          flat\n          :disabled=\"isLoadingInParent\"\n          :to=\"redirectOnCancel ? '/tools/squads' : undefined\"\n          @click=\"$emit('cancel')\">\n          <span>Cancel</span>\n        </v-btn>\n      </v-card-actions>\n    </slot>\n  </v-card>\n</template>\n\n<script>\nimport { unitPositionMapping } from '@/modules/constants';\nimport { generateFillerSquadUnitEntry } from '@/modules/core/squads';\nimport UnitEntry from '@/components/Tools/Squads/SquadUnitEntry';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\nimport LoadingIndicator from '@/components/LoadingIndicator';\nimport UnitEntryEditor from '@/components/Tools/Squads/UnitEntryEditor';\n\nexport default {\n  mixins: [GettersMixin],\n  components: {\n    UnitEntry,\n    LoadingIndicator,\n    UnitEntryEditor,\n  },\n  props: {\n    squad: {\n      type: Object,\n      required: true,\n    },\n    isLoadingInParent: {\n      type: Boolean,\n      default: false,\n    },\n    redirectOnCancel: {\n      type: Boolean,\n      default: true,\n    },\n    squadId: {\n      type: String,\n      default: '',\n    },\n  },\n  computed: {\n    squadCost () {\n      return this.squad.units\n        .map(({ id }) => this.getUnit(id))\n        .reduce((acc, unit) => acc + (+(unit.cost || 0)), 0);\n    },\n    // fills empty positions with empty values\n    fullUnits () {\n      return unitPositionMapping.map(position => {\n        let unit = this.squad.units.find(unit => unit.position === position);\n        if (!unit) { // empty position, so fill it with empty data\n          unit = generateFillerSquadUnitEntry({ isEmpty: true, bbOrder: null, position });\n        }\n        return unit;\n      });\n    },\n    unitSelectionText () {\n      return [\n        'Select a unit to edit its details.',\n        this.squad.units[this.selectedIndex] && 'Select the same unit to deselect it.',\n      ].filter(v => v).join(' ');\n    },\n  },\n  data () {\n    return {\n      highlightedIndex: -1,\n      selectedIndex: -1,\n    };\n  },\n  methods: {\n    getUnitEntryKey (unit = {}, i = 0) {\n      return `${JSON.stringify(unit)}-${i}`;\n    },\n    async onSaveClick () {\n      const resultKey = await this.$store.dispatch('squads/storeSquad', {\n        server: this.$store.state.settings.activeServer,\n        squad: this.squad,\n        id: this.squadId || undefined,\n      });\n      this.$emit('save', resultKey);\n    },\n  },\n  watch: {\n    selectedIndex () {\n      this.highlightedIndex = -1;\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.squad-card--editable {\n  .v-card__actions {\n    position: sticky;\n    bottom: 0;\n    background-color: inherit;\n\n    a:not(:hover):before {\n      background-color: inherit;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadListCardEditable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadListCardEditable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SquadListCardEditable.vue?vue&type=template&id=0882479f&\"\nimport script from \"./SquadListCardEditable.vue?vue&type=script&lang=js&\"\nexport * from \"./SquadListCardEditable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SquadListCardEditable.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"buff-table-grid\",style:(_vm.mainGridStyle)},[(_vm.showHeaders)?[_c('span',{staticClass:\"id-cell header-cell\"},[_c('v-btn',{staticStyle:{\"min-height\":\"40px\"},attrs:{\"flat\":\"\",\"small\":\"\"},on:{\"click\":_vm.toggleAllEffectViews}},[_c('v-icon',[_vm._v(_vm._s(_vm.hiddenIndices.length === _vm.mappedEffects.length ? 'fullscreen' : 'fullscreen_exit'))]),_vm._v(\"\\n        ID\\n      \")],1)],1),_vm._m(0)]:_vm._e(),_vm._l((_vm.mappedEffects),function(effectEntry,i){return [_c('span',{key:((effectEntry.id) + \"-\" + i + \"=id\"),staticClass:\"id-cell\"},[_c('v-btn',{staticClass:\"collapse-btn\",attrs:{\"flat\":\"\",\"small\":\"\"},on:{\"click\":function () { return _vm.toggleEffectView(i); }}},[_c('span',{staticStyle:{\"flex\":\"1 1 100%\"}},[_c('v-icon',[_vm._v(_vm._s(_vm.hiddenIndices.includes(i) ? 'keyboard_arrow_up' : 'keyboard_arrow_down'))])],1),_c('span',{staticStyle:{\"flex\":\"1 1 100%\"}},[_vm._t(\"default\",[_vm._v(\"\\n            \"+_vm._s(effectEntry.id)+\"\\n          \")])],2),_c('span',{staticStyle:{\"flex\":\"1 1 100%\"}},[_c('v-icon',[_vm._v(_vm._s(_vm.hiddenIndices.includes(i) ? 'keyboard_arrow_down' : 'keyboard_arrow_up'))])],1)])],1),_c('span',{key:((effectEntry.id) + \"-\" + i + \"-value-subgrid\"),staticClass:\"value-subgrid\"},[(_vm.hiddenIndices.includes(i))?_c('span',{staticClass:\"property-cell\",staticStyle:{\"grid-column\":\"span 2\"},domProps:{\"textContent\":_vm._s(_vm.getEffectsHiddenText(_vm.getSortedProps(effectEntry.effect).length, effectEntry.effect))}}):[_vm._l((_vm.getSortedProps(effectEntry.effect)),function(prop,j){\nvar _obj, _obj$1, _obj$2;\nreturn [_c('span',{key:((effectEntry.id) + \"-\" + i + \"-\" + j + \"-property\"),class:( _obj = {\n              'property-cell': true\n            }, _obj[j % 2 === 0 ? 'even-row' : 'odd-row'] = true, _obj['only-row'] =  _vm.getSortedProps(effectEntry.effect).length === 1, _obj )},[_c('span',{domProps:{\"textContent\":_vm._s(prop)}})]),(_vm.hasBuffTable && _vm.isProcBuffList(prop))?_c('span',{key:((effectEntry.id) + \"-\" + i + \"-\" + j + \"-table\"),class:( _obj$1 = {\n              'value-cell has-table': true\n            }, _obj$1[j % 2 === 0 ? 'even-row' : 'odd-row'] = true, _obj$1['only-row'] =  _vm.getSortedProps(effectEntry.effect).length === 1, _obj$1 )},[_c('buff-table-grid',{attrs:{\"effects\":effectEntry.effect[prop]}})],1):_c('span',{key:((effectEntry.id) + \"-\" + i + \"-\" + j + \"-value\"),class:( _obj$2 = {\n              'value-cell': true\n            }, _obj$2[j % 2 === 0 ? 'even-row' : 'odd-row'] = true, _obj$2['only-row'] =  _vm.getSortedProps(effectEntry.effect).length === 1, _obj$2 ),staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\"}},[_vm._v(\"\\n            \"+_vm._s(effectEntry.effect[prop])+\"\\n            \"),(_vm.isEmptyArray(effectEntry.effect[prop]))?_c('span',{staticStyle:{\"padding-left\":\"4px\"}},[_vm._v(\"\\n              (None)\\n            \")]):_vm._e()])]})]],2)]})],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"value-subgrid header-grid\"},[_c('span',{staticClass:\"property-cell header-cell\"},[_vm._v(\"\\n        Buff Property\\n      \")]),_c('span',{staticClass:\"value-cell header-cell\"},[_vm._v(\"\\n        Buff Value\\n      \")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"buff-table-grid\" :style=\"mainGridStyle\">\n    <template v-if=\"showHeaders\">\n      <span class=\"id-cell header-cell\">\n        <v-btn flat @click=\"toggleAllEffectViews\" small style=\"min-height: 40px;\">\n          <v-icon>{{ hiddenIndices.length === mappedEffects.length ? 'fullscreen' : 'fullscreen_exit' }}</v-icon>\n          ID\n        </v-btn>\n      </span>\n      <span class=\"value-subgrid header-grid\">\n        <span class=\"property-cell header-cell\">\n          Buff Property\n        </span>\n        <span class=\"value-cell header-cell\">\n          Buff Value\n        </span>\n      </span>\n    </template>\n    <template v-for=\"(effectEntry, i) in mappedEffects\">\n      <span class=\"id-cell\" :key=\"`${effectEntry.id}-${i}=id`\">\n        <v-btn flat small class=\"collapse-btn\" @click=\"() => toggleEffectView(i)\">\n          <span style=\"flex: 1 1 100%;\">\n            <v-icon>{{ hiddenIndices.includes(i) ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}</v-icon>\n          </span>\n          <span style=\"flex: 1 1 100%;\">\n            <slot name=\"default\">\n              {{ effectEntry.id }}\n            </slot>\n          </span>\n          <span style=\"flex: 1 1 100%;\">\n            <v-icon>{{ hiddenIndices.includes(i) ? 'keyboard_arrow_down' : 'keyboard_arrow_up' }}</v-icon>\n          </span>\n        </v-btn>\n      </span>\n      <span  \n        class=\"value-subgrid\"\n        :key=\"`${effectEntry.id}-${i}-value-subgrid`\"\n      >\n        <span\n          v-if=\"hiddenIndices.includes(i)\"\n          class=\"property-cell\"\n          style=\"grid-column: span 2\"\n          v-text=\"getEffectsHiddenText(getSortedProps(effectEntry.effect).length, effectEntry.effect)\"\n        />\n        <template v-else>\n          <template v-for=\"(prop, j) in getSortedProps(effectEntry.effect)\">\n            <span\n              :class=\"{\n                'property-cell': true,\n                [j % 2 === 0 ? 'even-row' : 'odd-row']: true,\n                'only-row': getSortedProps(effectEntry.effect).length === 1,\n              }\"\n              :key=\"`${effectEntry.id}-${i}-${j}-property`\"\n            >\n              <span v-text=\"prop\"/>\n            </span>\n            <span\n              v-if=\"hasBuffTable && isProcBuffList(prop)\"\n              :class=\"{\n                'value-cell has-table': true,\n                [j % 2 === 0 ? 'even-row' : 'odd-row']: true,\n                'only-row': getSortedProps(effectEntry.effect).length === 1,\n              }\"\n              :key=\"`${effectEntry.id}-${i}-${j}-table`\"\n            >\n              <buff-table-grid :effects=\"effectEntry.effect[prop]\"/>\n            </span>\n            <span\n              v-else\n              :class=\"{\n                'value-cell': true,\n                [j % 2 === 0 ? 'even-row' : 'odd-row']: true,\n                'only-row': getSortedProps(effectEntry.effect).length === 1,\n              }\"\n              :key=\"`${effectEntry.id}-${i}-${j}-value`\"\n              style=\"display: flex; align-items: center; justify-content: center;\"\n            >\n              {{ effectEntry.effect[prop] }}\n              <span v-if=\"isEmptyArray(effectEntry.effect[prop])\" style=\"padding-left: 4px\">\n                (None)\n              </span>\n            </span>\n          </template>\n        </template>\n      </span>\n    </template>\n  </div>\n</template>\n\n<script>\nimport { getEffectType, getEffectId } from '@/modules/EffectProcessor/processor-helper';\nimport { getEffectName, handleUnknownParams } from '@/modules/core/buffs';\n\nexport default {\n  props: {\n    effects: {\n      type: Array,\n      default: () => [],\n    },\n    showHeaders: {\n      type: Boolean,\n      default: false,\n    },\n    translateEffectNames: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  computed: {\n    idKeys: () => ['passive id', 'unknown passive id', 'proc id', 'unknown proc id'],\n    mappedEffects () {\n      return this.effects.map(this.getEffectDetails);\n    },\n    hasBuffTable () {\n      return this.mappedEffects.some(entry => entry.type === 'passive' && +entry.id === 66);\n    },\n    gridRowConfig () {\n      const numEffectRows = this.mappedEffects.length; // number of effect rows\n      return [\n        this.showHeaders ? 'minmax(40px, auto)' : '',\n        `repeat(${numEffectRows}, auto)`,\n      ].filter(v => v).join(' ');\n    },\n    mainGridStyle () {\n      return {\n        'grid-template-rows': this.gridRowConfig,\n      };\n    },\n  },\n  data () {\n    return {\n      sortedPropsCache: new WeakMap(),\n      hiddenIndices: [],\n    };\n  },\n  methods: {\n    getEffectDetails (effect) {\n      const type = getEffectType(effect);\n      const id = getEffectId(effect);\n      const filteredEffect = {};\n      const processedEffect = handleUnknownParams(effect);\n      Object.keys(processedEffect).forEach(key => {\n        // get everything but the ID\n        if (!this.idKeys.includes(key)) {\n          filteredEffect[key] = processedEffect[key];\n        }\n      });\n      if (this.translateEffectNames) {\n        filteredEffect['translated name'] = getEffectName(effect) || `Unknown buff ${id}`;\n      }\n      return { type, id, effect: filteredEffect };\n    },\n    getSortedProps (effect) {\n      if (!this.sortedPropsCache.has(effect)) {\n        this.sortedPropsCache.set(effect, Object.freeze(Object.keys(effect).sort((a, b) => {\n          if (a === 'translated name') {\n            return -1;\n          } else if (b === 'translated name') {\n            return 1;\n          } else {\n            return a < b ? -1 : 1;\n          }\n        })));\n      }\n      return this.sortedPropsCache.get(effect);\n    },\n    toggleEffectView (i) {\n      if (this.hiddenIndices.includes(i)) {\n        this.hiddenIndices = this.hiddenIndices.filter(val => val !== i);\n      } else {\n        this.hiddenIndices.push(i);\n      }\n    },\n    toggleAllEffectViews () {\n      if (this.hiddenIndices.length === this.mappedEffects.length) {\n        this.hiddenIndices = [];\n      } else {\n        this.hiddenIndices = this.mappedEffects.map((val, i) => i);\n      }\n    },\n    isProcBuffList (prop) {\n      return prop === 'triggered effect';\n    },\n    getValueSubgridStyle (effect) {\n      const numProps = Object.keys(effect);\n      return {\n        'grid-template-rows': `repeat(${numProps}, minmax(36px, auto))`,\n      };\n    },\n    isEmptyArray (obj) {\n      return Array.isArray(obj) && obj.length === 0;\n    },\n    getEffectsHiddenText (numProps, effect) {\n      const effectName = effect['translated name'] || getEffectName(effect);\n      const subEffectNames = (effect['triggered effect'] || []).map(getEffectName);\n      return [\n        `${numProps} ${numProps !== 1 ? 'Effects' : 'Effect'} Hidden`,\n        effectName && `for ${effectName}`,\n        subEffectNames.length > 0 && `(${subEffectNames.join(', ')})`,\n      ].filter(v => v).join(' ');\n    },\n  },\n  name: 'buff-table-grid',\n};\n</script>\n\n<style lang=\"less\">\ndiv.buff-table-grid {\n  --table-border-color: var(--background-color-alt);\n  --table-background-color: var(--background-color-alt--lighten-1);\n  --table-border-settings: 1px solid var(--table-border-color);\n\n  display: grid;\n  grid-template-columns: minmax(64px, auto) 1fr;\n  border: var(--table-border-settings);\n  width: 100%;\n\n  .header-cell {\n    font-weight: bold;\n    border-bottom: var(--table-border-settings);\n  }\n\n  .id-cell {\n    height: 100%;\n    display: flex;\n    align-content: center;\n  }\n\n  .id-cell button {\n    height: auto;\n    min-width: 0;\n    flex: auto;\n\n    .v-btn__content {\n      flex-wrap: wrap;\n    }\n  }\n\n  .value-cell {\n    text-align: center;\n  }\n\n  .property-cell, .value-cell {\n    padding: 0.5em;\n    word-break: break-word;\n    hyphens: auto;\n  }\n\n  .property-cell, .header-cell {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .property-cell span {\n    flex: 1 0 100%;\n    text-align: center;\n  }\n\n  .id-cell:not(.header-cell), .value-subgrid:not(.header-grid) {\n    border-top: 2px solid var(--table-background-color);\n    border-bottom: 2px solid var(--table-background-color);\n  }\n\n  .value-subgrid {\n    width: 100%;\n    height: 100%;\n    display: grid;\n    grid-template-columns: 17.5em 1fr;\n    grid-auto-flow: stretch;\n\n    // nested table\n    .value-subgrid {\n      grid-template-columns: minmax(17.5em, auto) 1fr;\n    }\n\n    .even-row:not(.value-cell), .even-row.value-cell:not(:hover) {\n      &:not(.only-row) {\n        background-color: var(--table-border-color);\n      }\n    }\n\n    .value-cell:not(.header-cell):hover {\n      background-color: var(--background-color--card);\n    }\n\n    .value-cell.has-table:not(.header-cell):hover {\n      background-color: var(--background-color);\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainTable.vue?vue&type=template&id=d870379a&\"\nimport script from \"./MainTable.vue?vue&type=script&lang=js&\"\nexport * from \"./MainTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MainTable.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAWCAMAAAARtodwAAAAA3NCSVQICAjb4U/gAAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABdQwleRAliSAlnTAl0WQuWeA2afA6fgA6hgg6igw6jhA6niA6pig6qiw+tjQ+fikytjg+tjw+wkA+wkQ+ykhGzlBa0lRe1lxy3miO7ny20nk69oTO+ozbBp0C/qE7BqU/ErErJs1vKtFvLtV7NuWbPu23WxX/XyIbYyIjp4bzt5sft5snv6M3////////v5nCgAAAA/3RSTlMA/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////3N8PqRcAAAAZUlEQVQY043PsQqAMAwE0F4MgqOLq///gRJsS85FxSjYZgoPclw0vUf7hOeK36vs8CnInlGjuGFfgrAKY05fQ//IwFPlEh3fnUWLgNRHjtsAL/Ml1QwQkLds7kwpidw5a7MhWl8ckMkhdzTgrLoAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAADAFBMVEUAAAAAAAAPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8QEBARERESEhIiIiIkJCQsLCw3G2U1HlstLS03HGg4H104GnM5G3E6GXw6JVo9GYUyMjI9Goc0NDRFIIJDK2I5OTlDHJxEHJo8PDxHHKZNJoBGHKxHG65IHKtJHahLHqhIHLVMHrRHO1ZLHbpCQkJMHb5PH7dIPVZOHr1cJplVMHtbKJZFRUVZI61dKpFQH8VSIMJNPmBfKZxHR0dgLJVISEhRIMtMRFZNQ1hSIMxJSUlSIM9UIcpjKqFMR1FiJ7VOSVNWItFaI85YItVNTU5YItZTS1tPT09dJNZdJNlUS2BnKcVqK7tdQ3hgJNxWTmBfR3dZTmdVU1dnJ91yLcNxLMx2MMV5L9FeVGl9M8ZzYQR6L+WCN8aANNOAMtyFNtSCM+aEM+eINt6GPsiERbmMPNOOOd9mZmaNN+poZ2hqamqUPOttbW18XZtubm6QUcVzcnSIXa2MWreQV7t0dHSdSO11dXWGZ6V4eHiVWsV6enqHbp58fHyCgoKUdrCGhoaYc7eHh4edcMSTeqykatWIiIiKioqNjY2sbeSoctarcNyxa+yQkJCRkZGSkpK0b+6xcumueN22cPCwduSrftKWlpaufdi1du2Xl5eyfeG1eunAoQavgteZmZmpicW4ee+ampqzgd62gOW4fuq8gPG+gvKhoaG+g/K2jNq5ieGlpaW4l9S8mdurq6u9mdusrKy8nNitra3ElujAnd/HmO+xsbHDoOLEoeOzs7O0tLS1tbXIounLoe+5ubm6urq9vb2+vr7AwMDBwcHCwsLExMTHx8fKysrXwejNzc3Ozs7bwvDR0dHdyuzU1NTV1dXW1tb/30HX19fZ2dna2trc3Nzf39/h4eHi4uLq2/fk5OTl5eXm5ubp6env4/nq6urr6+vw5vnt7e3x6fju7u7z6/nw8PD/87n07vry8vLz8/P19fWNGpipAAAAj3RSTlMA/wIEBm1unZ6gsbLCyMnKz/Hy/f///////////////////////////////fz//v///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////so7r1QAAALpSURBVDjLY2AgHjCx8goKi4gIC/KxMmGRZuYS9Zhz/c3fv2+uz/EQ5WJGl2cXq3v8/9+vb1++fPv17//jOjF2VHke2Zv/fp2t87IEAq/6c7/+3ZTlQZYX8Hr963xk7owDJw7v3biyJy3y/K/XjgIIed7Ibz/Whk7YfPDEhTMn9m1bPb0peO2PbzF8cPtV3/9YlTL5zs8/9y9cOHN817plM9viV/34oAp1B4v49R/7U6Y+/P7109uLFy+e3LF+6fyZ7dH7f1wXZwEr4Kr58TydEQG2rFk6F0jlPvtRwwUOH9F7XxamMj59+hsEGJ/+ZlyygPH3U8akhV/uiYJCjM3xy8v0DqDEBhBg3PB0AyOYqEx/+cWRDeSFKZ/PuvWBFEBsABoBMoCxwu3U5ym8QAWC578ssm8BK9i5a89yoO7fv4EGVBXaL/xyThCoQPju54nOFTATuroYN/wGMquLMj0nfr4nDFQg8uhzr3s2UMFTIGBsaAAaATSgPCczqPPzIxGQgrsf+x0yYSbU1jICXfubsTgn0673412QAuHL72frJ4IVlJaWlQEZ+flAR2Yl6s/+cAlkheCmV4c0Q2AmFDCCaKARCSGah16vBTmSr/HFYx8nqBuegn0I9quTz6MX9SBvsmnd/tKswbgBAhiBDszIADqUUaP5y20tNnBQb3p12QYpLpKjwsKBlM3lV5tEwSmPy//K593yJta2LmEBYUAQEOZia20iv/vzFX8uSHSLTbr1rE7a2MzMxcUvIMDPxcXMzFiu7vGtSWKQ6GbgkNz64G69jI6BnqmVKRDpGejI1N99sFWSE5ak+NS33n2y21xJW8/A0NBAT1vJfPfju1vV+ZASrerCq9+utfoqK6qoKSj7tl79dnWhqgBysuaTaFx77cvjY4unTVl05NGXa2sbJfhQMwanqG73rN03nr979/zG7lnduqKcGFmPW1Qqpr5/0qT++hgpUW5mbLmTlV8IlHmF+FmZScjzAMUkXkPay/MUAAAAAElFTkSuQmCC\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTable.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTable.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('module-checker',{attrs:{\"requiredModules\":_vm.requiredModules}},[_c('promise-wait',{attrs:{\"promise\":_vm.initialLoadPromise}},[_c('v-container',{directives:[{name:\"resize\",rawName:\"v-resize\",value:(_vm.onPageReady),expression:\"onPageReady\"}],staticClass:\"squad-page\",attrs:{\"fluid\":\"\"}},[_c('v-container',{staticClass:\"pa-0\"},[_c('v-layout',{attrs:{\"justify-center\":\"\"}},[(!_vm.editMode)?_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('squad-list-card',{key:_vm.squadCode,attrs:{\"squad\":_vm.squad,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"isLoadingInParent\":_vm.isLoadingSquadData},scopedSlots:_vm._u([{key:\"card-actions\",fn:function(ref){\nvar disabled = ref.disabled;\nreturn _c('v-card-actions',{},[_c('v-btn',{attrs:{\"flat\":\"\",\"icon\":_vm.minimizeSquadActionButtons,\"disabled\":disabled},on:{\"click\":function($event){_vm.editMode = true}}},[_c('v-icon',{attrs:{\"left\":!_vm.minimizeSquadActionButtons}},[_vm._v(\"edit\")]),(!_vm.minimizeSquadActionButtons)?_c('span',[_vm._v(\"\\n                    Edit\\n                  \")]):_vm._e()],1),_c('v-btn',{attrs:{\"flat\":\"\",\"icon\":_vm.minimizeSquadActionButtons,\"disabled\":disabled},on:{\"click\":function($event){_vm.activeSquadDialog = 'share'}}},[_c('v-icon',{attrs:{\"left\":!_vm.minimizeSquadActionButtons}},[_vm._v(\"share\")]),(!_vm.minimizeSquadActionButtons)?_c('span',[_vm._v(\"\\n                    Share\\n                  \")]):_vm._e()],1),(_vm.squadCode)?_c('v-btn',{attrs:{\"flat\":\"\",\"icon\":_vm.minimizeSquadActionButtons,\"disabled\":disabled,\"to\":_vm.getSquadUrl(_vm.squadCode)}},[_c('v-icon',{attrs:{\"left\":!_vm.minimizeSquadActionButtons}},[_vm._v(\"file_copy\")]),(!_vm.minimizeSquadActionButtons)?_c('span',[_vm._v(\"\\n                    Clone\\n                  \")]):_vm._e()],1):_vm._e(),_c('v-spacer'),_c('v-btn',{attrs:{\"flat\":\"\",\"icon\":_vm.minimizeSquadActionButtons,\"disabled\":disabled},on:{\"click\":function($event){_vm.activeSquadDialog = 'delete'}}},[_c('v-icon',{attrs:{\"left\":!_vm.minimizeSquadActionButtons}},[_vm._v(\"delete\")]),(!_vm.minimizeSquadActionButtons)?_c('span',[_vm._v(\"\\n                    Delete\\n                  \")]):_vm._e()],1)],1)}}],null,false,962298881)})],1):_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('squad-list-card-editable',{attrs:{\"squad\":_vm.tempSquad,\"squadId\":_vm.id,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"redirectOnCancel\":false,\"isLoadingInParent\":_vm.isLoadingSquadData},on:{\"newsquad\":function ($sq) { return _vm.tempSquad = $sq; },\"newunits\":_vm.onNewUnits,\"save\":function () { _vm.squad = _vm.tempSquad; _vm.editMode = false; },\"cancel\":function($event){_vm.editMode = false}}})],1)],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-divider',{staticClass:\"mt-2\"})],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-card',[(!_vm.isLoadingSquadData && !_vm.editMode)?_c('tab-container',{staticClass:\"mt-2 mx-0\",attrs:{\"centeredTabs\":true,\"growTabs\":true,\"tabs\":_vm.tabConfig},model:{value:(_vm.currentTabIndex),callback:function ($$v) {_vm.currentTabIndex=$$v},expression:\"currentTabIndex\"}},[_c('v-layout',{attrs:{\"slot\":\"multidex-links\",\"column\":\"\"},slot:\"multidex-links\"},[_c('multidex-links',{attrs:{\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"squad\":_vm.squad}})],1),_c('v-layout',{staticClass:\"buff-lists\",attrs:{\"slot\":\"buffs\",\"column\":\"\"},slot:\"buffs\"},[_c('squad-buff-expandable-list-view',{attrs:{\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"squad\":_vm.squad,\"topNavbarHeight\":_vm.topNavbarHeight}})],1),_c('v-layout',{attrs:{\"slot\":\"spark-statistics\"},slot:\"spark-statistics\"},[_c('squad-spark-statistics-area',{attrs:{\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"squad\":_vm.squad,\"initialSimulatorOptions\":_vm.simulatorOptions},on:{\"simoptions\":function ($v) { return _vm.simulatorOptions = $v; },\"share\":function ($sparkResult) { _vm.sparkResultToShare = $sparkResult; _vm.activeSquadDialog = 'share'; },\"apply\":_vm.applySparkResult,\"currentsquadresult\":function ($v) { return _vm.sparkResultToShare = $v; }}})],1),_c('v-layout',{staticStyle:{\"overflow-x\":\"auto\"},attrs:{\"slot\":\"arena\"},slot:\"arena\"},[_c('squad-arena-suggestion-table',{attrs:{\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"squad\":_vm.squad}})],1)],1):_vm._e()],1)],1),_c('v-dialog',{attrs:{\"value\":!_vm.isLoadingSquadData && !!_vm.activeSquadDialog,\"lazy\":\"\"},on:{\"input\":function ($v) { return _vm.activeSquadDialog = $v ? _vm.activeSquadDialog : ''; }}},[(_vm.squadCode)?[(_vm.activeSquadDialog === 'share')?_c('share-squad-card',{attrs:{\"squad\":_vm.squad,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"sparkResult\":_vm.sparkResultToShare},on:{\"back\":function($event){_vm.activeSquadDialog = ''}}}):(_vm.activeSquadDialog === 'delete')?_c('delete-squad-card',{attrs:{\"squad\":_vm.squad,\"squadId\":+_vm.id,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill},on:{\"delete\":function($event){return _vm.$router.push('/tools/squads')},\"cancel\":function($event){_vm.activeSquadDialog = ''}}}):_vm._e()]:_c('v-card',[_c('v-card-text',[_vm._v(\"\\n            No squad selected\\n          \")]),_c('v-card-actions',{staticStyle:{\"justify-content\":\"flex-end\"}},[_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.activeSquadDialog = ''}}},[_vm._v(\"\\n              Back\\n            \")])],1)],1)],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('buff-expandable-list-view',{attrs:{\"sources\":_vm.squad.units,\"getEffectsFromSource\":_vm.getEffectsForSquadUnit,\"titleTopOffset\":_vm.topNavbarHeight,\"inputFilterOptions\":_vm.filterOptions,\"getTextForSource\":_vm.getTextForSourceInSquadUnit,\"viewMode\":_vm.viewMode},on:{\"filteroptions\":function ($f) { return _vm.filterOptions = $f; },\"viewmode\":function ($v) { return _vm.viewMode = $v; }},scopedSlots:_vm._u([{key:\"buffexpandablelist\",fn:function(ref){\nvar sources = ref.sources;\nvar targetType = ref.targetType;\nvar effectType = ref.effectType;\nvar inputEffectMappingBySource = ref.inputEffectMappingBySource;\nvar highlightedBuffIds = ref.highlightedBuffIds;\nvar listKey = ref.listKey;\nreturn [_c('squad-buff-expandable-list',{key:listKey,attrs:{\"squad\":_vm.squad,\"targetType\":targetType,\"effectType\":effectType,\"inputEffectMappingByUnitEntry\":inputEffectMappingBySource,\"highlightedProcs\":(_vm.squadBuffTypes.PROC === effectType && highlightedBuffIds) || [],\"highlightedPassives\":(_vm.squadBuffTypes.PASSIVE === effectType && highlightedBuffIds) || [],\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill}})]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('buff-expandable-list',{staticClass:\"squad-buff-expandable-list\",attrs:{\"sources\":_vm.unitEntries,\"getEffectsFromSource\":_vm.getEffectsForSquadUnit,\"highlightedBuffIds\":_vm.highlightedBuffIds,\"effectType\":_vm.effectType,\"getTextForSource\":_vm.getTextForSourceInSquadUnit},scopedSlots:_vm._u([{key:\"allentrypreview\",fn:function(ref){\nvar entries = ref.entries;\nreturn _c('div',{staticClass:\"expandable-list-entry--columns-preview\"},_vm._l((entries),function(entry){return _c('div',{key:((entry.source.id) + \"-\" + (entry.source.position)),staticClass:\"expandable-list-entry--columns-preview-entry\"},[_c('v-layout',{attrs:{\"align-content-center\":\"\",\"row\":\"\"}},[_c('unit-thumbnail',{staticClass:\"unit-thumbnail\",attrs:{\"src\":_vm.getImageUrls(entry.source.id).ills_battle,\"rarity\":_vm.getUnit(entry.source.id).rarity,\"imageTitle\":_vm.getUnit(entry.source.id).name,\"displayWidth\":_vm.thumbnailSize,\"displayHeight\":_vm.thumbnailSize}},[_c('template',{slot:\"after-image\"},[_c('text',{attrs:{\"x\":0,\"y\":_vm.thumbnailSize}},[_vm._v(\"\\n              \"+_vm._s(!isNaN(entry.source.bbOrder) ? entry.source.bbOrder : '-')+\"\\n            \")])])],2)],1),_c('v-flex',{attrs:{\"text-xs-center\":\"\"}},[_c('span',{staticClass:\"caption text-no-wrap\"},[_vm._v(_vm._s(entry.source.position))])])],1)}),0)}},{key:\"value-header\",fn:function(ref){\nvar entry = ref.entry;\nreturn _c('v-layout',{staticStyle:{\"max-width\":\"500px\",\"width\":\"100%\",\"min-width\":\"300px\"},attrs:{\"row\":\"\"}},[_c('unit-entry',{staticClass:\"d-flex py-1\",staticStyle:{\"align-items\":\"center\",\"border\":\"1px solid var(--background-color-alt)\"},attrs:{\"xs12\":\"\",\"index\":_vm.squad.units.indexOf(entry),\"unit\":entry,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"isLead\":_vm.squad.units.indexOf(entry) === _vm.squad.lead,\"isFriend\":_vm.squad.units.indexOf(entry) === _vm.squad.friend}})],1)}}])},[_c('span',{attrs:{\"slot\":\"noentries\"},slot:\"noentries\"},[_vm._v(\"\\n    No entries of type [\"+_vm._s(_vm.effectType)+\"] targeting [\"+_vm._s(_vm.targetType)+\"] were found.\\n  \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <buff-expandable-list\n    class=\"squad-buff-expandable-list\"\n    :sources=\"unitEntries\"\n    :getEffectsFromSource=\"getEffectsForSquadUnit\"\n    :highlightedBuffIds=\"highlightedBuffIds\"\n    :effectType=\"effectType\"\n    :getTextForSource=\"getTextForSourceInSquadUnit\"\n  >\n    <span slot=\"noentries\">\n      No entries of type [{{ effectType }}] targeting [{{ targetType }}] were found.\n    </span>\n    <div\n      class=\"expandable-list-entry--columns-preview\"\n      slot=\"allentrypreview\"\n      slot-scope=\"{ entries }\"\n    >\n      <div\n        class=\"expandable-list-entry--columns-preview-entry\"\n        v-for=\"entry in entries\"\n        :key=\"`${entry.source.id}-${entry.source.position}`\"\n      >\n        <v-layout align-content-center row>\n          <unit-thumbnail\n            class=\"unit-thumbnail\"\n            :src=\"getImageUrls(entry.source.id).ills_battle\"\n            :rarity=\"getUnit(entry.source.id).rarity\"\n            :imageTitle=\"getUnit(entry.source.id).name\"\n            :displayWidth=\"thumbnailSize\" :displayHeight=\"thumbnailSize\">\n            <template slot=\"after-image\">\n              <text\n                :x=\"0\"\n                :y=\"thumbnailSize\">\n                {{ !isNaN(entry.source.bbOrder) ? entry.source.bbOrder : '-' }}\n              </text>\n            </template>\n          </unit-thumbnail>\n        </v-layout>\n        <v-flex text-xs-center>\n          <span class=\"caption text-no-wrap\">{{ entry.source.position }}</span>\n        </v-flex>\n      </div>\n    </div>\n    <v-layout\n      slot=\"value-header\"\n      slot-scope=\"{ entry }\"\n      style=\"max-width: 500px; width: 100%; min-width: 300px;\"\n      row\n    >\n      <unit-entry\n        xs12\n        :index=\"squad.units.indexOf(entry)\"\n        :unit=\"entry\"\n        :getUnit=\"getUnit\"\n        :getItem=\"getItem\"\n        :getExtraSkill=\"getExtraSkill\"\n        :isLead=\"squad.units.indexOf(entry) === squad.lead\"\n        :isFriend=\"squad.units.indexOf(entry) === squad.friend\"\n        class=\"d-flex py-1\"\n        style=\"align-items: center; border: 1px solid var(--background-color-alt);\"/>\n    </v-layout>\n  </buff-expandable-list>\n</template>\n\n<script>\nimport { getEffectsListForSquadUnitEntry } from '@/modules/core/squads';\nimport { mapGetters } from 'vuex';\nimport { squadBuffTypes, SOURCE_PATH_TO_TEXT_MAPPING } from '@/modules/constants';\nimport UnitEntry from '@/components/Tools/Squads/SquadUnitEntry';\nimport UnitThumbnail from '@/components/Multidex/Units/UnitThumbnail';\nimport BuffExpandableList from '@/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableList';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\n\nexport default {\n  mixins: [GettersMixin],\n  props: {\n    squad: {\n      type: Object,\n      required: true,\n    },\n    targetType: {\n      type: String,\n      required: true,\n    },\n    effectType: {\n      type: String,\n      required: true,\n    },\n    inputEffectMappingByUnitEntry: {\n      type: WeakMap,\n      default: () => new WeakMap(),\n    },\n    highlightedProcs: {\n      type: Array,\n      default: () => [],\n    },\n    highlightedPassives: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  components: {\n    UnitThumbnail,\n    UnitEntry,\n    BuffExpandableList,\n  },\n  computed: {\n    blacklistedKeys: () => [\n      'passive id',\n      'unknown passive id',\n      'proc id',\n      'unknown proc id',\n      'add to bb',\n      'add to sbb',\n      'add to ubb',\n      'trigger on bb',\n      'trigger on sbb',\n      'trigger on ubb',\n    ],\n    ...mapGetters('units', {\n      getImageUrls: 'getImageUrls',\n    }),\n    thumbnailSize () {\n      return 48;\n    },\n    unitEntries () {\n      return this.squad.units;\n    },\n    effectMappingByUnitEntry () {\n      const mapping = new WeakMap();\n      this.unitEntries.forEach(unit => {\n        let effects = this.inputEffectMappingByUnitEntry.get(unit);\n        if (!Array.isArray(effects)) {\n          effects = getEffectsListForSquadUnitEntry({\n            unitEntry: unit,\n            target: this.targetType,\n            effectType: this.effectType,\n            squad: this.squad,\n          }, this);\n        }\n        mapping.set(unit, effects);\n      });\n      return mapping;\n    },\n    highlightedBuffIds () {\n      let ids = [];\n      if (this.effectType === squadBuffTypes.PASSIVE) {\n        ids = this.highlightedPassives;\n      } else if (this.effectType === squadBuffTypes.PROC) {\n        ids = this.highlightedProcs;\n      }\n      return ids;\n    },\n  },\n  methods: {\n    getEffectsForSquadUnit (unit) {\n      const effects = this.effectMappingByUnitEntry.get(unit);\n      return Array.isArray(effects) ? effects : [];\n    },\n    getTextForSourceInSquadUnit (path, source) {\n      let displayValue = SOURCE_PATH_TO_TEXT_MAPPING[path];\n      if (!displayValue) {\n        if (path === 'es') {\n          displayValue = `Elgif: ${this.getExtraSkill(source.es).name || source.es || path}`;\n        } else if (path.startsWith('sphere:')) {\n          const sphereId = path.split(':')[1];\n          displayValue = `Sphere: ${this.getItem(sphereId).name || sphereId || path}`;\n        }\n      }\n      return displayValue || path;\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.squad-buff-expandable-list {\n  .expandable-list-entry--columns-preview {\n    display: flex;\n    margin-left: 1em;\n    justify-content: flex-end;\n    flex-wrap: wrap;\n  }\n\n  .expandable-list-entry--columns-preview-entry {\n    margin: 0 0.5em;\n    min-width: 70px;\n    image.lazy-actual {\n      min-width: 48px;\n    }\n\n    .unit-thumbnail {\n      flex: 0 1 auto;\n      margin: auto;\n      font: bold 4.5em sans-serif;\n      stroke: black;\n      stroke-width: 2px;\n      fill: white;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadBuffExpandableList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadBuffExpandableList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SquadBuffExpandableList.vue?vue&type=template&id=72983506&\"\nimport script from \"./SquadBuffExpandableList.vue?vue&type=script&lang=js&\"\nexport * from \"./SquadBuffExpandableList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SquadBuffExpandableList.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <buff-expandable-list-view\n    :sources=\"squad.units\"\n    :getEffectsFromSource=\"getEffectsForSquadUnit\"\n    :titleTopOffset=\"topNavbarHeight\"\n    :inputFilterOptions=\"filterOptions\"\n    :getTextForSource=\"getTextForSourceInSquadUnit\"\n    @filteroptions=\"$f => filterOptions = $f\"\n    :viewMode=\"viewMode\"\n    @viewmode=\"$v => viewMode = $v\"\n  >\n    <template\n      slot=\"buffexpandablelist\"\n      slot-scope=\"{ sources, targetType, effectType, inputEffectMappingBySource, highlightedBuffIds, listKey }\"\n    >\n      <squad-buff-expandable-list\n        :key=\"listKey\"\n        :squad=\"squad\"\n        :targetType=\"targetType\"\n        :effectType=\"effectType\"\n        :inputEffectMappingByUnitEntry=\"inputEffectMappingBySource\"\n        :highlightedProcs=\"(squadBuffTypes.PROC === effectType && highlightedBuffIds) || []\"\n        :highlightedPassives=\"(squadBuffTypes.PASSIVE === effectType && highlightedBuffIds) || []\"\n        :getUnit=\"getUnit\"\n        :getItem=\"getItem\"\n        :getExtraSkill=\"getExtraSkill\"\n      />\n    </template>\n  </buff-expandable-list-view>\n</template>\n\n<script>\nimport { targetTypes, squadBuffTypes, SOURCE_PATH_TO_TEXT_MAPPING } from '@/modules/constants';\nimport { getEffectsListForSquadUnitEntry } from '@/modules/core/squads';\nimport { getEffectId } from '@/modules/EffectProcessor/processor-helper';\nimport BuffExpandableListView from '@/components/Multidex/BuffList/GenericBuffExpandableList/BuffExpandableListView';\nimport SquadBuffExpandableList from '@/components/Multidex/BuffList/SquadBuffExpandableList';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\n\nexport default {\n  mixins: [GettersMixin],\n  props: {\n    squad: {\n      type: Object,\n      required: true,\n    },\n    topNavbarHeight: {\n      type: Number,\n      default: 56,\n    },\n  },\n  components: {\n    SquadBuffExpandableList,\n    BuffExpandableListView,\n  },\n  computed: {\n    squadBuffTypes: () => squadBuffTypes,\n    possibleTables: () => Object.freeze([\n      {\n        name: 'Party Passives',\n        targetType: targetTypes.PARTY,\n        effectType: squadBuffTypes.PASSIVE,\n      },\n      {\n        name: 'Party Buffs',\n        targetType: targetTypes.PARTY,\n        effectType: squadBuffTypes.PROC,\n      },\n      {\n        name: 'For the Enemy',\n        targetType: targetTypes.ENEMY,\n        effectType: squadBuffTypes.PROC,\n      },\n      {\n        name: 'Self Passives',\n        targetType: targetTypes.SELF,\n        effectType: squadBuffTypes.PASSIVE,\n      },\n      {\n        name: 'Self Buffs',\n        targetType: targetTypes.SELF,\n        effectType: squadBuffTypes.PROC,\n      },\n      {\n        name: 'Other Passives',\n        targetType: targetTypes.OTHER,\n        effectType: squadBuffTypes.PASSIVE,\n      },\n      {\n        name: 'Other Buffs',\n        targetType: targetTypes.OTHER,\n        effectType: squadBuffTypes.PROC,\n      },\n    ]),\n    effectMappingByTable () {\n      const allProcIds = new Set();\n      const allPassiveIds = new Set();\n      const tableMapping = new Map();\n      const { squad } = this;\n      const unitEntries = squad.units;\n      this.possibleTables.forEach(({ targetType, effectType }) => {\n        const effectMappingByUnit = new WeakMap();\n        unitEntries.forEach(entry => {\n          const effects = getEffectsListForSquadUnitEntry({\n            unitEntry: entry,\n            target: targetType,\n            effectType,\n            squad,\n          }, this);\n          effects.forEach(effect => {\n            if (effectType === squadBuffTypes.PROC) {\n              allProcIds.add(getEffectId(effect));\n            } else if (effectType === squadBuffTypes.PASSIVE) {\n              allPassiveIds.add(getEffectId(effect));\n            }\n          });\n          effectMappingByUnit.set(entry, effects);\n        });\n        tableMapping.set(this.getTableKey(targetType, effectType), effectMappingByUnit);\n      });\n\n      tableMapping.set('allProcs', Array.from(allProcIds).sort((a, b) => +a - +b));\n      tableMapping.set('allPassives', Array.from(allPassiveIds).sort((a, b) => +a - +b));\n      return tableMapping;\n    },\n  },\n  data () {\n    return {\n      filterOptions: {\n        procs: [],\n        passives: [],\n      },\n      viewMode: '',\n    };\n  },\n  created () {\n    if (this.squad.filterOptions) {\n      this.filterOptions.procs = Array.isArray(this.squad.filterOptions.procs)\n        ? this.squad.filterOptions.procs.slice()\n        : [];\n\n      this.filterOptions.passives = Array.isArray(this.squad.filterOptions.passives)\n        ? this.squad.filterOptions.passives.slice()\n        : [];\n    }\n\n    if (this.squad.viewMode) {\n      this.viewMode = this.squad.viewMode;\n    }\n  },\n  methods: {\n    getTableKey (targetType, effectType) {\n      return `${targetType}-${effectType}`;\n    },\n    getEffectsForSquadUnit (unit, targetType, effectType) {\n      const table = this.effectMappingByTable.get(this.getTableKey(targetType, effectType));\n      const effects = table.get(unit);\n      return Array.isArray(effects) ? effects : [];\n    },\n    getTextForSourceInSquadUnit (path, source) {\n      let displayValue = SOURCE_PATH_TO_TEXT_MAPPING[path];\n      if (!displayValue) {\n        if (path === 'es') {\n          displayValue = `Elgif: ${this.getExtraSkill(source.es).name || source.es || path}`;\n        } else if (path.startsWith('sphere:')) {\n          const sphereId = path.split(':')[1];\n          displayValue = `Sphere: ${this.getItem(sphereId).name || sphereId || path}`;\n        }\n      }\n      return displayValue || path;\n    },\n  },\n  watch: {\n    filterOptions (newOptions) {\n      this.squad.filterOptions = newOptions;\n    },\n    viewMode (newMode) {\n      this.squad.viewMode = newMode;\n    },\n  },\n};\n</script>\n\n\n<style lang=\"less\">\n.squad-buff-expandable-list-view {\n  .order-configuration-panel {\n    .v-expansion-panel__header {\n      padding-left: 8px;\n      padding-right: 8px;\n      font-weight: bold;\n    }\n  }\n  dl {\n    width: 100%;\n\n    > dt {\n      position: sticky;\n      background: var(--background-color);\n      z-index: 2;\n      padding: 0.75em 0.25em;\n      margin: 0 -0.25em;\n      border-bottom-left-radius: 8px;\n      border-bottom-right-radius: 8px;\n    }\n  }\n\n  dd {\n    // width: 100%;\n    overflow-x: auto;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadBuffExpandableListView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadBuffExpandableListView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SquadBuffExpandableListView.vue?vue&type=template&id=3ac365dc&\"\nimport script from \"./SquadBuffExpandableListView.vue?vue&type=script&lang=js&\"\nexport * from \"./SquadBuffExpandableListView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SquadBuffExpandableListView.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"squad-arena-suggestion-table\"},[_c('span',{staticStyle:{\"text-transform\":\"capitalize\",\"font-weight\":\"bold\",\"text-align\":\"center\",\"grid-column\":\"span 2\"},domProps:{\"innerHTML\":_vm._s((\"<u>Applicable Colosseum Classes:</u> \" + (_vm.usableColoClasses.join(', '))))}}),_vm._l((_vm.fullUnits),function(unit,i){return [_c('div',{key:(_vm.squadKey + \"-\" + (unit.position) + \"-suggestion\"),staticClass:\"suggestion-text\"},[(i !== _vm.squad.friend)?[_c('div',{staticStyle:{\"text-transform\":\"capitalize\",\"font-weight\":\"bold\",\"text-align\":\"center\"},domProps:{\"innerHTML\":_vm._s((\"<u>Suggestion:</u> \" + (_vm.suggestionsBySquadEntry.get(unit).join(' or '))))}}),_vm._l((_vm.arenaTextDataBySquadEntry.get(unit)),function(arenaText,a){return _c('div',{key:(_vm.squadKey + \"-\" + (unit.position) + \"-\" + a + \"-arena-text\"),domProps:{\"textContent\":_vm._s(arenaText)}})})]:_c('span',[_vm._v(\"\\n        Friend units are not allowed in Arena\\n      \")])],2),_c('unit-entry',{key:(_vm.squadKey + \"-\" + (unit.position) + \"-entry\"),staticClass:\"d-flex py-1\",staticStyle:{\"align-items\":\"center\",\"border\":\"1px solid var(--background-color-alt)\"},attrs:{\"index\":i,\"unit\":unit,\"getUnit\":_vm.getUnit,\"getItem\":_vm.getItem,\"getExtraSkill\":_vm.getExtraSkill,\"isLead\":i === _vm.squad.lead,\"isFriend\":i === _vm.squad.friend}})]})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"squad-arena-suggestion-table\">\n    <span\n      style=\"text-transform: capitalize; font-weight: bold; text-align: center; grid-column: span 2;\"\n      v-html=\"`<u>Applicable Colosseum Classes:</u> ${usableColoClasses.join(', ')}`\"\n    />\n    <template v-for=\"(unit, i) in fullUnits\">\n      <div :key=\"`${squadKey}-${unit.position}-suggestion`\" class=\"suggestion-text\">\n        <template v-if=\"i !== squad.friend\">\n          <div\n            style=\"text-transform: capitalize; font-weight: bold; text-align: center;\"\n            v-html=\"`<u>Suggestion:</u> ${suggestionsBySquadEntry.get(unit).join(' or ')}`\"\n          />\n          <div\n            v-for=\"(arenaText, a) in arenaTextDataBySquadEntry.get(unit)\"\n            :key=\"`${squadKey}-${unit.position}-${a}-arena-text`\"\n            v-text=\"arenaText\"\n          />\n        </template>\n        <span v-else>\n          Friend units are not allowed in Arena\n        </span>\n      </div>\n      <unit-entry :key=\"`${squadKey}-${unit.position}-entry`\"\n        :index=\"i\"\n        :unit=\"unit\"\n        :getUnit=\"getUnit\"\n        :getItem=\"getItem\"\n        :getExtraSkill=\"getExtraSkill\"\n        :isLead=\"i === squad.lead\"\n        :isFriend=\"i === squad.friend\"\n        class=\"d-flex py-1\"\n        style=\"align-items: center; border: 1px solid var(--background-color-alt);\"\n      />\n    </template>\n  </section>\n</template>\n\n<script>\nimport {\n  getArenaPositionRecommendation,\n  arenaConditionCodeToText,\n  arenaConditionToText,\n  getColoClassUsage,\n} from '@/modules/core/units';\nimport { generateFillerSquadUnitEntry, squadToShorthand } from '@/modules/core/squads';\nimport { unitPositionMapping, squadFillerMapping } from '@/modules/constants';\nimport UnitEntry from '@/components/Tools/Squads/SquadUnitEntry';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\n\nexport default {\n  mixins: [GettersMixin],\n  props: {\n    squad: {\n      type: Object,\n      required: true,\n    },\n  },\n  components: {\n    UnitEntry,\n  },\n  computed: {\n    // fills empty positions with empty values\n    fullUnits () {\n      return unitPositionMapping.map(position => {\n        let unit = this.squad.units.find(unit => unit.position === position);\n        if (!unit) { // empty position, so fill it with empty data\n          unit = generateFillerSquadUnitEntry({ isEmpty: true, bbOrder: null, position });\n        }\n\n        return unit;\n      });\n    },\n    suggestionsBySquadEntry () {\n      const mapping = new WeakMap();\n      this.fullUnits.forEach(unit => {\n        const unitData = this.getUnit(unit.id) || {};\n        mapping.set(unit, this.getSuggestionsForUnit(unitData));\n      });\n      return mapping;\n    },\n    arenaTextDataBySquadEntry () {\n      const mapping = new WeakMap();\n      this.fullUnits.forEach(unit => {\n        const unitData = this.getUnit(unit.id) || {};\n        const aiData = Array.isArray(unitData.ai) ? unitData.ai : [];\n        // console.warn(unit.position, aiData);\n        if (aiData.length > 0) {\n          mapping.set(unit, aiData.map(this.generateArenaText));\n        } else {\n          mapping.set(unit, ['No Arena AI data found']);\n        }\n      });\n      return mapping;\n    },\n    usableColoClasses () {\n      const classesBySquadEntry = new Map();\n      const activeServer = this.$store.state.settings.activeServer;\n      const applicableUnits = this.fullUnits\n        .filter((u, i) => i !== this.squad.friend\n          && u.id !== squadFillerMapping.EMPTY\n          && u.id !== squadFillerMapping.ANY\n        );\n      \n      applicableUnits.forEach(unit => {\n        const unitData = this.getUnit(unit.id) || {};\n        const applicableColoClasses = !isNaN(unitData.cost)\n          ? getColoClassUsage(+unitData.cost, activeServer === 'gl')\n          : [];\n        classesBySquadEntry.set(unit, applicableColoClasses);\n      });\n      \n      const commonColoClasses = new Set();\n      applicableUnits.forEach(unit => {\n        const currentClasses = classesBySquadEntry.get(unit);\n        const otherUnits = applicableUnits.filter(u => u !== unit);\n        currentClasses.forEach(coloClass => {\n          if (!commonColoClasses.has(coloClass) && otherUnits.every(otherUnit => classesBySquadEntry.get(otherUnit).includes(coloClass))) {\n            commonColoClasses.add(coloClass);\n          }\n        });\n      });\n\n      return Object.freeze(Array.from(commonColoClasses));\n    },\n    squadKey () {\n      return squadToShorthand(this.squad);\n    },\n  },\n  methods: {\n    getSuggestionsForUnit (unit = {}) {\n      return Object.freeze(getArenaPositionRecommendation(unit).map(arenaConditionCodeToText));\n    },\n    generateArenaText (data = {}) {\n      return arenaConditionToText(data);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.squad-arena-suggestion-table {\n  width: 100%;\n  display: grid;\n  grid-template-columns: minmax(300px, 1fr) minmax(300px, 1fr);\n\n  .suggestion-text {\n    align-self: center;\n    justify-self: center;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadArenaSuggestionTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadArenaSuggestionTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SquadArenaSuggestionTable.vue?vue&type=template&id=48be27a9&\"\nimport script from \"./SquadArenaSuggestionTable.vue?vue&type=script&lang=js&\"\nexport * from \"./SquadArenaSuggestionTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SquadArenaSuggestionTable.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"spark-statistics-container\"},[_c('v-expansion-panel',{model:{value:(_vm.currentSection),callback:function ($$v) {_vm.currentSection=$$v},expression:\"currentSection\"}},[_c('v-expansion-panel-content',[_c('span',{staticClass:\"subheading\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"Current Squad Statistics\")]),_c('section',[(_vm.resultForCurrentSquad)?_c('spark-squad-card',{attrs:{\"squad\":_vm.squad,\"sparkResult\":_vm.resultForCurrentSquad,\"getUnit\":_vm.getUnit,\"simulatorOptions\":_vm.simulatorOptions},on:{\"share\":function () { return _vm.emitShareEvent(_vm.resultForCurrentSquad); }}}):_c('span',[_c('v-alert',{attrs:{\"value\":true,\"color\":\"error\",\"icon\":\"warning\"}},[_vm._v(\"\\n            There was a problem generating the spark results for the current squad configuration. (\"+_vm._s((_vm.errorForCurrentSquad && _vm.errorForCurrentSquad.message) || _vm.errorForCurrentSquad || 'Unknown error')+\")\\n          \")])],1)],1)]),_c('v-expansion-panel-content',[_c('span',{staticClass:\"subheading\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"Spark Simulator Input\")]),_c('section',[_c('spark-squad-card-editable',{attrs:{\"squad\":_vm.squad,\"getUnit\":_vm.getUnit},model:{value:(_vm.simulatorOptions),callback:function ($$v) {_vm.simulatorOptions=$$v},expression:\"simulatorOptions\"}})],1),_c('section',[_c('overall-simulator-options',{attrs:{\"squad\":_vm.squad},model:{value:(_vm.simulatorOptions),callback:function ($$v) {_vm.simulatorOptions=$$v},expression:\"simulatorOptions\"}})],1),_c('section',[_c('v-alert',{attrs:{\"value\":true,\"icon\":_vm.simulatorWarnings.length === 0 ? 'info' : 'priority_high',\"color\":_vm.simulatorWarnings.length === 0 ? 'info' : 'warning'}},[(_vm.simulatorWarnings.length > 0)?[_c('span',[_vm._v(\"Warnings that may affect the accuracy of results:\")]),_c('ul',_vm._l((_vm.simulatorWarnings),function(w){return _c('li',{key:w,domProps:{\"textContent\":_vm._s(w)}})}),0)]:_c('span',[_vm._v(\"No squad level warnings found. Make sure to check individual units for warnings.\")])],2)],1),_c('section',[_c('v-btn',{attrs:{\"block\":\"\"},on:{\"click\":_vm.runSimulator}},[_vm._v(\"Run Simulator\")])],1)]),_c('v-expansion-panel-content',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.runningSimulator && (_vm.results || _vm.errorForCalculations)),expression:\"!runningSimulator && (results || errorForCalculations)\"}]},[_c('span',{staticClass:\"subheading\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"Simulator Results\")]),_c('div',[_c('section',{staticClass:\"mx-2\"},[_c('v-alert',{attrs:{\"color\":\"info\",\"value\":true}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',[_vm._v(\"\\n                Time Elapsed: \"+_vm._s(_vm.simulationElapsedText)+\"\\n              \")]),_c('v-flex',[_vm._v(\"\\n                Total Combinations Tested: \"+_vm._s(_vm.lastTestedCount)+\"\\n              \")]),_c('v-flex',[_vm._v(\"\\n                Combinations Tested/Second: \"+_vm._s(_vm.combosTestedPerSecond)+\"\\n              \")])],1)],1)],1),(Array.isArray(_vm.results) && _vm.results.length > 0)?_c('section',[_c('section',{staticClass:\"result-navigator\"},[_c('v-btn',{attrs:{\"flat\":\"\",\"icon\":_vm.$vuetify.breakpoint.xsOnly,\"disabled\":_vm.currentResultIndex <= 0},on:{\"click\":function($event){_vm.currentResultIndex = Math.max(_vm.currentResultIndex - 1, 0)}}},[_c('v-icon',[_vm._v(\"chevron_left\")])],1),_c('v-select',{staticClass:\"mx-2\",attrs:{\"items\":_vm.resultSelectValues,\"item-text\":\"label\",\"item-value\":\"value\"},model:{value:(_vm.currentResultIndex),callback:function ($$v) {_vm.currentResultIndex=$$v},expression:\"currentResultIndex\"}}),_c('v-btn',{attrs:{\"flat\":\"\",\"icon\":_vm.$vuetify.breakpoint.xsOnly,\"disabled\":_vm.currentResultIndex + 1 >= _vm.results.length},on:{\"click\":function($event){_vm.currentResultIndex = Math.min(_vm.currentResultIndex + 1, _vm.results.length - 1)}}},[_c('v-icon',[_vm._v(\"chevron_right\")])],1)],1),_c('section',[_c('spark-squad-card',{key:_vm.getResultName(_vm.results[_vm.currentResultIndex], _vm.currentResultIndex),attrs:{\"squad\":_vm.squad,\"sparkResult\":_vm.results[_vm.currentResultIndex],\"getUnit\":_vm.getUnit,\"simulatorOptions\":_vm.simulatorOptions}},[_c('v-card-actions',{attrs:{\"slot\":\"card-actions\"},slot:\"card-actions\"},[_c('v-btn',{attrs:{\"outline\":\"\"},on:{\"click\":function () { return _vm.applySparkResult(_vm.results[_vm.currentResultIndex]); }}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"save\")]),_vm._v(\"\\n                Apply\\n              \")],1)],1)],1)],1)]):(_vm.errorForCalculations)?_c('section',[_c('v-alert',{attrs:{\"value\":true,\"color\":\"error\",\"icon\":\"warning\"}},[_vm._v(\"\\n            There was a problem generating the spark results for the current squad configuration. (\"+_vm._s(_vm.errorForCalculations.message || _vm.errorForCalculations)+\")\\n          \")])],1):_c('section',[_vm._v(\"\\n          No results found for given configuration.\\n        \")])])])],1),_c('v-dialog',{attrs:{\"value\":_vm.showProgressDialog,\"max-width\":\"500px\",\"persistent\":\"\"}},[_c('v-card',[_c('v-card-text',[_c('v-progress-linear',{attrs:{\"value\":_vm.progressPercent,\"indeterminate\":_vm.progressPercent === 0,\"query\":\"\"}}),_c('div',[_vm._v(_vm._s(_vm.progressLabel))]),_c('div',[_vm._v(\"Time Elapsed: \"+_vm._s(_vm.simulationElapsedText))])],1),_c('v-card-actions',[_c('v-spacer'),(!_vm.runningSimulator)?_c('v-btn',{on:{\"click\":function($event){_vm.showProgressDialog = false}}},[_vm._v(\"\\n          Close\\n        \")]):_c('v-btn',{attrs:{\"disabled\":_vm.progressTotal === 0},on:{\"click\":_vm.cancelCalculations}},[_vm._v(\"\\n          Cancel\\n        \")])],1)],1)],1),_vm._m(0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"mt-3\"},[_vm._v(\"\\n    Powered by \"),_c('a',{attrs:{\"href\":\"https://joshuacastor.me/project-sparkle/\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"Project Sparkle\")])])}]\n\nexport { render, staticRenderFns }","const passiveProcMetadata = require('@/assets/buff-translation/passive-proc-metadata.json');\n\nexport const ATTACKING_PROCS = Object.freeze(\n  Object.keys(passiveProcMetadata.proc)\n    .filter(id => passiveProcMetadata.proc[id].Type === 'Attack')\n);\n\nexport const MOVESPEED_OFFSETS = Object.freeze({\n  '1': {\n    'Top Left': 15,\n    'Top Right': 30,\n    'Middle Left': 20,\n    'Middle Right': 40,\n    'Bottom Left': 18,\n    'Bottom Right': 33,\n  },\n  '2': {\n    'Top Left': 13,\n    'Top Right': 24,\n    'Middle Left': 16,\n    'Middle Right': 33,\n    'Bottom Left': 15,\n    'Bottom Right': 27,\n  },\n  '3': {\n    'Top Left': 10,\n    'Top Right': 19,\n    'Middle Left': 13,\n    'Middle Right': 26,\n    'Bottom Left': 12,\n    'Bottom Right': 21,\n  },\n  '4': {\n    'Top Left': 7,\n    'Top Right': 14,\n    'Middle Left': 9,\n    'Middle Right': 19,\n    'Bottom Left': 8,\n    'Bottom Right': 15,\n  },\n  '5': {\n    'Top Left': 4,\n    'Top Right': 9,\n    'Middle Left': 6,\n    'Middle Right': 12,\n    'Bottom Left': 5,\n    'Bottom Right': 9,\n  },\n});\n\nexport const TELEPORTER_OFFSETS = Object.freeze({\n  // from Hamza Khan\n  '850328': 19, // ezra\n  '750167': 11, // arthur\n  '810278': 25, // zeis\n  '810108': 32, // ciara\n  '61007': 48, // kalon\n  '860357': 34, // neferet\n  '850418': 30, // gabriela\n  '20887': 43, // mariela\n  '860258': 21, // zenia\n  '850158': 23, // carrol\n  '61087': 17, // zalvard\n  '51107': 21, // diastima\n  '40857': 15, // licht\n  '860518': 23, // beatrix\n  '860548': 20, // mard\n  // from BluuArc\n  '51317': 105, // karna masta\n  '830048': 18, // dranoel\n  '61207': 29, // alza masta\n  '850568': 29, // qiutong\n});\n\nexport const UNIT_SKILL_TYPES = {\n  BB: 'bb',\n  SBB: 'sbb',\n  UBB: 'ubb',\n};\n\nexport const SBB_NO_CUTIN_DELAY = 2;\nexport const SBB_CUTIN_DELAY = 1;\n\nexport const MAX_WORKERS = 2;\n","import { SBB_NO_CUTIN_DELAY, ATTACKING_PROCS, TELEPORTER_OFFSETS, MOVESPEED_OFFSETS, SBB_CUTIN_DELAY, MAX_WORKERS } from './constants';\nimport {\n  getBurstEffects,\n  getHealFrameData,\n  getHitCountData as getHitCountDataFromBurst,\n} from '@/modules/core/bursts';\nimport {\n  generateFillerSquadUnitEntry,\n  getEffectsListForSquadUnitEntry,\n  generateDefaultSquad,\n  makeSquadUnitEntry,\n  cloneSquad,\n  sortUnitsByPosition,\n} from '@/modules/core/squads';\nimport { getMoveType } from '@/modules/core/units';\nimport {\n  targetAreaMapping,\n  moveTypeIdByName,\n  squadFillerMapping,\n  targetTypes,\n  squadBuffTypes,\n  squadUnitActions,\n  ANY_BB_ORDER,\n  unitPositionMapping,\n} from '@/modules/constants';\nimport { getEffectId } from '@/modules/EffectProcessor/processor-helper';\n\nimport { Logger } from '@/modules/Logger';\nconst logger = new Logger({ prefix: '[SparkSimulator/utils]' }); // eslint-disable-line no-unused-vars\n\nexport function getHitCountData (burst) {\n  return getHitCountDataFromBurst(burst, f => ATTACKING_PROCS.includes(f.id));\n}\n\nexport function getExtraAttackFrames (burst) {\n  const attackFrameSets = getHitCountData(burst).map(d => d.frames);\n  const healFrameSets = getHealFrameData(burst).map(d => d.frames);\n  \n  // aggregate frame data\n  const unifiedFrames = [];\n  [attackFrameSets, healFrameSets].forEach(frameGroup => {\n    frameGroup.forEach((frameSet, setIndex) => {\n      let frameIndex = setIndex === 0 ? 0 : 1; // drop first frame for second attack onward\n      const numFrames = frameSet['frame times'].length;\n      for (; frameIndex < numFrames; frameIndex++) {\n        unifiedFrames.push({\n          time: frameSet['frame times'][frameIndex],\n          dmg: frameSet['hit dmg% distribution'][frameIndex],\n        });\n      }\n    });\n  });\n\n  // transform aggregate back into a frame object with sorted times\n  const resultFrames = {\n    'frame times': [],\n    'hit dmg% distribution': [],\n  };\n  unifiedFrames.sort((a, b) => a.time - b.time).forEach(({ time, dmg }) => {\n    resultFrames['frame times'].push(time);\n    resultFrames['hit dmg% distribution'].push(dmg);\n  });\n  return resultFrames;\n}\n\nexport function convertExtraAttackInfoToHitCountData (extraAttackEffect = {}, extrAttackFrames = getExtraAttackFrames()) {\n  return {\n    target: targetAreaMapping[extraAttackEffect['random attack'] ? 'random' : extraAttackEffect['target area']],\n    id: getEffectId(extraAttackEffect).toString(),\n    frames: extrAttackFrames,\n    effects: extraAttackEffect,\n    delay: extraAttackEffect['effect delay time(ms)/frame'],\n    source: extraAttackEffect.source || extraAttackEffect.sourcePath,\n  };\n}\n\nexport function getAttackEffectsFromBurst (burst = {}) {\n  return ((getBurstEffects(burst) || {}).effects || [])\n    .filter(b => ATTACKING_PROCS.includes(getEffectId(b).toString()));\n}\n\nexport function getFramesForSparkUnitEntry ({\n  burst = {},\n  extraAttackEffects = [],\n  delay = 0,\n  moveTypeId = moveTypeIdByName.Moving,\n  moveSpeed = 0,\n  teleporterId = 0,\n}) {\n  const burstFrames = (burst['damage frames'] || [])\n    .filter(b => ATTACKING_PROCS.includes(getEffectId(b).toString()));\n  if (burstFrames.length === 0 && extraAttackEffects.length === 0) {\n    return [];\n  }\n\n  const burstEffects = getAttackEffectsFromBurst(burst);\n  \n  const baseOffset = [\n    moveTypeId === moveTypeIdByName['Non-Moving'] ? moveSpeed : 0,\n    (moveTypeId === moveTypeIdByName.Teleporting && TELEPORTER_OFFSETS[teleporterId.toString()]) || 0,\n    !isNaN(delay) ? +delay : 0,\n  ].reduce((acc, val) => acc + val, 0);\n\n  const processFrameTimes = (frameTimes = [], totalOffset, isAoe) => {\n    return frameTimes.map(time => ({\n      frame: (+time) + totalOffset,\n      target: isAoe ? 'aoe' : 'st',\n    }));\n  };\n\n  let resultAttackFrames = burstFrames.map((frameInfo, index) => {\n    const isAoe = burstEffects[index]['target area'] === 'aoe';\n    const effectDelay = moveTypeId === moveTypeIdByName.Teleporting\n      ? 0\n      : +frameInfo['effect delay time(ms)/frame'].split('/')[1];\n    const totalOffset = (moveTypeId === moveTypeIdByName.Teleporting ? 0 : effectDelay) + baseOffset;\n    return processFrameTimes(frameInfo['frame times'], totalOffset, isAoe);\n  });\n\n  if (extraAttackEffects.length > 0) {\n    const extraAttackFrames = getExtraAttackFrames(burst);\n    const resultExtraAttackFrames = extraAttackEffects.filter(b => ATTACKING_PROCS.includes(getEffectId(b).toString()))\n      .map(effect => {\n        const isAoe = effect['target area'] === 'aoe';\n        const effectDelay = +effect['effect delay time(ms)/frame'].split('/')[1];\n        const totalOffset = (moveTypeId === moveTypeIdByName.Teleporting ? 0 : effectDelay) + baseOffset;\n        return processFrameTimes(extraAttackFrames['frame times'], totalOffset, isAoe);\n      });\n      resultAttackFrames = resultAttackFrames.concat(resultExtraAttackFrames);\n      // logger.warn({\n      //   burstFrames,\n      //   burstEffects,\n      //   extraAttackEffects: extraAttackEffects.filter(b => ATTACKING_PROCS.includes(getEffectId(b).toString())),\n      //   extraAttackFrames,\n      //   moveSpeed,\n      //   resultAttackFrames,\n      //   resultExtraAttackFrames,\n      //   baseOffset,\n      // });\n  }\n  return resultAttackFrames;\n}\n\nexport function convertSquadUnitEntryToSparkUnitEntry ({\n  entry = generateFillerSquadUnitEntry(),\n  synchronousGetters = {},\n  squad = generateDefaultSquad(),\n  originalPosition,\n  unitConfig = getSparkSimUnitConfig(),\n} = {}) {\n  const unitData = synchronousGetters.unit(entry.id);\n  const sourcesToIgnore = ['unit.bb', 'unit.sbb', 'unit.ubb'];\n  const extraAttackEffects = getEffectsListForSquadUnitEntry({\n    unitEntry: {\n      ...entry,\n      bbOrder: unitConfig.bbOrder || entry.bbOrder,\n      action: unitConfig.action,\n    },\n    target: targetTypes.ENEMY,\n    effectType: squadBuffTypes.PROC,\n    squad,\n  }, {\n    getUnit: synchronousGetters.unit,\n    getItem: synchronousGetters.item,\n    getExtraSkill: synchronousGetters.extraSkill,\n  }).filter(effect => !sourcesToIgnore.includes(effect.sourcePath) && (!effect.triggeredOn || (effect.triggeredOn === entry.action)));\n\n  let delay;\n  if (!isNaN(unitConfig.delay)) {\n    delay = +unitConfig.delay;\n  } else {\n    delay = !isNaN(entry.delay) ? +entry.delay : 0;\n  }\n  const sparkUnitEntry = {\n    id: entry.id,\n    position: entry.position,\n    bbOrder: unitConfig.bbOrder || entry.bbOrder,\n    action: unitConfig.action || entry.action,\n    name: unitData.name || entry.id,\n    extraAttackEffects,\n    burst: unitData[unitConfig.action],\n    moveTypeId: (unitData.movement && unitData.movement.skill && +unitData.movement.skill['move type']) || 0,\n    moveSpeed: (unitData.movement && unitData.movement.skill && +unitData.movement.skill['move speed']) || 0,\n    moveSpeedType: (unitData.movement && unitData.movement.skill && +unitData.movement.skill['move speed type']) || '1',\n    delay,\n    teleporterId: entry.id,\n    weight: unitConfig.weight,\n    originalPosition,\n  };\n  sparkUnitEntry.frames = getFramesForSparkUnitEntry(sparkUnitEntry);\n\n  return sparkUnitEntry;\n}\n\nexport function getBattleFrames (entry = convertSquadUnitEntryToSparkUnitEntry(), cutinDelay = SBB_NO_CUTIN_DELAY) {\n  const battleFrames = {};\n  if (entry.id !== squadFillerMapping.ANY && entry.id !== squadFillerMapping.EMPTY) {\n    const frameDelay = [\n      (entry.bbOrder - 1) * cutinDelay,\n      entry.moveTypeId === moveTypeIdByName.Moving\n        ? +MOVESPEED_OFFSETS[entry.moveSpeedType][entry.position]\n        : 0,\n    ].reduce((acc, val) => acc + val, 0);\n\n    entry.frames.forEach(attack => {\n      attack.forEach(({ frame, target }) => {\n        const actualFrame = +frame + frameDelay;\n        if (!battleFrames[actualFrame]) {\n          battleFrames[actualFrame] = {\n            aoe: 0,\n            st: 0,\n          };\n        }\n        battleFrames[actualFrame][target] += 1;\n      });\n    });\n  }\n  return battleFrames;\n}\n\nexport function calculateSparksForSparkSimSquad (squad = [convertSquadUnitEntryToSparkUnitEntry()], options = getSimulatorOptions()) {\n  const { enemyCount, burstCutins } = options;\n  const aggregatedBattleFrames = {};\n  const battleFramesByUnit = new Map();\n  // aggregate battle frames\n  squad.forEach(unit => {\n    const unitBattleFrames = getBattleFrames(unit, burstCutins ? SBB_CUTIN_DELAY : SBB_NO_CUTIN_DELAY);\n    Object.keys(unitBattleFrames)\n      .forEach(frame => {\n        if (!aggregatedBattleFrames[frame]) {\n          aggregatedBattleFrames[frame] = {\n            aoe: 0,\n            st: 0,\n          };\n        }\n\n        aggregatedBattleFrames[frame].aoe += unitBattleFrames[frame].aoe;\n        aggregatedBattleFrames[frame].st += unitBattleFrames[frame].st;\n      });\n    battleFramesByUnit.set(unit, unitBattleFrames);\n  });\n\n  let possibleSparksSquad = 0;\n  let actualSparkSquad = 0;\n  // logger.warn(battleFramesByUnit);\n  const sparkResults = squad.map(unit => {\n    const unitBattleFrames = battleFramesByUnit.get(unit);\n    const frameTimes = Object.keys(unitBattleFrames);\n\n    const possibleSparks = frameTimes\n      .map(frame => unitBattleFrames[frame].aoe * enemyCount + unitBattleFrames[frame].st)\n      .reduce((acc, val) => acc + val, 0);\n    const actualSparks = frameTimes.map(frame => {\n      const { aoe: selfAoe, st: selfSt } = unitBattleFrames[frame];\n      const remainingAoe = aggregatedBattleFrames[frame].aoe - selfAoe;\n      const remainingSt = aggregatedBattleFrames[frame].st - selfSt;\n\n      const hasSparkableAoe = [\n        remainingAoe > 0 && selfAoe > 0, // 1+ AOE and self AOE\n        selfAoe > 1, // self sparking AOE\n      ].some(v => v);\n      const hasSparkableSt = [\n        remainingSt > 0 && selfSt > 0, // 2+ ST attacks in same frame\n        remainingAoe > 0 && selfSt > 0, // 1+ AOE and self ST\n        remainingSt > 0 && selfAoe > 0, // 1+ ST and self AOE\n        selfAoe > 0 && selfSt > 0, // self AOE and self ST\n        selfSt > 1, // self sparking ST\n      ].some(v => v);\n\n      let count = 0;\n      if (hasSparkableAoe) {\n        count += selfAoe * enemyCount;\n      }\n\n      if (hasSparkableSt) {\n        count += selfSt;\n        if (remainingSt > 0 && selfAoe > 0 && !hasSparkableAoe) {\n          count += selfAoe;\n        }\n      }\n      return count;\n    }).reduce((acc, val) => acc + val, 0);\n\n    possibleSparksSquad += possibleSparks;\n    actualSparkSquad += actualSparks;\n\n    return {\n      id: unit.id,\n      name: unit.name || unit.id,\n      position: unit.position,\n      bbOrder: unit.bbOrder,\n      action: unit.action,\n      actualSparks,\n      possibleSparks,\n      delay: unit.delay,\n      originalPosition: unit.originalPosition,\n      weight: unit.weight,\n    };\n  });\n\n  const totalWeight = sparkResults\n    .filter(u => u.weight > 0)\n    .reduce((acc, val) => acc + val.weight, 0);\n  let weightedPercentage;\n  if (totalWeight <= 0) {\n    weightedPercentage = 0;\n  } else {\n    weightedPercentage = sparkResults\n      .map(val => {\n        const percentSparked = val.actualSparks / Math.max(1, val.possibleSparks);\n        const weight = val.weight / totalWeight;\n        return percentSparked * weight;\n      })\n      .reduce((acc, val) => acc + val, 0);\n  }\n\n  return {\n    actualSparks: actualSparkSquad,\n    possibleSparks: possibleSparksSquad,\n    weightedPercentage,\n    squad: sortUnitsByPosition(sparkResults, false),\n  };\n}\n\nexport function getDelayDescriptionForSparkUnitResult ({\n  sparkUnitResult = {},\n  unitData = {},\n  burstCutins = false,\n} = {}) {\n  const makeEntry = (delay = 0, description = '') => ({ delay, description });\n  if (sparkUnitResult.id === squadFillerMapping.EMPTY) {\n    return [makeEntry(0, 'Empty Units have no delay')];\n  }\n\n  const moveTypeId = (unitData.movement && unitData.movement.skill && +unitData.movement.skill['move type']) || 0;\n  const moveSpeed = (unitData.movement && unitData.movement.skill && +unitData.movement.skill['move speed']) || 0;\n  const moveTypeName = unitData.movement && getMoveType(unitData);\n  const moveSpeedType = (unitData.movement && unitData.movement.skill && +unitData.movement.skill['move speed type']) || '1';\n\n  const teleporterOffset = (moveTypeId === moveTypeIdByName.Teleporting && TELEPORTER_OFFSETS[unitData.id.toString()]) || 0;\n  const positionBasedOffset = +MOVESPEED_OFFSETS[moveSpeedType][sparkUnitResult.position];\n  const inputDelay = !isNaN(sparkUnitResult.delay) ? +sparkUnitResult.delay : 0;\n  const squadLevelDelay = !isNaN(sparkUnitResult.squadLevelDelay) ? +sparkUnitResult.squadLevelDelay : 0;\n\n  return [\n    moveTypeId === moveTypeIdByName['Non-Moving'] && makeEntry(moveSpeed, `innate move speed as a ${moveTypeName} unit`),\n    moveTypeId === moveTypeIdByName.Teleporting && makeEntry(teleporterOffset, `custom offset as a ${moveTypeName} unit`),\n    moveTypeId === moveTypeIdByName.Moving && makeEntry(positionBasedOffset, `offset based on position and move speed type as a ${moveTypeName} unit`),\n    makeEntry(burstCutins ? SBB_CUTIN_DELAY : SBB_NO_CUTIN_DELAY, `burst cut-in delay (cut-ins ${burstCutins ? 'on' : 'off'})`),\n    inputDelay > 0 && makeEntry(inputDelay, `custom unit delay`),\n    squadLevelDelay > 0 && makeEntry(squadLevelDelay, `custom squad delay`),\n  ].filter(v => v);\n}\n\nfunction getNumberOrDefault (num, defaultValue = 0) {\n  return !isNaN(num) ? +num : defaultValue;\n}\n\nexport function getSimulatorOptions ({\n  unitConfig = [],\n  enemyCount = 6,\n  burstCutins = false,\n  resultThreshold = 50,\n  workerCount = MAX_WORKERS,\n  maxResults = 10,\n  optimize = false,\n} = {}, squad = generateDefaultSquad()) {\n  let resultUnitConfig = Array.isArray(unitConfig)\n    ? unitConfig.map((config, i) => getSparkSimUnitConfig({ ...config, id: squad.units[i].id }))\n    : [];\n  if (Array.isArray(squad.units) && resultUnitConfig.length < squad.units.length) {\n    const numUnits = squad.units.length;\n    // ensure that every unit entry has a corresponding spark unit config entry\n    for (let i = resultUnitConfig.length; i < numUnits; ++i) {\n      resultUnitConfig.push(getSparkSimUnitConfig(squad.units[i]));\n    }\n  }\n  return Object.freeze({\n    unitConfig: resultUnitConfig,\n    enemyCount: Math.max(1, getNumberOrDefault(enemyCount, 6)),\n    burstCutins: !!burstCutins,\n    resultThreshold: Math.max(0, Math.min(100, getNumberOrDefault(resultThreshold, 50))),\n    workerCount: (Math.max(1, Math.min(MAX_WORKERS, getNumberOrDefault(workerCount, MAX_WORKERS)))),\n    maxResults: Math.max(1, Math.min(100, getNumberOrDefault(maxResults, 10))),\n    optimize: !!optimize,\n  });\n}\n\nexport function getSparkSimUnitConfig ({\n  action = squadUnitActions.ATK,\n  bbOrder = 1,\n  delay = 0,\n  weight = 1,\n  lockPosition = false,\n  id,\n} = {}) {\n  let finalAction;\n  if (id === squadFillerMapping.EMPTY) {\n    finalAction = squadUnitActions.NONE;\n  } else if (id !== squadFillerMapping.EMPTY && action === squadUnitActions.NONE) {\n    finalAction = squadUnitActions.ATK;\n  } else {\n    finalAction = action;\n  }\n\n  return Object.freeze({\n    action: finalAction,\n    bbOrder: id !== squadFillerMapping.EMPTY ? getNumberOrDefault(bbOrder, ANY_BB_ORDER) : ANY_BB_ORDER,\n    delay: getNumberOrDefault(delay, 0),\n    weight: getNumberOrDefault(weight, 1),\n    lockPosition: !!lockPosition,\n  });\n}\n\nexport function getSimulatorWarningsForSquadUnit ({\n  unit = generateFillerSquadUnitEntry(),\n  attackEffects = [],\n  unitData = {},\n} = {}) {\n  const attackTargets = new Set();\n  attackEffects.forEach(attack => {\n    const effectId = getEffectId(attack);\n    const targetArea = attack['target area'];\n    const isRandom = +effectId === 13 && !!attack['random attack'];\n\n    attackTargets.add(isRandom ? 'rt' : targetArea);\n  });\n\n  const warnings = Array.from(attackTargets).length === 0\n    ? []\n    : [\n      attackTargets.has('rt') && 'Random attacks aren\\'t supported yet',\n      !attackTargets.has('aoe') && 'No AOE attacks found',\n    ].filter(v => v);\n\n  const moveTypeId = (unitData.movement && unitData.movement.skill && +unitData.movement.skill['move type']) || 0;\n  if (moveTypeId === moveTypeIdByName.Teleporting && !TELEPORTER_OFFSETS.hasOwnProperty((unitData.id || unit.id).toString())) {\n    warnings.push('This teleporting unit is not supported yet');\n  }\n\n  return warnings;\n}\n\nexport function getSimulatorWarningsForSquad (squad = generateDefaultSquad(), options = getSimulatorOptions()) {\n  const warnings = [];\n  const emptyUnits = squad.units.filter(u => u.id === squadFillerMapping.EMPTY);\n  const maxBbOrder = squad.units.length - emptyUnits.length;\n  let highestBbOrderForNonEmptyUnits = 0, lowestBbOrderForEmptyUnits = 0;\n  const usedOrders = new Set();\n  squad.units.forEach((unit, index) => {\n    const unitConfig = options.unitConfig[index];\n    if (unit.id === squadFillerMapping.EMPTY) {\n      const bbOrder = !isNaN(unitConfig.bbOrder) ? +unitConfig.bbOrder : squad.units.length;\n      lowestBbOrderForEmptyUnits = Math.min(lowestBbOrderForEmptyUnits, bbOrder);\n    } else {\n      const bbOrder = !isNaN(unitConfig.bbOrder) ? +unitConfig.bbOrder : 0;\n      highestBbOrderForNonEmptyUnits = Math.max(highestBbOrderForNonEmptyUnits, bbOrder);\n      if (bbOrder > 0) {\n        if (!usedOrders.has(bbOrder)) {\n          usedOrders.add(bbOrder);\n        } else {\n          warnings.push(`Duplicate BB Order found [${bbOrder}]`);\n        }\n      }\n    }\n  });\n\n  if (highestBbOrderForNonEmptyUnits > maxBbOrder) {\n    warnings.push(`BB Order for non-empty units should not exceed number of non-empty units (${maxBbOrder})`);\n  }\n  if (lowestBbOrderForEmptyUnits > 0 && lowestBbOrderForEmptyUnits <= maxBbOrder) {\n    warnings.push(`BB Order for empty units should not be lower than the number of non-empty units (${maxBbOrder})`);\n  }\n\n  return warnings;\n}\n\nexport function applySparkResultToSquad (squad = generateDefaultSquad(), sparkResult = calculateSparksForSparkSimSquad(), originalOptions = getSimulatorOptions()) {\n  const newUnitSet = [], newSparkResultSquad = [];\n  let { lead, friend } = squad;\n  let leadUnit, friendUnit;\n  unitPositionMapping.forEach((position, index) => {\n    const squadUnitIndex = squad.units.findIndex(u => u.position === position);\n    const sparkUnitIndex = sparkResult.squad.findIndex(u => u.originalPosition === position);\n\n    newUnitSet.push(makeSquadUnitEntry({\n      ...squad.units[squadUnitIndex],\n      position: sparkResult.squad[sparkUnitIndex].position,\n      bbOrder: sparkResult.squad[sparkUnitIndex].bbOrder,\n      action: sparkResult.squad[sparkUnitIndex].action,\n    }));\n    newSparkResultSquad.push(sparkResult.squad[sparkUnitIndex]);\n\n    if (squadUnitIndex === lead) {\n      leadUnit = newUnitSet[index];\n    }\n    if (squadUnitIndex === friend) {\n      friendUnit = newUnitSet[index];\n    }\n  });\n\n  // set lead and friend indices properlty\n  sortUnitsByPosition(newUnitSet, false);\n  sortUnitsByPosition(newSparkResultSquad, false);\n  if (leadUnit) {\n    lead = newUnitSet.indexOf(leadUnit);\n  }\n  if (friendUnit) {\n    friend = newUnitSet.indexOf(friendUnit);\n  }\n\n  return {\n    squad: cloneSquad({\n      ...squad,\n      lead,\n      friend,\n      units: newUnitSet,\n    }),\n    sparkResult: {\n      ...sparkResult,\n      squad: newSparkResultSquad,\n    },\n    options: getSimulatorOptions({\n      ...originalOptions,\n      unitConfig: extractUnitConfigFromSparkResultSquad(newSparkResultSquad),\n    }),\n  };\n}\n\nexport function extractUnitConfigFromSparkResultSquad (squad = calculateSparksForSparkSimSquad().squad) {\n  // assumption: order of units in spark result does not differ from squad it is to be applid on\n  return squad.map(getSparkSimUnitConfig);\n}\n\n// original source: https://initjs.org/all-permutations-of-a-set-f1be174c79f8\nexport function getAllPermutations(arr = []) {\n  const results = [];\n\n  if (arr.length === 1) {\n    results.push(arr);\n  } else {\n    arr.forEach((d, i) => {\n      const remainingElements = arr.slice(0, i).concat(arr.slice(i + 1, arr.length));\n      const innerPermutations = getAllPermutations(remainingElements);\n      innerPermutations.forEach(permutation => {\n        results.push([d].concat(permutation));\n      });\n    });\n  }\n  return results;\n}\n\nexport function getPositionPermutations (squad = [convertSquadUnitEntryToSparkUnitEntry()], options = getSimulatorOptions()) {\n  const lockedIndices = [], unlockedPositions = [];\n  squad.forEach((unit, i) => {\n    const unitConfig = options.unitConfig[i];\n    if (unitConfig.lockPosition) {\n      lockedIndices.push(i);\n    } else {\n      unlockedPositions.push(unit.position);\n    }\n  });\n\n  let resultPositions = [[]];\n  const createPositionArray = (positionPermutation = []) => {\n    let currentPermutationIndex = 0;\n    // fill in mapping based on locked and unlocked indices\n    return unitPositionMapping.map((_, i) =>\n      lockedIndices.includes(i)\n        ? squad[i].position\n        : positionPermutation[currentPermutationIndex++]\n    );\n  };\n  if (unlockedPositions.length > 0) {\n    resultPositions = getAllPermutations(unlockedPositions)\n      .map(permutation => createPositionArray(permutation));\n  } else {\n    resultPositions = [lockedIndices.map(i => squad[i].position)];\n  }\n  return resultPositions;\n}\n\nexport function getOrderPermutations (squad = [convertSquadUnitEntryToSparkUnitEntry()], options = getSimulatorOptions()) {\n  const allOrders = squad.map((_, i) => i + 1);\n  const emptyUnits = squad.filter(u => u.id === squadFillerMapping.EMPTY);\n  const lockedUnits = [], unlockedUnits = [];\n  squad.forEach((unit, i) => {\n    const config = options.unitConfig[i];\n    if (!isNaN(config.bbOrder) && allOrders.includes(config.bbOrder)) {\n      lockedUnits.push({ unit, bbOrder: +config.bbOrder });\n    } else if (config.bbOrder === ANY_BB_ORDER) {\n      unlockedUnits.push(unit);\n    }\n  });\n  const emptyOrders = allOrders\n    .filter(order => order > (squad.length - emptyUnits.length))\n    .map((order, index) => ({ unit: emptyUnits[index], bbOrder: order }));\n  const lockedOrders = lockedUnits.map(({ bbOrder }) => bbOrder);\n  const unlockedOrders = allOrders.filter(order => !lockedOrders.includes(order) && order <= (squad.length - emptyUnits.length));\n  let unitOrderPairings = [[]];\n  if (unlockedOrders.length > 0) {\n    unitOrderPairings = getAllPermutations(unlockedOrders)\n      .map(permutation => {\n        return permutation.map((bbOrder, index) => ({ unit: unlockedUnits[index], bbOrder }))\n          .filter(p => p.unit)\n          .concat(lockedUnits).concat(emptyOrders);\n      });\n  } else {\n    unitOrderPairings = [lockedUnits.concat(emptyOrders)];\n  }\n  return unitOrderPairings.map(permutation => {\n    return permutation\n      .sort((a, b) => squad.indexOf(a.unit) - squad.indexOf(b.unit))\n      .map(p => p.bbOrder);\n  });\n}\n\nexport async function generateSimulatorPermutations (squad = [convertSquadUnitEntryToSparkUnitEntry()], options = getSimulatorOptions(), delay = () => {}) {\n  const positionPermutations = getPositionPermutations(squad, options);\n  const orderPermutations = getOrderPermutations(squad, options);\n  const getResultKey = (currentSquad = squad, unitConfig = [{ bbOrder: 0, position: unitPositionMapping[0] }]) => {\n    return currentSquad.map((unit, index) => {\n      const config = unitConfig[index];\n      const unitKey = unit.id === squadFillerMapping.EMPTY || unit.id === squadFillerMapping.ANY\n        ? ''\n        : `${unit.id}|${unit.extraAttackEffects.length}|${unit.action}|${config.position}|${config.bbOrder}`;\n      return unitKey;\n    }).filter(v => v).join('-');\n  };\n  logger.debug({\n    positionPermutations,\n    orderPermutations,\n  });\n  const squadPermutations = [];\n  const permutationHistory = new Map();\n  let currentIndex = 0;\n  for (const positionPermutation of positionPermutations) {\n    if (currentIndex % 5 === 0) {\n      await Promise.resolve(delay());\n    }\n    orderPermutations.forEach(orderPermutation => {\n      const resultMapping = squad.map((_, i) => ({ position: positionPermutation[i], bbOrder: orderPermutation[i] }));\n      const resultKey = getResultKey(squad, resultMapping);\n      if (!permutationHistory.get(resultKey)) {\n        permutationHistory.set(resultKey, true);\n        squadPermutations.push(resultMapping);\n      }\n    });\n  }\n\n  return squadPermutations;\n}\n\nexport function getUnitConfigForUnoptimizedRun (config = getSparkSimUnitConfig(), unit = generateFillerSquadUnitEntry()) {\n  return {\n    ...config,\n    bbOrder: !isNaN(config.bbOrder) ? config.bbOrder : unit.bbOrder,\n  };\n}\n\nexport function applyPermutationToUnitConfig (options = [getSparkSimUnitConfig()], permutation = [{ bbOrder: 1, position: unitPositionMapping[0] }]) {\n  return options.map((config, i) => getSparkSimUnitConfig({\n    ...config,\n    ...permutation[i],\n  }));\n}\n\nexport function applyPermutationToSparkSquad (squad = [convertSquadUnitEntryToSparkUnitEntry()], permutation = [{ bbOrder: 1, position: unitPositionMapping[0] }]) {\n  return squad.map((unit, i) => ({\n    ...unit,\n    bbOrder: permutation[i].bbOrder,\n    position: permutation[i].position,\n  }));\n}\n","import { convertSquadUnitEntryToSparkUnitEntry, getSimulatorOptions } from '@/modules/spark-simulator/utils';\n\nexport default class SparkSimWorkerInterface {\n  /* eslint-disable no-unused-vars */\n  static _defer (name = 'name of method to be deferred') {\n    return Promise.reject(new Error(`Must implement ${name}() in subclass`));\n  }\n\n  run ({\n    permutations = [],\n    sparkSquad = [convertSquadUnitEntryToSparkUnitEntry()],\n    options = getSimulatorOptions(),\n  } = {}) {\n    return SparkSimWorkerInterface._defer('run');\n  }\n\n  cancel () {\n    return SparkSimWorkerInterface._defer('cancel');\n  }\n\n  onProgress ({ total = 0, completed = 0 } = {}) {\n    return SparkSimWorkerInterface._defer('onProgress');\n  }\n  /* eslint-enable no-unused-vars */\n}\n","import PromiseWorkerExchangeClient from '@/modules/PromiseWorkerExchange/client';\nimport SparkSimWorkerInterface from '../ClientWorkerInterface';\nimport { convertSquadUnitEntryToSparkUnitEntry, getSimulatorOptions } from '@/modules/spark-simulator/utils';\nimport { Logger } from '@/modules/Logger';\n\n// eslint-disable-next-line no-unused-vars\nconst logger = new Logger({ prefix: '[SparkSimWorker/client]' });\nexport default class SparkSimClient extends SparkSimWorkerInterface {\n  constructor (exchangeWorker = new PromiseWorkerExchangeClient()) {\n    super();\n    this._worker = exchangeWorker;\n    this._progressListeners = new Set();\n\n    this._worker.registerCommand('progress', progress => {\n      this.onProgress(progress);\n    });\n  }\n\n  get exchangeWorker () {\n    return this._worker;\n  }\n\n  request (method, data) {\n    logger.debug('starting request for', { method, data });\n    return this._worker.request(method, data);\n  }\n\n  run (simArguments = {\n    permutations: null,\n    sparkSquad: [convertSquadUnitEntryToSparkUnitEntry()],\n    options: getSimulatorOptions(),\n  }) {\n    return this._worker.request('run', simArguments);\n  }\n\n  cancel () {\n    return this._worker.request('cancel');\n  }\n\n  onProgress (progress = { total: 0, completed: 0 }) {\n    this._progressListeners.forEach(listener => {\n      listener(progress);\n    });\n  }\n\n  addProgressListener (fn) {\n    if (typeof fn === 'function') {\n      this._progressListeners.add(fn);\n    }\n  }\n\n  removeProgressListener (fn) {\n    if (typeof fn === 'function') {\n      this._progressListeners.delete(fn);\n    }\n  }\n\n  removeAllListeners () {\n    this._progressListeners.clear();\n  }\n\n  close () {\n    this._worker.close();\n    this._worker = null;\n  }\n}\n","import PromiseWorkerExchangeClient from '@/modules/PromiseWorkerExchange/client';\nimport SimWorker from 'worker-loader!../worker/index.js';\nimport ClientApi from './ClientApi';\n\nexport default function makeWorker () {\n  const worker = new PromiseWorkerExchangeClient(new SimWorker());\n  return new ClientApi(worker);\n}\n","import { generateDefaultSquad } from '@/modules/core/squads';\nimport {\n  convertSquadUnitEntryToSparkUnitEntry,\n  calculateSparksForSparkSimSquad,\n  getSimulatorOptions,\n  getUnitConfigForUnoptimizedRun,\n  generateSimulatorPermutations,\n} from './utils';\nimport { MAX_WORKERS } from './constants';\nimport makeWorker from './client';\nimport { Logger } from '@/modules/Logger';\n\nconst logger = new Logger({ prefix: '[SparkSimulator]' });\nexport default class SparkSimulator {\n  constructor () {\n    this._squad = null;\n\n    const noop = () => ({});\n    this._dbGetters = {\n      unit: noop,\n      item: noop,\n      extraSkill: noop,\n    };\n\n    this._progressListeners = new Set();\n    this._workers = [];\n    this._progressTotal = 0;\n    this._progressPerWorker = [];\n  }\n\n  set getters (getters = {}) {\n    Object.keys(this._dbGetters).forEach(getterType => {\n      if (typeof getters[getterType] === 'function') {\n        this._dbGetters[getterType] = getters[getterType];\n      }\n    });\n  }\n\n  calculateSparksForSquad (squad = generateDefaultSquad(), options = getSimulatorOptions()) {\n    const sparkSquad = squad.units.map((u, i) => convertSquadUnitEntryToSparkUnitEntry({\n      entry: u,\n      synchronousGetters: this._dbGetters,\n      squad,\n      originalPosition: u.position,\n      unitConfig: getUnitConfigForUnoptimizedRun(options.unitConfig[i], u),\n    }));\n    return calculateSparksForSparkSimSquad(sparkSquad, options);\n  }\n\n  async calculateOptimalOrdersForSquad(squad = generateDefaultSquad(), options = getSimulatorOptions()) {\n    const sparkSquad = squad.units.map((u, i) => convertSquadUnitEntryToSparkUnitEntry({\n      entry: u,\n      synchronousGetters: this._dbGetters,\n      squad,\n      originalPosition: u.position,\n      unitConfig: options.unitConfig[i],\n    }));\n    logger.debug('getting permutations for spark squad', sparkSquad);\n    const permutations = await generateSimulatorPermutations(sparkSquad, options, () => new Promise(fulfill => setTimeout(() => fulfill())));\n    logger.debug('permutations', permutations.length);\n    this._progressTotal = permutations.length;\n\n    const calcPromises = [];\n    const workerCount = Math.min(MAX_WORKERS, Math.max(1, options.workerCount));\n    const sliceSize = Math.max(1, Math.floor(permutations.length / workerCount));\n    let sliceIndex = 0;\n    for (let i = 0; i < workerCount; ++i) {\n      const currentWorker = makeWorker();\n      this._workers.push(currentWorker);\n      this._progressPerWorker.push(0);\n      currentWorker.addProgressListener(p => this.onProgress(p, i));\n      let permutationsForWorker;\n      if (workerCount === 1) {\n        permutationsForWorker = permutations;\n      } else {\n        permutationsForWorker = i + 1 !== workerCount\n          ? permutations.slice(sliceIndex, sliceIndex + sliceSize)\n          : permutations.slice(sliceIndex);\n      }\n      logger.debug('slice', sliceIndex, sliceSize, permutationsForWorker.length);\n      sliceIndex += sliceSize;\n      calcPromises.push(currentWorker.run({\n        permutations: permutationsForWorker,\n        sparkSquad,\n        options,\n      }));\n    }\n    const results = await Promise.all(calcPromises);\n    const aggregateResult = { errors: [], results: [], countTested: permutations.length };\n    results.forEach((sparkResult, i) => {\n      aggregateResult.errors = aggregateResult.errors.concat(sparkResult.errors);\n      aggregateResult.results = aggregateResult.results.concat(sparkResult.results)\n        .sort((a, b) => b.weightedPercentage - a.weightedPercentage)\n        .slice(0, options.maxResults);\n      this._workers[i].close();\n    });\n\n    this._workers = [];\n    this._progressPerWorker = [];\n    return aggregateResult;\n  }\n\n  onProgress ({ completed = 0 } = {}, workerIndex = 0) {\n    this._progressPerWorker[workerIndex] = completed;\n    const sum = this._progressPerWorker.reduce((acc, val) => acc + val, 0);\n    this._progressListeners.forEach(listener => {\n      listener({ total: this._progressTotal, completed: sum });\n    });\n  }\n  \n  addProgressListener (fn) {\n    if (typeof fn === 'function') {\n      this._progressListeners.add(fn);\n    }\n  }\n\n  removeProgressListener (fn) {\n    if (typeof fn === 'function') {\n      this._progressListeners.delete(fn);\n    }\n  }\n\n  removeAllListeners () {\n    this._progressListeners.clear();\n  }\n\n  cancelCalculations () {\n    this._workers.forEach(worker => {\n      worker.cancel();\n    });\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"spark-squad-card\"},[_c('v-layout',{staticClass:\"pa-2\",attrs:{\"row\":\"\",\"align-center\":\"\"}},[_c('v-flex',[_c('h1',{staticClass:\"title\"},[_vm._v(\"\\n        \"+_vm._s(_vm.sparkPercentage)+\" Weighted Hits Sparked\\n      \")])]),_c('v-flex',{staticStyle:{\"flex\":\"none\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"flat\":\"\",\"color\":_vm.bbOrderColorToggleIconColor},on:{\"click\":_vm.toggleBbOrderColor}},[_c('v-icon',[_vm._v(\"color_lens\")])],1)],1)],1),_c('v-layout',{staticClass:\"px-2\",attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.fullUnits),function(unit,i){return _c('unit-entry',{key:_vm.getUnitEntryKey(unit, i),staticClass:\"d-flex py-1\",staticStyle:{\"align-items\":\"center\",\"border\":\"1px solid var(--background-color-alt)\"},attrs:{\"xs12\":\"\",\"sm6\":\"\",\"index\":i,\"unit\":unit,\"getUnit\":_vm.getUnit,\"isLead\":_vm.squad.units.indexOf(unit) === _vm.squad.lead,\"isFriend\":_vm.squad.units.indexOf(unit) === _vm.squad.friend,\"sparkResultForUnit\":_vm.sparkResultsByUnit.get(unit),\"relativeWeight\":_vm.relativeWeightByUnit.get(unit),\"warnings\":_vm.warningsByUnit.get(unit),\"burstCutins\":_vm.simulatorOptions.burstCutins}})}),1),_c('v-divider',{staticClass:\"mt-2\"}),_vm._t(\"card-actions\",[_c('v-card-actions',[_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){return _vm.$emit('share')}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"share\")]),_vm._v(\"\\n        Share\\n      \")],1)],1)])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-flex',_vm._g(_vm._b({staticClass:\"spark-unit-entry\"},'v-flex',_vm.$attrs,false),_vm.$listeners),[_vm._t(\"before-content\"),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('v-layout',{staticClass:\"mx-2\",style:((\"flex-grow: 0!important; min-width: \" + _vm.thumbnailSize + \"px; max-width: \" + _vm.thumbnailSize + \"px;\")),attrs:{\"column\":\"\"}},[(_vm.$vuetify.breakpoint.xsOnly)?_c('v-flex',{attrs:{\"text-xs-center\":\"\"}},[_c('span',{staticClass:\"caption text-no-wrap\"},[_vm._v(_vm._s(_vm.position))])]):_vm._e(),_c('v-layout',{attrs:{\"align-content-center\":\"\",\"row\":\"\"}},[_c('unit-thumbnail',{staticClass:\"unit-thumbnail\",style:((\"border-color: \" + (_vm.orderSettings.border) + \";\")),attrs:{\"src\":_vm.getImageUrls(_vm.unit.id).ills_battle,\"rarity\":_vm.rarity,\"imageTitle\":_vm.name,\"displayWidth\":_vm.thumbnailSize,\"displayHeight\":_vm.thumbnailSize}},[_c('template',{slot:\"after-image\"},[_c('text',{style:(_vm.bbOrderStyle),attrs:{\"x\":0,\"y\":_vm.thumbnailSize * 0.75}},[_vm._v(\"\\n              \"+_vm._s(!isNaN(_vm.bbOrder) ? _vm.bbOrder : '-')+\"\\n            \")])])],2)],1),(_vm.orderSettings)?_c('v-flex',{staticClass:\"text-xs-center\"},[_c('v-chip',{staticClass:\"bb-order-chip\",style:((\"\\n            background-color: \" + (_vm.orderSettings.background) + \";\\n            color: \" + (_vm.orderSettings.foreground) + \";\\n            border-color: \" + (_vm.orderSettings.border) + \";\\n          \")),attrs:{\"tabindex\":\"-1\",\"small\":\"\"}},[_c('b',[_vm._v(_vm._s(_vm.orderSettings.text))])])],1):_vm._e()],1),_c('v-layout',{staticStyle:{\"align-self\":\"flex-start\"},attrs:{\"column\":\"\"}},[_c('v-layout',{attrs:{\"align-center\":\"\"}},[_c('v-flex',{staticClass:\"d-flex-container align-center font-weight-bold subheading\"},[(_vm.rarity < 8)?_c('span',[_vm._v(_vm._s(_vm.rarity))]):_vm._e(),_c('rarity-icon',{class:{ 'ml-1': _vm.rarity !== 8, 'mr-1': true, },attrs:{\"rarity\":_vm.rarity || 0,\"displaySize\":18}}),_c('span',[_vm._v(_vm._s(_vm.name))])],1),_c('v-spacer'),(_vm.isLead || _vm.isFriend)?_c('v-flex',{staticStyle:{\"flex-grow\":\"0\"}},[(_vm.isLead)?_c('leader-icon',{attrs:{\"displaySize\":18}}):(_vm.isFriend)?_c('friend-icon',{attrs:{\"displaySize\":18}}):_vm._e()],1):_vm._e()],1),_c('v-layout',{attrs:{\"column\":\"\"}},[_c('v-flex',[_c('span',{staticClass:\"headline\",domProps:{\"textContent\":_vm._s(_vm.sparkFraction)}}),_c('span',{staticClass:\"subheading\",staticStyle:{\"margin-left\":\"0.5em\"},domProps:{\"textContent\":_vm._s('SPARKS')}})]),_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{staticClass:\"body-1\"},[_vm._v(\"\\n            Delay:\\n            \"),_vm._l((_vm.delayDescription),function(entry,i){return [_c('v-tooltip',{key:entry.description,attrs:{\"bottom\":\"\"}},[_c('span',{staticStyle:{\"text-decoration\":\"underline dashed\"},attrs:{\"slot\":\"activator\"},domProps:{\"textContent\":_vm._s(entry.delay)},slot:\"activator\"}),_c('span',{domProps:{\"textContent\":_vm._s(entry.description)}})]),(i !== _vm.delayDescription.length - 1)?_c('span',{key:i,staticStyle:{\"margin\":\"0 0.5em\"},domProps:{\"textContent\":_vm._s('+')}}):_vm._e()]}),_vm._v(\"\\n            ,\\n            \"),_c('v-tooltip',{attrs:{\"bottom\":\"\"}},[_c('span',{staticStyle:{\"text-decoration\":\"underline dashed\"},attrs:{\"slot\":\"activator\"},slot:\"activator\"},[_vm._v(\"\\n                Weight:\\n              \")]),_c('span',[_vm._v(\"Represents how much this unit contributes to the overall spark percentage of the squad.\")])]),_vm._v(\"\\n            \"+_vm._s(_vm.sparkResultForUnit.weight)+\" (\"+_vm._s(_vm.relativeWeight)+\"%)\\n          \")],2),(_vm.warnings.length > 0)?_c('v-flex',{staticStyle:{\"flex-grow\":\"0\"}},[_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.showWarningDialog),callback:function ($$v) {_vm.showWarningDialog=$$v},expression:\"showWarningDialog\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"fab\":\"\",\"small\":\"\",\"color\":\"warning\"},slot:\"activator\"},[_c('v-icon',[_vm._v(\"info\")])],1),_c('v-card',[_c('v-card-text',[_c('v-container',{staticClass:\"pa-0\",attrs:{\"fluid\":\"\"}},[_c('v-flex',[_c('v-alert',{staticStyle:{\"overflow-x\":\"auto\"},attrs:{\"outline\":\"\",\"value\":true,\"type\":\"warning\"}},[_c('span',[_vm._v(\"This unit has issues that may affect the accuracy of results.\")]),_c('v-list',_vm._l((_vm.warnings),function(message){return _c('v-list-tile',{key:message},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n                                \"+_vm._s(message)+\"\\n                              \")])],1)],1)}),1)],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.showWarningDialog = false}}},[_vm._v(\"\\n                    Back\\n                  \")])],1)],1)],1)],1):_vm._e()],1)],1)],1)],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-flex class=\"spark-unit-entry\" v-bind=\"$attrs\" v-on=\"$listeners\">\n    <slot name=\"before-content\"/>\n    <div style=\"display: flex;\">\n      <v-layout\n        column class=\"mx-2\"\n        :style=\"`flex-grow: 0!important; min-width: ${thumbnailSize}px; max-width: ${thumbnailSize}px;`\">\n        <v-flex text-xs-center v-if=\"$vuetify.breakpoint.xsOnly\">\n          <span class=\"caption text-no-wrap\">{{ position }}</span>\n        </v-flex>\n        <v-layout align-content-center row>\n          <unit-thumbnail\n            class=\"unit-thumbnail\"\n            :style=\"`border-color: ${orderSettings.border};`\"\n            :src=\"getImageUrls(unit.id).ills_battle\"\n            :rarity=\"rarity\"\n            :imageTitle=\"name\"\n            :displayWidth=\"thumbnailSize\" :displayHeight=\"thumbnailSize\">\n            <template slot=\"after-image\">\n              <text\n                :x=\"0\"\n                :y=\"thumbnailSize * 0.75\"\n                :style=\"bbOrderStyle\"\n              >\n                {{ !isNaN(bbOrder) ? bbOrder : '-' }}\n              </text>\n            </template>\n          </unit-thumbnail>\n        </v-layout>\n        <v-flex class=\"text-xs-center\" v-if=\"orderSettings\">\n          <v-chip\n            tabindex=\"-1\"\n            :style=\"`\n              background-color: ${orderSettings.background};\n              color: ${orderSettings.foreground};\n              border-color: ${orderSettings.border};\n            `\"\n            class=\"bb-order-chip\"\n            small>\n            <b>{{ orderSettings.text }}</b>\n          </v-chip>\n        </v-flex>\n      </v-layout>\n      <v-layout column style=\"align-self: flex-start;\">\n        <!-- name and leader/friend icon -->\n        <v-layout align-center>\n          <v-flex class=\"d-flex-container align-center font-weight-bold subheading\">\n            <span v-if=\"rarity < 8\">{{ rarity }}</span>\n            <rarity-icon\n              :class=\"{ 'ml-1': rarity !== 8, 'mr-1': true, }\"\n              :rarity=\"rarity || 0\"\n              :displaySize=\"18\"/>\n            <span>{{ name }}</span>\n          </v-flex>\n          <v-spacer/>\n          <v-flex\n            v-if=\"isLead || isFriend\"\n            style=\"flex-grow: 0;\">\n            <leader-icon\n              v-if=\"isLead\"\n              :displaySize=\"18\"/>\n            <friend-icon\n              v-else-if=\"isFriend\"\n              :displaySize=\"18\"/>\n          </v-flex>\n        </v-layout>\n        <v-layout column>\n          <v-flex>\n            <span class=\"headline\" v-text=\"sparkFraction\"/>\n            <span class=\"subheading\" v-text=\"'SPARKS'\" style=\"margin-left: 0.5em\"/>\n          </v-flex>\n          <v-layout row>\n            <v-flex class=\"body-1\">\n              Delay:\n              <template v-for=\"(entry, i) in delayDescription\">\n                <v-tooltip\n                  :key=\"entry.description\"\n                  bottom\n                >\n                  <span\n                    slot=\"activator\"\n                    v-text=\"entry.delay\"\n                    style=\"text-decoration: underline dashed\"\n                  />\n                  <span v-text=\"entry.description\"/>\n                </v-tooltip>\n                <span\n                  v-if=\"i !== delayDescription.length - 1\"\n                  :key=\"i\"\n                  style=\"margin: 0 0.5em\"\n                  v-text=\"'+'\"\n                />\n              </template>\n              ,\n              <v-tooltip bottom>\n                <span slot=\"activator\" style=\"text-decoration: underline dashed\">\n                  Weight:\n                </span>\n                <span>Represents how much this unit contributes to the overall spark percentage of the squad.</span>\n              </v-tooltip>\n              {{ sparkResultForUnit.weight }} ({{ relativeWeight }}%)\n            </v-flex>\n            <v-flex style=\"flex-grow: 0\" v-if=\"warnings.length > 0\">\n              <v-dialog v-model=\"showWarningDialog\" max-width=\"500px\">\n                <v-btn\n                  fab\n                  small\n                  color=\"warning\"\n                  slot=\"activator\"\n                >\n                  <v-icon>info</v-icon>\n                </v-btn>\n                <v-card>\n                  <v-card-text>\n                    <v-container fluid class=\"pa-0\">\n                      <v-flex>\n                        <v-alert outline :value=\"true\" type=\"warning\" style=\"overflow-x: auto;\">\n                          <span>This unit has issues that may affect the accuracy of results.</span>\n                          <v-list>\n                            <v-list-tile\n                              v-for=\"message in warnings\"\n                              :key=\"message\">\n                              <v-list-tile-content>\n                                <v-list-tile-title>\n                                  {{ message }}\n                                </v-list-tile-title>\n                              </v-list-tile-content>\n                            </v-list-tile>\n                          </v-list>\n                        </v-alert>\n                      </v-flex>\n                    </v-container>\n                  </v-card-text>\n                  <v-card-actions>\n                    <v-spacer/>\n                    <v-btn flat @click=\"showWarningDialog = false\">\n                      Back\n                    </v-btn>\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n            </v-flex>\n          </v-layout>\n        </v-layout>\n      </v-layout>\n    </div>\n  </v-flex>\n</template>\n\n<script>\nimport { squadUnitActions } from '@/modules/constants';\nimport { getDelayDescriptionForSparkUnitResult } from '@/modules/spark-simulator/utils';\nimport { mapGetters } from 'vuex';\nimport colors from 'vuetify/es5/util/colors';\nimport UnitThumbnail from '@/components/Multidex/Units/UnitThumbnail';\nimport RarityIcon from '@/components/Multidex/RarityIcon';\nimport LeaderIcon from '@/components/Multidex/MiniLeaderIcon';\nimport FriendIcon from '@/components/Multidex/MiniFriendIcon';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\n\nconst colorConfigByBbOrder = [\n  { stroke: colors.red.darken4, fill: colors.red.lighten4 },\n  { stroke: colors.blue.darken4, fill: colors.blue.lighten4 },\n  { stroke: colors.green.darken4, fill: colors.green.lighten4 },\n  { stroke: colors.yellow.darken4, fill: colors.yellow.lighten4 },\n  { stroke: colors.grey.darken4, fill: colors.grey.lighten4 },\n  { stroke: colors.purple.darken4, fill: colors.purple.lighten4 },\n];\nexport default {\n  mixins: [GettersMixin],\n  components: {\n    UnitThumbnail,\n    RarityIcon,\n    LeaderIcon,\n    FriendIcon,\n  },\n  props: {\n    unit: {\n      type: Object,\n      required: true,\n    },\n    isLead: {\n      type: Boolean,\n      default: false,\n    },\n    isFriend: {\n      type: Boolean,\n      default: false,\n    },\n    sparkResultForUnit: {\n      type: Object,\n      required: true,\n    },\n    warnings: {\n      type: Array,\n      default: () => [],\n    },\n    burstCutins: {\n      type: Boolean,\n      default: false,\n    },\n    relativeWeight: {\n      type: Number,\n      default: 0,\n    },\n  },\n  computed: {\n    ...mapGetters('units', {\n      getImageUrls: 'getImageUrls',\n    }),\n    thumbnailSize () {\n      return 64;\n    },\n    iconSize () {\n      return 22;\n    },\n    unitData () {\n      return this.getUnit(this.unit.id) || {};\n    },\n    orderSettings () {\n      const hasBbOrder = !isNaN(this.bbOrder);\n      return {\n        text: (hasBbOrder && this.getOrderText({\n          id: this.unit.id,\n          action: this.action,\n        })) || '-',\n        ...this.getColorSetBasedOnAction((hasBbOrder && this.action) || undefined),\n      };\n    },\n    rarity () {\n      return this.unitData.rarity || 0;\n    },\n    name () {\n      return this.unitData.name || this.unit.id;\n    },\n    sparkFraction () {\n      return `${this.sparkResultForUnit.actualSparks} / ${this.sparkResultForUnit.possibleSparks}`;\n    },\n    delayDescription () {\n      return getDelayDescriptionForSparkUnitResult({\n        sparkUnitResult: this.sparkResultForUnit,\n        unitData: this.unitData,\n        burstCutins: !!this.burstCutins,\n      });\n    },\n    bbOrder () {\n      return this.sparkResultForUnit.bbOrder || this.unit.bbOrder;\n    },\n    action () {\n      return this.sparkResultForUnit.action || this.unit.action;\n    },\n    position () {\n      return this.sparkResultForUnit.position || this.unit.position;\n    },\n    bbOrderStyle () {\n      let style;\n      if (this.$store.state.showBbOrderColors && !isNaN(this.bbOrder) && colorConfigByBbOrder[+this.bbOrder - 1]) {\n        style = { ...colorConfigByBbOrder[+this.bbOrder - 1] };\n      }\n      return style;\n    },\n  },\n  data () {\n    return {\n      showWarningDialog: false,\n    };\n  },\n  methods: {\n    getColorSetBasedOnAction (action) {\n      const colorKey = (action === squadUnitActions.UBB && 'red') ||\n        (action === squadUnitActions.SBB && 'amber') ||\n        (action === squadUnitActions.BB && 'blueGrey') ||\n        'grey';\n\n      return {\n        border: colors[colorKey].base,\n        background: colors[colorKey].lighten4,\n        foreground: colors[colorKey].darken4,\n      };\n    },\n    getOrderText (unit = {}) {\n      // default to SBB or below (depending on if the unit has it)\n      const action = unit.action ||\n        (this.getUnit(unit.id).sbb && squadUnitActions.SBB) ||\n        (this.getUnit(unit.id).bb && squadUnitActions.BB) ||\n        (squadUnitActions.ATK);\n      return action.toUpperCase();\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.spark-unit-entry {\n  .bb-order-chip {\n    justify-content: center;\n    margin: auto;\n    width: 100%;\n    border-top-left-radius: 0; \n    border-top-right-radius: 0;\n    margin-top: 0;\n  }\n\n  image.lazy-actual {\n    min-width: 64px;\n  }\n\n  .unit-thumbnail {\n    flex: 0 1 auto;\n    margin-top: auto;\n    font: bold 4.5em sans-serif;\n    stroke: black;\n    stroke-width: 2px;\n    fill: white;\n    border: 1px solid white;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SparkUnitEntry.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SparkUnitEntry.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SparkUnitEntry.vue?vue&type=template&id=3c49e904&\"\nimport script from \"./SparkUnitEntry.vue?vue&type=script&lang=js&\"\nexport * from \"./SparkUnitEntry.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SparkUnitEntry.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-card class=\"spark-squad-card\">\n    <v-layout row class=\"pa-2\" align-center>\n      <v-flex>\n        <h1 class=\"title\">\n          {{ sparkPercentage }} Weighted Hits Sparked\n        </h1>\n      </v-flex>\n      <v-flex style=\"flex: none;\">\n        <v-btn\n          icon flat\n          :color=\"bbOrderColorToggleIconColor\"\n          @click=\"toggleBbOrderColor\"\n        >\n          <v-icon>color_lens</v-icon>\n        </v-btn>\n      </v-flex>\n    </v-layout>\n    <v-layout row wrap class=\"px-2\">\n      <unit-entry\n        v-for=\"(unit, i) in fullUnits\"\n        :key=\"getUnitEntryKey(unit, i)\"\n        xs12 sm6\n        :index=\"i\"\n        :unit=\"unit\"\n        :getUnit=\"getUnit\"\n        :isLead=\"squad.units.indexOf(unit) === squad.lead\"\n        :isFriend=\"squad.units.indexOf(unit) === squad.friend\"\n        :sparkResultForUnit=\"sparkResultsByUnit.get(unit)\"\n        :relativeWeight=\"relativeWeightByUnit.get(unit)\"\n        :warnings=\"warningsByUnit.get(unit)\"\n        :burstCutins=\"simulatorOptions.burstCutins\"\n        class=\"d-flex py-1\"\n        style=\"align-items: center; border: 1px solid var(--background-color-alt);\"/>\n    </v-layout>\n    <v-divider class=\"mt-2\"/>\n    <slot name=\"card-actions\">\n      <v-card-actions>\n        <v-btn flat @click=\"$emit('share')\">\n          <v-icon left>share</v-icon>\n          Share\n        </v-btn>\n      </v-card-actions>\n    </slot>\n  </v-card>\n</template>\n\n<script>\nimport {\n  unitPositionMapping,\n  targetTypes,\n  squadBuffTypes,\n} from '@/modules/constants';\nimport { generateFillerSquadUnitEntry, getEffectsListForSquadUnitEntry } from '@/modules/core/squads';\nimport {\n  getAttackEffectsFromBurst,\n  getSimulatorWarningsForSquadUnit,\n} from '@/modules/spark-simulator/utils';\nimport UnitEntry from '@/components/Tools/Squads/SparkStatistics/SparkUnitEntry';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\n\nexport default {\n  mixins: [GettersMixin],\n  components: {\n    UnitEntry,\n  },\n  props: {\n    squad: {\n      type: Object,\n      required: true,\n    },\n    sparkResult: {\n      type: Object,\n      required: true,\n    },\n    simulatorOptions: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    // fills empty positions with empty values\n    fullUnits () {\n      return unitPositionMapping.map(position => {\n        const unitSparkResult = this.sparkResult.squad.find(r => r.position === position);\n        let unit = this.squad.units.find(unit => unit.position === unitSparkResult.originalPosition);\n        if (!unit) { // empty position, so fill it with empty data\n          unit = generateFillerSquadUnitEntry({ isEmpty: true, bbOrder: null, position });\n        }\n\n        return unit;\n      });\n    },\n    sparkResultsByUnit () {\n      const mapping = new WeakMap();\n      this.fullUnits.forEach(unit => {\n        mapping.set(unit, this.sparkResult.squad.find(u => u.originalPosition === unit.position));\n      });\n      return mapping;\n    },\n    sparkPercentage () {\n      return `${(this.sparkResult.weightedPercentage * 100).toFixed(2)}%`;\n    },\n    warningsByUnit () {\n      const mapping = new WeakMap();\n      this.fullUnits.forEach(squadUnit => {\n        const sourcesToIgnore = ['unit.bb', 'unit.sbb', 'unit.ubb'];\n        const unitData = this.getUnit(squadUnit.id) || {};\n        const burstAttacks = getAttackEffectsFromBurst(unitData[squadUnit.action]);\n        const extraAttacks = getEffectsListForSquadUnitEntry({\n          unitEntry: squadUnit,\n          target: targetTypes.ENEMY,\n          effectType: squadBuffTypes.PROC,\n          squad: this.squad,\n        }, this)\n          .filter(effect => !sourcesToIgnore.includes(effect.sourcePath) && (!effect.triggeredOn || (effect.triggeredOn === squadUnit.action)));\n\n        mapping.set(squadUnit, getSimulatorWarningsForSquadUnit({\n          unit: squadUnit,\n          attackEffects: burstAttacks.concat(extraAttacks),\n          unitData,\n        }));\n      });\n      return mapping;\n    },\n    totalWeight () {\n      return Math.max(1, this.sparkResult.squad.reduce((acc, val) => acc + val.weight, 0));\n    },\n    relativeWeightByUnit () {\n      const mapping = new WeakMap();\n      const sparkResultMapping = this.sparkResultsByUnit;\n      const totalWeight = this.totalWeight;\n      this.fullUnits.forEach(squadUnit => {\n        const result = sparkResultMapping.get(squadUnit);\n        const weight = result.weight / totalWeight * 100;\n        mapping.set(squadUnit, +(weight.toFixed(2)));\n      });\n      return mapping;\n    },\n    bbOrderColorToggleIconColor () {\n      return this.$store.state.showBbOrderColors\n        ? 'primary'\n        : undefined;\n    },\n  },\n  methods: {\n    getUnitEntryKey (unit = {}, i = 0) {\n      return `${JSON.stringify(unit)}-${i}`;\n    },\n    toggleBbOrderColor () {\n      this.$store.commit('setShowSparkOrderColors', !this.$store.state.showBbOrderColors);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SparkSquadCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SparkSquadCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SparkSquadCard.vue?vue&type=template&id=66f45725&\"\nimport script from \"./SparkSquadCard.vue?vue&type=script&lang=js&\"\nexport * from \"./SparkSquadCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"spark-squad-card\"},[_c('v-layout',{staticClass:\"px-2\",attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.fullUnits),function(unit,i){return _c('unit-entry',{key:_vm.getUnitEntryKey(unit, i),staticClass:\"d-flex py-1\",staticStyle:{\"align-items\":\"center\",\"border\":\"1px solid var(--background-color-alt)\"},attrs:{\"xs12\":\"\",\"sm6\":\"\",\"index\":i,\"unit\":unit,\"getUnit\":_vm.getUnit,\"isLead\":i === _vm.squad.lead,\"isFriend\":i === _vm.squad.friend,\"sparkSimUnitConfig\":_vm.value.unitConfig[i] || {},\"warnings\":_vm.warningsByUnit.get(unit)},on:{\"input\":function ($v) { return _vm.updateEntryForUnit($v, i); }}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-flex',_vm._g(_vm._b({staticClass:\"spark-unit-entry--editable\"},'v-flex',_vm.$attrs,false),_vm.$listeners),[_vm._t(\"before-content\"),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('v-layout',{staticClass:\"mx-2\",style:((\"flex-grow: 0!important; min-width: \" + _vm.thumbnailSize + \"px; max-width: \" + _vm.thumbnailSize + \"px;\")),attrs:{\"column\":\"\"}},[(_vm.$vuetify.breakpoint.xsOnly)?_c('v-flex',{staticStyle:{\"flex-grow\":\"0\"},attrs:{\"text-xs-center\":\"\"}},[_c('span',{staticClass:\"caption text-no-wrap\"},[_vm._v(_vm._s(_vm.unit.position))])]):_vm._e(),_c('v-layout',{style:(_vm.$vuetify.breakpoint.xsOnly ? 'flex-grow: 0;' : undefined),attrs:{\"align-content-end\":_vm.$vuetify.breakpoint.smAndUp}},[_c('unit-thumbnail',{staticClass:\"unit-thumbnail\",style:((\"border-color: \" + (_vm.orderSettings.border) + \";\")),attrs:{\"src\":_vm.getImageUrls(_vm.unit.id).ills_battle,\"rarity\":_vm.rarity,\"imageTitle\":_vm.name,\"displayWidth\":_vm.thumbnailSize,\"displayHeight\":_vm.thumbnailSize}},[_c('template',{slot:\"after-image\"},[_c('text',{attrs:{\"x\":0,\"y\":_vm.thumbnailSize * 0.75}},[_vm._v(\"\\n              \"+_vm._s(_vm.bbOrderToShow)+\"\\n            \")])])],2)],1),(_vm.orderSettings)?_c('v-flex',{staticClass:\"text-xs-center\"},[_c('v-chip',{staticClass:\"bb-order-chip\",style:((\"\\n            background-color: \" + (_vm.orderSettings.background) + \";\\n            color: \" + (_vm.orderSettings.foreground) + \";\\n            border-color: \" + (_vm.orderSettings.border) + \";\\n          \")),attrs:{\"tabindex\":\"-1\",\"small\":\"\"}},[_c('b',[_vm._v(_vm._s(_vm.orderSettings.text))])])],1):_vm._e(),(_vm.warnings.length > 0)?_c('v-flex',{staticClass:\"text-xs-center\",staticStyle:{\"flex-grow\":\"0\"},attrs:{\"align-content-end\":\"\"}},[_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.showWarningDialog),callback:function ($$v) {_vm.showWarningDialog=$$v},expression:\"showWarningDialog\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"fab\":\"\",\"small\":\"\",\"color\":\"warning\"},slot:\"activator\"},[_c('v-icon',[_vm._v(\"info\")])],1),_c('v-card',[_c('v-card-text',[_c('v-container',{staticClass:\"pa-0\",attrs:{\"fluid\":\"\"}},[_c('v-flex',[_c('v-alert',{attrs:{\"outline\":\"\",\"value\":true,\"type\":\"warning\"}},[_c('span',[_vm._v(\"This unit has issues that may affect the accuracy of results.\")]),_c('v-list',_vm._l((_vm.warnings),function(message){return _c('v-list-tile',{key:message},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n                            \"+_vm._s(message)+\"\\n                          \")])],1)],1)}),1)],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.showWarningDialog = false}}},[_vm._v(\"\\n                Back\\n              \")])],1)],1)],1)],1):_vm._e()],1),_c('v-layout',{staticStyle:{\"align-self\":\"flex-start\"},attrs:{\"column\":\"\"}},[_c('v-layout',{attrs:{\"align-center\":\"\"}},[_c('v-flex',{staticClass:\"d-flex-container align-center font-weight-bold subheading\"},[(_vm.rarity < 8)?_c('span',[_vm._v(_vm._s(_vm.rarity))]):_vm._e(),_c('rarity-icon',{class:{ 'ml-1': _vm.rarity !== 8, 'mr-1': true, },attrs:{\"rarity\":_vm.rarity || 0,\"displaySize\":18}}),_c('span',[_vm._v(_vm._s(_vm.nameLabel))])],1),_c('v-spacer'),(_vm.isLead || _vm.isFriend)?_c('v-flex',{staticStyle:{\"flex-grow\":\"0\"}},[(_vm.isLead)?_c('leader-icon',{attrs:{\"displaySize\":18}}):(_vm.isFriend)?_c('friend-icon',{attrs:{\"displaySize\":18}}):_vm._e()],1):_vm._e()],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"md4\":\"\"}},[_c('v-select',{attrs:{\"label\":\"Action\",\"disabled\":_vm.isEmptyUnit,\"items\":_vm.actionPossibilities,\"value\":_vm.actionToShow},on:{\"input\":function ($v) { return _vm.emitChangedValue({ action: $v }); }}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"md4\":\"\"}},[_c('v-select',{attrs:{\"label\":\"BB Order\",\"value\":_vm.sparkSimUnitConfig.bbOrder || _vm.unit.bbOrder,\"items\":_vm.bbOrderPossibilities},on:{\"input\":function ($v) { return _vm.emitChangedValue({ bbOrder: $v }); }}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"md4\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Delay\",\"disabled\":_vm.isEmptyUnit,\"type\":\"number\",\"value\":!isNaN(_vm.sparkSimUnitConfig.delay) ? +_vm.sparkSimUnitConfig.delay : 0},on:{\"input\":function ($v) { return _vm.emitChangedValue({ delay: $v }); }}})],1),_c('v-flex',[_c('v-text-field',{attrs:{\"label\":\"Weight\",\"hint\":\"Higher weight means unit will be prioritized over units with lesser weight for spark results. Weight of zero and below means ignore that unit completely.\",\"persistent-hint\":\"\",\"disabled\":_vm.isEmptyUnit || _vm.isAnyUnit,\"type\":\"number\",\"value\":!isNaN(_vm.sparkSimUnitConfig.weight) ? +_vm.sparkSimUnitConfig.weight : 1},on:{\"input\":function ($v) { return _vm.emitChangedValue({ weight: $v }); }}})],1),_c('v-flex',{staticStyle:{\"padding\":\"0 0.5em\"},attrs:{\"xs12\":\"\"}},[_c('v-btn',{attrs:{\"outline\":!_vm.sparkSimUnitConfig.lockPosition,\"block\":\"\"},on:{\"click\":function($event){return _vm.emitChangedValue({ lockPosition: !_vm.sparkSimUnitConfig.lockPosition })}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(_vm._s(_vm.sparkSimUnitConfig.lockPosition ? 'lock' : 'lock_open'))]),_c('span',{staticStyle:{\"text-transform\":\"capitalize\"}},[_vm._v(\"Position\")])],1)],1)],1)],1)],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-flex class=\"spark-unit-entry--editable\" v-bind=\"$attrs\" v-on=\"$listeners\">\n    <slot name=\"before-content\"/>\n    <div style=\"display: flex;\">\n      <v-layout\n        column class=\"mx-2\"\n        :style=\"`flex-grow: 0!important; min-width: ${thumbnailSize}px; max-width: ${thumbnailSize}px;`\">\n        <v-flex text-xs-center v-if=\"$vuetify.breakpoint.xsOnly\" style=\"flex-grow: 0;\">\n          <span class=\"caption text-no-wrap\">{{ unit.position }}</span>\n        </v-flex>\n        <v-layout\n          :align-content-end=\"$vuetify.breakpoint.smAndUp\"\n          :style=\"$vuetify.breakpoint.xsOnly ? 'flex-grow: 0;' : undefined\"\n        >\n          <unit-thumbnail\n            class=\"unit-thumbnail\"\n            :style=\"`border-color: ${orderSettings.border};`\"\n            :src=\"getImageUrls(unit.id).ills_battle\"\n            :rarity=\"rarity\"\n            :imageTitle=\"name\"\n            :displayWidth=\"thumbnailSize\" :displayHeight=\"thumbnailSize\">\n            <template slot=\"after-image\">\n              <text\n                :x=\"0\"\n                :y=\"thumbnailSize * 0.75\">\n                {{ bbOrderToShow }}\n              </text>\n            </template>\n          </unit-thumbnail>\n        </v-layout>\n        <v-flex class=\"text-xs-center\" v-if=\"orderSettings\">\n          <v-chip\n            tabindex=\"-1\"\n            :style=\"`\n              background-color: ${orderSettings.background};\n              color: ${orderSettings.foreground};\n              border-color: ${orderSettings.border};\n            `\"\n            class=\"bb-order-chip\"\n            small>\n            <b>{{ orderSettings.text }}</b>\n          </v-chip>\n        </v-flex>\n        <v-flex\n          v-if=\"warnings.length > 0\"\n          align-content-end\n          class=\"text-xs-center\"\n          style=\"flex-grow: 0;\"\n        >\n          <v-dialog v-model=\"showWarningDialog\" max-width=\"500px\">\n            <v-btn\n              fab\n              small\n              color=\"warning\"\n              slot=\"activator\"\n            >\n              <v-icon>info</v-icon>\n            </v-btn>\n            <v-card>\n              <v-card-text>\n                <v-container fluid class=\"pa-0\">\n                  <v-flex>\n                    <v-alert outline :value=\"true\" type=\"warning\">\n                      <span>This unit has issues that may affect the accuracy of results.</span>\n                      <v-list>\n                        <v-list-tile\n                          v-for=\"message in warnings\"\n                          :key=\"message\">\n                          <v-list-tile-content>\n                            <v-list-tile-title>\n                              {{ message }}\n                            </v-list-tile-title>\n                          </v-list-tile-content>\n                        </v-list-tile>\n                      </v-list>\n                    </v-alert>\n                  </v-flex>\n                </v-container>\n              </v-card-text>\n              <v-card-actions>\n                <v-spacer/>\n                <v-btn flat @click=\"showWarningDialog = false\">\n                  Back\n                </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n        </v-flex>\n      </v-layout>\n      <v-layout column style=\"align-self: flex-start;\">\n        <!-- name and leader/friend icon -->\n        <v-layout align-center>\n          <v-flex class=\"d-flex-container align-center font-weight-bold subheading\">\n            <span v-if=\"rarity < 8\">{{ rarity }}</span>\n            <rarity-icon\n              :class=\"{ 'ml-1': rarity !== 8, 'mr-1': true, }\"\n              :rarity=\"rarity || 0\"\n              :displaySize=\"18\"/>\n            <span>{{ nameLabel }}</span>\n          </v-flex>\n          <v-spacer/>\n          <v-flex\n            v-if=\"isLead || isFriend\"\n            style=\"flex-grow: 0;\">\n            <leader-icon\n              v-if=\"isLead\"\n              :displaySize=\"18\"/>\n            <friend-icon\n              v-else-if=\"isFriend\"\n              :displaySize=\"18\"/>\n          </v-flex>\n        </v-layout>\n        <v-layout row wrap>\n          <v-flex xs12 md4>\n            <v-select\n              label=\"Action\"\n              :disabled=\"isEmptyUnit\"\n              :items=\"actionPossibilities\"\n              :value=\"actionToShow\"\n              @input=\"$v => emitChangedValue({ action: $v })\"\n            />\n          </v-flex>\n          <v-flex xs12 md4>\n            <v-select\n              label=\"BB Order\"\n              :value=\"sparkSimUnitConfig.bbOrder || unit.bbOrder\"\n              :items=\"bbOrderPossibilities\"\n              @input=\"$v => emitChangedValue({ bbOrder: $v })\"\n            />\n          </v-flex>\n          <v-flex xs12 md4>\n            <v-text-field\n              label=\"Delay\"\n              :disabled=\"isEmptyUnit\"\n              type=\"number\"\n              :value=\"!isNaN(sparkSimUnitConfig.delay) ? +sparkSimUnitConfig.delay : 0\"\n              @input=\"$v => emitChangedValue({ delay: $v })\"\n            />\n          </v-flex>\n          <v-flex>\n            <v-text-field\n              label=\"Weight\"\n              hint=\"Higher weight means unit will be prioritized over units with lesser weight for spark results. Weight of zero and below means ignore that unit completely.\"\n              persistent-hint\n              :disabled=\"isEmptyUnit || isAnyUnit\"\n              type=\"number\"\n              :value=\"!isNaN(sparkSimUnitConfig.weight) ? +sparkSimUnitConfig.weight : 1\"\n              @input=\"$v => emitChangedValue({ weight: $v })\"\n            />\n          </v-flex>\n          <v-flex xs12 style=\"padding: 0 0.5em\">\n            <v-btn\n              :outline=\"!sparkSimUnitConfig.lockPosition\"\n              block\n              @click=\"emitChangedValue({ lockPosition: !sparkSimUnitConfig.lockPosition })\"\n            >\n              <v-icon left>{{ sparkSimUnitConfig.lockPosition ? 'lock' : 'lock_open' }}</v-icon>\n              <span style=\"text-transform: capitalize;\">Position</span>\n            </v-btn>\n          </v-flex>\n        </v-layout>\n      </v-layout>\n    </div>\n  </v-flex>\n</template>\n\n<script>\nimport { squadFillerMapping, squadUnitActions, ANY_BB_ORDER } from '@/modules/constants';\nimport { getMoveType } from '@/modules/core/units';\nimport { getSparkSimUnitConfig } from '@/modules/spark-simulator/utils';\nimport { mapGetters } from 'vuex';\nimport colors from 'vuetify/es5/util/colors';\nimport UnitThumbnail from '@/components/Multidex/Units/UnitThumbnail';\nimport RarityIcon from '@/components/Multidex/RarityIcon';\nimport LeaderIcon from '@/components/Multidex/MiniLeaderIcon';\nimport FriendIcon from '@/components/Multidex/MiniFriendIcon';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\n\nexport default {\n  mixins: [GettersMixin],\n  components: {\n    UnitThumbnail,\n    RarityIcon,\n    LeaderIcon,\n    FriendIcon,\n  },\n  props: {\n    unit: {\n      type: Object,\n      required: true,\n    },\n    isLead: {\n      type: Boolean,\n      default: false,\n    },\n    isFriend: {\n      type: Boolean,\n      default: false,\n    },\n    sparkSimUnitConfig: {\n      type: Object,\n      default: () => {},\n    },\n    warnings: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  computed: {\n    ...mapGetters('units', {\n      getImageUrls: 'getImageUrls',\n    }),\n    thumbnailSize () {\n      return 64;\n    },\n    iconSize () {\n      return 22;\n    },\n    unitData () {\n      return this.getUnit(this.unit.id) || {};\n    },\n    orderSettings () {\n      const hasBbOrder = !isNaN(this.unit.bbOrder);\n      return {\n        text: (hasBbOrder && this.actionText) || '-',\n        ...(hasBbOrder && this.colorSetBasedOnAction) || undefined,\n      };\n    },\n    rarity () {\n      return this.unitData.rarity || 0;\n    },\n    name () {\n      return this.unitData.name || this.unit.id;\n    },\n    isEmptyUnit () {\n      return this.name === squadFillerMapping.EMPTY;\n    },\n    isAnyUnit () {\n      return this.name === squadFillerMapping.ANY;\n    },\n    actionPossibilities () {\n      const availableBurstTypes = [\n        {\n          text: 'BB',\n          value: squadUnitActions.BB,\n        },\n        {\n          text: 'SBB',\n          value: squadUnitActions.SBB,\n        },\n        {\n          text: 'UBB',\n          value: squadUnitActions.UBB,\n        },\n      ].filter(({ value }) => this.unit.id === squadFillerMapping.ANY || this.unitData[value] || this.unit.action === value);\n\n      const nonBurstActions = [\n        (this.isEmptyUnit && {\n          text: 'None',\n          value: squadUnitActions.NONE,\n        }),\n        (!this.isEmptyUnit && {\n          text: 'Attack',\n          value: squadUnitActions.ATK,\n        }),\n      ].filter(v => v);\n      return nonBurstActions.concat(availableBurstTypes);\n    },\n    bbOrderPossibilities: () => [ANY_BB_ORDER]\n      .concat(new Array(6).fill(0).map((_, i) => i + 1)),\n    moveTypeText () {\n      const moveType = Object.keys(this.unitData).length > 0 && getMoveType(this.unitData);\n      return (moveType && ` (${moveType})`) || '';\n    },\n    nameLabel () {\n      return `${this.name}${this.moveTypeText}`;\n    },\n    actionToShow () {\n      return this.sparkSimUnitConfig.action || this.unit.action;\n    },\n    colorSetBasedOnAction () {\n      const colorKey = (this.actionToShow === squadUnitActions.UBB && 'red') ||\n        (this.actionToShow === squadUnitActions.SBB && 'amber') ||\n        (this.actionToShow === squadUnitActions.BB && 'blueGrey') ||\n        'grey';\n\n      return {\n        border: colors[colorKey].base,\n        background: colors[colorKey].lighten4,\n        foreground: colors[colorKey].darken4,\n      };\n    },\n    actionText () {\n      // default to SBB or below (depending on if the unit has it)\n      const action = this.actionToShow ||\n        (this.unitData.sbb && squadUnitActions.SBB) ||\n        (this.unitData.bb && squadUnitActions.BB) ||\n        (squadUnitActions.ATK);\n      return action.toUpperCase();\n    },\n    bbOrderToShow () {\n      return [\n        !isNaN(this.sparkSimUnitConfig.bbOrder) && this.sparkSimUnitConfig.bbOrder,\n        this.sparkSimUnitConfig.bbOrder === ANY_BB_ORDER && '-',\n        !isNaN(this.unit.bbOrder) && this.unit.bbOrder,\n        '-',\n      ].find(v => v);\n    },\n  },\n  data () {\n    return {\n      showWarningDialog: false,\n    };\n  },\n  methods: {\n    emitChangedValue (newVal = {}) {\n      this.$emit('input', getSparkSimUnitConfig({ ...this.sparkSimUnitConfig, ...newVal }));\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.spark-unit-entry--editable {\n  .bb-order-chip {\n    justify-content: center;\n    margin: auto;\n    width: 100%;\n    border-top-left-radius: 0; \n    border-top-right-radius: 0;\n    margin-top: 0;\n  }\n\n  image.lazy-actual {\n    min-width: 64px;\n  }\n\n  .unit-thumbnail {\n    flex: 0 1 auto;\n    margin-top: auto;\n    font: bold 4.5em sans-serif;\n    stroke: black;\n    stroke-width: 2px;\n    fill: white;\n    border: 1px solid white;\n  }\n\n  .v-input {\n    margin: 0.5em;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SparkUnitEntryEditable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SparkUnitEntryEditable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SparkUnitEntryEditable.vue?vue&type=template&id=54ecff4a&\"\nimport script from \"./SparkUnitEntryEditable.vue?vue&type=script&lang=js&\"\nexport * from \"./SparkUnitEntryEditable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SparkUnitEntryEditable.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-card class=\"spark-squad-card\">\n    <v-layout row wrap class=\"px-2\">\n      <unit-entry\n        v-for=\"(unit, i) in fullUnits\"\n        :key=\"getUnitEntryKey(unit, i)\"\n        xs12 sm6\n        :index=\"i\"\n        :unit=\"unit\"\n        :getUnit=\"getUnit\"\n        :isLead=\"i === squad.lead\"\n        :isFriend=\"i === squad.friend\"\n        :sparkSimUnitConfig=\"value.unitConfig[i] || {}\"\n        :warnings=\"warningsByUnit.get(unit)\"\n        @input=\"$v => updateEntryForUnit($v, i)\"\n        class=\"d-flex py-1\"\n        style=\"align-items: center; border: 1px solid var(--background-color-alt);\"/>\n    </v-layout>\n  </v-card>\n</template>\n\n<script>\nimport {\n  unitPositionMapping,\n  targetTypes,\n  squadBuffTypes,\n  squadFillerMapping,\n  squadUnitActions,\n} from '@/modules/constants';\nimport { generateFillerSquadUnitEntry, getEffectsListForSquadUnitEntry } from '@/modules/core/squads';\nimport {\n  getSimulatorOptions,\n  getAttackEffectsFromBurst,\n  getSimulatorWarningsForSquadUnit,\n  getSparkSimUnitConfig,\n} from '@/modules/spark-simulator/utils';\nimport UnitEntry from '@/components/Tools/Squads/SparkStatistics/SparkUnitEntryEditable';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\n\nexport default {\n  mixins: [GettersMixin],\n  components: {\n    UnitEntry,\n  },\n  props: {\n    squad: {\n      type: Object,\n      required: true,\n    },\n    value: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    // fills empty positions with empty values\n    fullUnits () {\n      return unitPositionMapping.map(position => {\n        let unit = this.squad.units.find(unit => unit.position === position);\n        if (!unit) { // empty position, so fill it with empty data\n          unit = generateFillerSquadUnitEntry({ isEmpty: true, bbOrder: null, position });\n        }\n\n        return unit;\n      });\n    },\n    warningsByUnit () {\n      const mapping = new WeakMap();\n      this.fullUnits.forEach((squadUnit, i) => {\n        const unitConfig = this.value.unitConfig[i] || {};\n        const sourcesToIgnore = ['unit.bb', 'unit.sbb', 'unit.ubb'];\n        const unitData = this.getUnit(squadUnit.id) || {};\n        const burstAttacks = getAttackEffectsFromBurst(unitData[unitConfig.action || squadUnit.action]);\n        const extraAttacks = getEffectsListForSquadUnitEntry({\n          unitEntry: squadUnit,\n          target: targetTypes.ENEMY,\n          effectType: squadBuffTypes.PROC,\n          squad: this.squad,\n        }, this)\n          .filter(effect => !sourcesToIgnore.includes(effect.sourcePath) && (!effect.triggeredOn || (effect.triggeredOn === squadUnit.action)));\n\n        mapping.set(squadUnit, getSimulatorWarningsForSquadUnit({\n          unit: squadUnit,\n          attackEffects: burstAttacks.concat(extraAttacks),\n          unitData,\n        }));\n      });\n      return mapping;\n    },\n    hasEmptyUnit () {\n      return this.fullUnits.some(u => u.id === squadFillerMapping.EMPTY);\n    },\n  },\n  mounted () {\n    if (this.hasEmptyUnit) {\n      this.checkEmptyUnitConfig();\n    }\n  },\n  methods: {\n    getUnitEntryKey (unit = {}, i = 0) {\n      return `${JSON.stringify(unit)}-${i}`;\n    },\n    updateEntryForUnit(newValue, index) {\n      if (!(newValue instanceof Event)) {\n        const unitConfig = this.value.unitConfig.slice();\n        unitConfig[index] = newValue;\n        this.emitChangedValue({ unitConfig });\n      }\n    },\n    emitChangedValue (newVal = {}) {\n      this.$emit('input', getSimulatorOptions({ ...this.value, ...newVal }, this.squad));\n    },\n    checkEmptyUnitConfig () {\n      if (Array.isArray(this.value.unitConfig)) {\n        let needsUpdate = false;\n        const updatedConfig = this.value.unitConfig.map((config, i) => {\n          const associatedSquadUnit = this.squad.units[i];\n          let newConfig = config;\n          if (associatedSquadUnit.id === squadFillerMapping.EMPTY && config.action !== squadUnitActions.NONE) {\n            needsUpdate = true;\n            newConfig = getSparkSimUnitConfig({ ...config, action: squadUnitActions.NONE });\n          }\n          return newConfig;\n        });\n\n        if (needsUpdate) {\n          this.emitChangedValue({ unitConfig: updatedConfig });\n        }\n      }\n    },\n  },\n  watch: {\n    squad () {\n      if (this.hasEmptyUnit) {\n        this.checkEmptyUnitConfig();\n      }\n    },\n    hasEmptyUnit (newVal) {\n      if (newVal) {\n        this.checkEmptyUnitConfig();\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SparkSquadCardEditable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SparkSquadCardEditable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SparkSquadCardEditable.vue?vue&type=template&id=98f6c86e&\"\nimport script from \"./SparkSquadCardEditable.vue?vue&type=script&lang=js&\"\nexport * from \"./SparkSquadCardEditable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{staticClass:\"overall-simulator-options\",attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\",\"md2\":\"\"}},[_c('span',[_vm._v(\"Set All Orders:\")])]),_c('v-flex',{attrs:{\"xs6\":\"\",\"sm4\":\"\",\"md2\":\"\"}},[_c('v-btn',{staticClass:\"mx-2\",on:{\"click\":_vm.setAllOrdersInitial}},[_vm._v(\"Initial\")])],1),_c('v-flex',{attrs:{\"xs6\":\"\",\"sm4\":\"\",\"md2\":\"\"}},[_c('v-btn',{staticClass:\"mx-2\",on:{\"click\":_vm.setAllOrdersAny}},[_vm._v(\"Any\")])],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\",\"md2\":\"\"}},[_c('span',[_vm._v(\"Set All Positions:\")])]),_c('v-flex',{attrs:{\"xs6\":\"\",\"sm4\":\"\",\"md2\":\"\"}},[_c('v-btn',{staticClass:\"mx-2\",on:{\"click\":function () { return _vm.setAllPositions(true); }}},[_vm._v(\"Locked\")])],1),_c('v-flex',{attrs:{\"xs6\":\"\",\"sm4\":\"\",\"md2\":\"\"}},[_c('v-btn',{staticClass:\"mx-2\",on:{\"click\":function () { return _vm.setAllPositions(false); }}},[_vm._v(\"Unlocked\")])],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Enemy Count\",\"type\":\"number\",\"hint\":\"There must be at least 2 enemies to ensure accuracy\",\"value\":_vm.value.enemyCount,\"persistent-hint\":\"\"},on:{\"input\":function ($v) { return _vm.emitChangedValue({ enemyCount: $v }); }}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-switch',{attrs:{\"label\":_vm.burstCutinToggleLabel,\"hide-details\":\"\"},model:{value:(_vm.burstCutins),callback:function ($$v) {_vm.burstCutins=$$v},expression:\"burstCutins\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Result Threshold\",\"type\":\"number\",\"value\":_vm.value.resultThreshold,\"suffix\":\"%\"},on:{\"input\":function ($v) { return _vm.emitChangedValue({ resultThreshold: $v }); }}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Max Results\",\"type\":\"number\",\"value\":_vm.value.maxResults},on:{\"input\":function ($v) { return _vm.emitChangedValue({ maxResults: $v }); }}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Worker Count\",\"type\":\"number\",\"value\":_vm.value.workerCount,\"hint\":_vm.workerCountFieldLabel,\"persistent-hint\":\"\"},on:{\"input\":function ($v) { return _vm.emitChangedValue({ workerCount: $v }); }}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-layout row wrap class=\"overall-simulator-options\">\n    <v-flex xs12 sm4 md2>\n      <span>Set All Orders:</span>\n    </v-flex>\n    <v-flex xs6 sm4 md2>\n      <v-btn class=\"mx-2\" @click=\"setAllOrdersInitial\">Initial</v-btn>\n    </v-flex>\n    <v-flex xs6 sm4 md2>\n      <v-btn class=\"mx-2\" @click=\"setAllOrdersAny\">Any</v-btn>\n    </v-flex>\n    <v-flex xs12 sm4 md2>\n      <span>Set All Positions:</span>\n    </v-flex>\n    <v-flex xs6 sm4 md2>\n      <v-btn class=\"mx-2\" @click=\"() => setAllPositions(true)\">Locked</v-btn>\n    </v-flex>\n    <v-flex xs6 sm4 md2>\n      <v-btn class=\"mx-2\" @click=\"() => setAllPositions(false)\">Unlocked</v-btn>\n    </v-flex>\n    <v-flex xs12 sm6>\n      <v-text-field\n        label=\"Enemy Count\"\n        type=\"number\"\n        hint=\"There must be at least 2 enemies to ensure accuracy\"\n        :value=\"value.enemyCount\"\n        @input=\"$v => emitChangedValue({ enemyCount: $v })\"\n        persistent-hint\n      />\n    </v-flex>\n    <v-flex xs12 sm6>\n      <v-switch\n        :label=\"burstCutinToggleLabel\"\n        v-model=\"burstCutins\"\n        hide-details\n      />\n    </v-flex>\n    <v-flex xs12 sm4>\n      <v-text-field\n        label=\"Result Threshold\"\n        type=\"number\"\n        :value=\"value.resultThreshold\"\n        @input=\"$v => emitChangedValue({ resultThreshold: $v })\"\n        suffix=\"%\"\n      />\n    </v-flex>\n    <v-flex xs12 sm4>\n      <v-text-field\n        label=\"Max Results\"\n        type=\"number\"\n        :value=\"value.maxResults\"\n        @input=\"$v => emitChangedValue({ maxResults: $v })\"\n      />\n    </v-flex>\n    <v-flex xs12 sm4>\n      <v-text-field\n        label=\"Worker Count\"\n        type=\"number\"\n        :value=\"value.workerCount\"\n        :hint=\"workerCountFieldLabel\"\n        persistent-hint\n        @input=\"$v => emitChangedValue({ workerCount: $v })\"\n      />\n    </v-flex>\n  </v-layout>\n</template>\n\n<script>\nimport { ANY_BB_ORDER } from '@/modules/constants';\nimport { getSimulatorOptions, getSparkSimUnitConfig } from '@/modules/spark-simulator/utils';\nimport { MAX_WORKERS } from '@/modules/spark-simulator/constants';\n\nexport default {\n  props: {\n    value: {\n      type: Object,\n      required: true,\n    },\n    squad: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    burstCutinToggleLabel () {\n      return `Burst Cutins are ${this.value.burstCutins ? 'on' : 'off'}`;\n    },\n    workerCountFieldLabel () {\n      return `Max: ${MAX_WORKERS}`;\n    },\n    MAX_WORKERS: () => MAX_WORKERS,\n  },\n  data () {\n    return {\n      burstCutins: false,\n    };\n  },\n  methods: {\n    emitChangedValue (newVal = {}) {\n      this.$emit('input', getSimulatorOptions({ ...this.value, ...newVal }, this.squad));\n    },\n    setAllOrdersInitial () {\n      const newUnitConfig = this.value.unitConfig.map((config, i) => {\n        const unit = this.squad.units[i];\n        return getSparkSimUnitConfig({ ...config, bbOrder: unit.bbOrder });\n      });\n      this.emitChangedValue({ unitConfig: newUnitConfig });\n    },\n    setAllOrdersAny () {\n      const newUnitConfig = this.value.unitConfig.map(config => getSparkSimUnitConfig({ ...config, bbOrder: ANY_BB_ORDER }));\n      this.emitChangedValue({ unitConfig: newUnitConfig });\n    },\n    setAllPositions (locked) {\n      const newUnitConfig = this.value.unitConfig.map(config => getSparkSimUnitConfig({ ...config, lockPosition: !!locked }));\n      this.emitChangedValue({ unitConfig: newUnitConfig });\n    },\n  },\n  watch: {\n    value: {\n      immediate: true,\n      handler (newValue) {\n        if (newValue) {\n          this.burstCutins = !!newValue.burstCutins;\n        }\n      },\n    },\n    burstCutins (newValue) {\n      this.emitChangedValue({ burstCutins: newValue });\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.overall-simulator-options {\n  align-items: baseline;\n  .v-input, span {\n    margin: 0.5em;\n    flex-shrink: 0;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallSimulatorOptions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallSimulatorOptions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OverallSimulatorOptions.vue?vue&type=template&id=4b69dfb3&\"\nimport script from \"./OverallSimulatorOptions.vue?vue&type=script&lang=js&\"\nexport * from \"./OverallSimulatorOptions.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OverallSimulatorOptions.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"spark-statistics-container\">\n    <v-expansion-panel v-model=\"currentSection\">\n      <v-expansion-panel-content>\n        <span slot=\"header\" class=\"subheading\">Current Squad Statistics</span>\n        <section>\n          <spark-squad-card\n            v-if=\"resultForCurrentSquad\"\n            :squad=\"squad\"\n            :sparkResult=\"resultForCurrentSquad\"\n            :getUnit=\"getUnit\"\n            :simulatorOptions=\"simulatorOptions\"\n            @share=\"() => emitShareEvent(resultForCurrentSquad)\"\n          />\n          <span v-else>\n            <v-alert :value=\"true\" color=\"error\" icon=\"warning\">\n              There was a problem generating the spark results for the current squad configuration. ({{ (errorForCurrentSquad && errorForCurrentSquad.message) || errorForCurrentSquad || 'Unknown error' }})\n            </v-alert>\n          </span>\n        </section>\n      </v-expansion-panel-content>\n      <v-expansion-panel-content>\n        <span slot=\"header\" class=\"subheading\">Spark Simulator Input</span>\n        <section>\n          <spark-squad-card-editable\n            v-model=\"simulatorOptions\"\n            :squad=\"squad\"\n            :getUnit=\"getUnit\"\n          />\n        </section>\n        <section>\n          <overall-simulator-options\n            v-model=\"simulatorOptions\"\n            :squad=\"squad\"\n          />\n        </section>\n        <section>\n          <v-alert\n            :value=\"true\"\n            :icon=\"simulatorWarnings.length === 0 ? 'info' : 'priority_high'\"\n            :color=\"simulatorWarnings.length === 0 ? 'info' : 'warning'\"\n          >\n            <template v-if=\"simulatorWarnings.length > 0\">\n              <span>Warnings that may affect the accuracy of results:</span>\n              <ul>\n                <li\n                  v-for=\"w in simulatorWarnings\"\n                  :key=\"w\"\n                  v-text=\"w\"\n                />\n              </ul>\n            </template>\n            <span v-else>No squad level warnings found. Make sure to check individual units for warnings.</span>\n          </v-alert>\n        </section>\n        <section>\n          <v-btn block @click=\"runSimulator\">Run Simulator</v-btn>\n        </section>\n      </v-expansion-panel-content>\n      <v-expansion-panel-content v-show=\"!runningSimulator && (results || errorForCalculations)\">\n        <span slot=\"header\" class=\"subheading\">Simulator Results</span>\n        <div>\n          <section class=\"mx-2\">\n            <v-alert color=\"info\" :value=\"true\" >\n              <v-layout row wrap>\n                <v-flex>\n                  Time Elapsed: {{ simulationElapsedText }}\n                </v-flex>\n                <v-flex>\n                  Total Combinations Tested: {{ lastTestedCount }}\n                </v-flex>\n                <v-flex>\n                  Combinations Tested/Second: {{ combosTestedPerSecond }}\n                </v-flex>\n              </v-layout>\n            </v-alert>\n          </section>\n          <section v-if=\"Array.isArray(results) && results.length > 0\">\n            <section class=\"result-navigator\">\n              <v-btn\n                flat\n                :icon=\"$vuetify.breakpoint.xsOnly\"\n                :disabled=\"currentResultIndex <= 0\"\n                @click=\"currentResultIndex = Math.max(currentResultIndex - 1, 0)\"\n              >\n                <v-icon>chevron_left</v-icon>\n              </v-btn>\n              <v-select\n                class=\"mx-2\"\n                v-model=\"currentResultIndex\"\n                :items=\"resultSelectValues\"\n                item-text=\"label\"\n                item-value=\"value\"\n              />\n              <v-btn\n                flat\n                :icon=\"$vuetify.breakpoint.xsOnly\"\n                :disabled=\"currentResultIndex + 1 >= results.length\"\n                @click=\"currentResultIndex = Math.min(currentResultIndex + 1, results.length - 1)\"\n              >\n                <v-icon>chevron_right</v-icon>\n              </v-btn>\n            </section>\n            <section>\n              <spark-squad-card\n                :key=\"getResultName(results[currentResultIndex], currentResultIndex)\"\n                :squad=\"squad\"\n                :sparkResult=\"results[currentResultIndex]\"\n                :getUnit=\"getUnit\"\n                :simulatorOptions=\"simulatorOptions\">\n              <v-card-actions slot=\"card-actions\">\n                <v-btn outline @click=\"() => applySparkResult(results[currentResultIndex])\">\n                  <v-icon left>save</v-icon>\n                  Apply\n                </v-btn>\n              </v-card-actions>\n              </spark-squad-card>\n            </section>\n          </section>\n          <section v-else-if=\"errorForCalculations\">\n            <v-alert :value=\"true\" color=\"error\" icon=\"warning\">\n              There was a problem generating the spark results for the current squad configuration. ({{ errorForCalculations.message || errorForCalculations }})\n            </v-alert>\n          </section>\n          <section v-else>\n            No results found for given configuration.\n          </section>\n        </div>\n      </v-expansion-panel-content>\n    </v-expansion-panel>\n    <v-dialog\n      :value=\"showProgressDialog\"\n      max-width=\"500px\"\n      persistent\n    >\n      <v-card>\n        <v-card-text>\n          <v-progress-linear\n            :value=\"progressPercent\"\n            :indeterminate=\"progressPercent === 0\"\n            query/>\n          <div>{{ progressLabel }}</div>\n          <div>Time Elapsed: {{ simulationElapsedText }}</div>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer/>\n          <v-btn\n            v-if=\"!runningSimulator\"\n            @click=\"showProgressDialog = false\"\n          >\n            Close\n          </v-btn>\n          <v-btn\n            v-else\n            :disabled=\"progressTotal === 0\"\n            @click=\"cancelCalculations\"\n          >\n            Cancel\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <section class=\"mt-3\">\n      Powered by <a href=\"https://joshuacastor.me/project-sparkle/\" target=\"_blank\" rel=\"noopener\">Project Sparkle</a>\n    </section>\n  </div>\n</template>\n\n<script>\nimport SparkSimulator from '@/modules/spark-simulator';\nimport {\n  getSimulatorOptions,\n  applySparkResultToSquad,\n  getSimulatorWarningsForSquad,\n} from '@/modules/spark-simulator/utils';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\nimport SparkSquadCard from '@/components/Tools/Squads/SparkStatistics/SparkSquadCard';\nimport SparkSquadCardEditable from '@/components/Tools/Squads/SparkStatistics/SparkSquadCardEditable';\nimport OverallSimulatorOptions from '@/components/Tools/Squads/SparkStatistics/OverallSimulatorOptions';\nimport { Logger } from '@/modules/Logger';\n\nconst logger = new Logger({ prefix: '[SparkStatisticsArea]' });\nexport default {\n  mixins: [GettersMixin],\n  props: {\n    squad: {\n      type: Object,\n      required: true,\n    },\n    initialSimulatorOptions: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  components: {\n    SparkSquadCard,\n    SparkSquadCardEditable,\n    OverallSimulatorOptions,\n  },\n  computed: {\n    resultSelectValues () {\n      return Object.freeze(this.results.map((r, i) => ({\n        label: this.getResultName(r, i),\n        value: i,\n      })));\n    },\n    simulatorWarnings () {\n      return getSimulatorWarningsForSquad(this.squad, this.simulatorOptions);\n    },\n    progressLabel () {\n      return `${this.progressPercent.toFixed(2)}% (${this.progressActual}/${this.progressTotal})`;\n    },\n    progressPercent () {\n      return (this.progressActual / Math.max(1, this.progressTotal)) * 100;\n    },\n    combosTestedPerSecond () {\n      return (this.lastTestedCount / Math.max(this.simulationEndTime - this.simulationStartTime, 1) * 1000).toFixed(2);\n    },\n  },\n  data () {\n    return {\n      sparkSimulator: new SparkSimulator(),\n      results: null,\n      currentSection: 0,\n      runningSimulator: false,\n      resultForCurrentSquad: null,\n      simulatorOptions: null,\n      currentResultIndex: 0,\n      showProgressDialog: false,\n      progressTotal: 0,\n      progressActual: 0,\n      progressAnimationFrame: null,\n      progressObject: { total: 0, completed: 0, countTested: 0 },\n      errors: [],\n      simulationStartTime: Date.now(),\n      simulationEndTime: Date.now(),\n      simulationElapsedText: '',\n      lastTestedCount: 0,\n      errorForCurrentSquad: null,\n      errorForCalculations: null,\n    };\n  },\n  created () {\n    this.simulatorOptions = getSimulatorOptions(this.initialSimulatorOptions, this.squad);\n  },\n  mounted () {\n    this.sparkSimulator.getters = {\n      unit: this.getUnit,\n      item: this.getItem,\n      extraSkill: this.getExtraSkill,\n    };\n    this.calculateResultForCurrentSquad();\n  },\n  methods: {\n    cancelCalculations () {\n      this.sparkSimulator.cancelCalculations();\n    },\n    async runSimulator () {\n      // reset results\n      this.progressObject = { total: 0, completed: 0 };\n      this.setProgress();\n      this.results = null;\n      this.runningSimulator = true;\n      this.showProgressDialog = true;\n      this.errorForCalculations = null;\n      this.currentResultIndex = 0;\n      if (this.progressAnimationFrame) {\n        cancelAnimationFrame(this.progressAnimationFrame);\n        this.progressAnimationFrame = null;\n      }\n      this.sparkSimulator.addProgressListener(p => {\n        this.progressObject = p;\n        this.throttledSetProgress();\n      });\n      this.simulationStartTime = Date.now();\n      this.throttledSetProgress();\n      await this.$nextTick();\n\n      // run and get results\n      try {\n        const calculationResults = await this.sparkSimulator.calculateOptimalOrdersForSquad(this.squad, this.simulatorOptions);\n        this.errors = calculationResults.errors;\n        this.results = calculationResults.results;\n      } catch (err) {\n        logger.error('error calculating spark results', {\n          err,\n          squad: this.squad,\n          simulatorOptions: this.simulatorOptions,\n        });\n        this.errorForCalculations = err;\n      }\n      if (this.progressAnimationFrame) {\n        cancelAnimationFrame(this.progressAnimationFrame);\n        this.progressAnimationFrame = null;\n      }\n      this.setProgress();\n      this.runningSimulator = false;\n      this.showProgressDialog = false;\n      this.progressObject = { total: 0, completed: 0 };\n      this.simulationEndTime = Date.now();\n      this.sparkSimulator.removeAllListeners();\n      await this.$nextTick();\n      this.currentSection = 2; // show result panel\n    },\n    calculateResultForCurrentSquad () {\n      this.errorForCurrentSquad = null;\n      try {\n        this.resultForCurrentSquad = Object.freeze(this.sparkSimulator.calculateSparksForSquad(this.squad, getSimulatorOptions(this.squad.simulatorOptions, this.squad)));\n      } catch (err) {\n        logger.error('error calculating results for current squad', { err });\n        this.errorForCurrentSquad = err;\n        this.resultForCurrentSquad = null;\n      }\n    },\n    emitShareEvent (sparkResult) {\n      this.$emit('share', sparkResult);\n    },\n    emitSimulatorOptions () {\n      this.$emit('simoptions', this.simulatorOptions);\n    },\n    getResultName (sparkResult, resultIndex) {\n      return `Result ${resultIndex + 1} (${(sparkResult.weightedPercentage * 100).toFixed(2)}%)`;\n    },\n    applySparkResult (sparkResult) {\n      const result = applySparkResultToSquad(this.squad, sparkResult, this.simulatorOptions);\n      this.$emit('apply', result);\n      this.results = null;\n      this.simulatorOptions = result.options;\n      this.currentSection = 0; // show current squad panel\n    },\n    setProgress () {\n      this.progressActual = (this.progressObject && this.progressObject.completed) || 0;\n      this.progressTotal = (this.progressObject && this.progressObject.total) || 0;\n      this.lastTestedCount = (this.progressObject && this.progressObject.completed) || 0;\n      this.simulationElapsedText = this.getTimeElapsedText();\n    },\n    throttledSetProgress () {\n      if (!this.progressAnimationFrame) {\n        const progressIsDifferent = (progress) => progress !== this.progressObject;\n        const loop = () => {\n          const currentProgressObject = this.progressObject;\n          this.progressAnimationFrame = requestAnimationFrame(() => {\n            this.simulationElapsedText = this.getTimeElapsedText();\n            if (progressIsDifferent(currentProgressObject)) {\n              this.setProgress();\n            }\n            if (this.runningSimulator) {\n              requestAnimationFrame(loop);\n            }\n          });\n        };\n        loop();\n      }\n    },\n    getTimeElapsedText (otherTime = Date.now()) {\n      const diff = otherTime - this.simulationStartTime;\n      const MS_TO_MINUTES = 1 / (1000 * 60);\n      const MS_TO_SECONDS = 1 / 1000;\n      const minutes = Math.floor(diff * MS_TO_MINUTES);\n      const seconds = Math.floor((diff - (minutes / MS_TO_MINUTES)) * MS_TO_SECONDS);\n      return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\n    },\n  },\n  watch: {\n    simulatorOptions () {\n      this.emitSimulatorOptions();\n    },\n    squad () {\n      this.calculateResultForCurrentSquad();\n    },\n    resultForCurrentSquad (newValue) {\n      this.$emit('currentsquadresult', newValue);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.spark-statistics-container {\n  width: 100%;\n  .v-expansion-panel {\n    box-shadow: none;\n  }\n\n  .v-expansion-panel__header {\n    padding-left: 8px;\n    padding-right: 8px;\n\n    .subheading {\n      font-weight: bold;\n    }\n  }\n\n  a {\n    color: inherit;\n    &:hover {\n      font-weight: bold;\n    }\n  }\n\n  .result-navigator {\n    display: grid;\n    grid-template-columns: auto 1fr auto;\n    align-items: center;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Main.vue?vue&type=template&id=b60f6c28&\"\nimport script from \"./Main.vue?vue&type=script&lang=js&\"\nexport * from \"./Main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Main.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"squad-multidex-links\"},[_c('dl',[_vm._l((_vm.fullUnits),function(unit){return [_c('dt',{key:((_vm.unitKeyBySquadEntry.get(unit)) + \"-title\"),staticClass:\"title mt-3 mb-2\",domProps:{\"textContent\":_vm._s(_vm.titleBySquadEntry.get(unit))}}),_c('dd',{key:((_vm.unitKeyBySquadEntry.get(unit)) + \"-links\")},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.linksBySquadEntry.get(unit)),function(entry,i){return _c('v-flex',{key:i,staticClass:\"pa-2\",attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c(_vm.getComponentNameFromEntry(entry),{tag:\"component\",attrs:{\"entry\":_vm.getDataForEntry(entry),\"to\":_vm.generateMultidexPathToEntry(entry),\"sp\":entry.sp}},[_vm._v(\"\\n              \"+_vm._s(entry)+\"\\n            \")])],1)}),1)],1)]})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"squad-multidex-links\">\n    <dl>\n      <template v-for=\"unit in fullUnits\">\n        <dt\n          class=\"title mt-3 mb-2\"\n          :key=\"`${unitKeyBySquadEntry.get(unit)}-title`\"\n          v-text=\"titleBySquadEntry.get(unit)\"\n        />\n        <dd :key=\"`${unitKeyBySquadEntry.get(unit)}-links`\">\n          <v-layout row wrap>\n            <v-flex\n              v-for=\"(entry, i) in linksBySquadEntry.get(unit)\"\n              :key=\"i\"\n              xs12 sm6\n              class=\"pa-2\"\n            >\n              <component\n                :is=\"getComponentNameFromEntry(entry)\"\n                :entry=\"getDataForEntry(entry)\"\n                :to=\"generateMultidexPathToEntry(entry)\"\n                :sp=\"entry.sp\"\n              >\n                {{ entry }}\n              </component>\n            </v-flex>\n          </v-layout>\n        </dd>\n      </template>\n    </dl>\n  </section>\n</template>\n\n<script>\nimport { getMultidexParamsForSquadUnit, generateFillerSquadUnitEntry } from '@/modules/core/squads';\nimport { unitPositionMapping, multidexModuleInfo } from '@/modules/constants';\nimport GettersMixin from '@/components/Tools/Squads/SynchronousGettersMixin';\nimport UnitEntryCard from '@/components/Multidex/Units/EntryCard';\nimport ExtraSkillEntryCard from '@/components/Multidex/ExtraSkills/EntryCard';\nimport ItemEntryCard from '@/components/Multidex/Items/EntryCard';\n\nexport default {\n  mixins: [GettersMixin],\n  props: {\n    squad: {\n      type: Object,\n      required: true,\n    },\n  },\n  components: {\n    UnitEntryCard,\n    ExtraSkillEntryCard,\n    ItemEntryCard,\n  },\n  computed: {\n    // fills empty positions with empty values\n    fullUnits () {\n      return unitPositionMapping.map(position => {\n        let unit = this.squad.units.find(unit => unit.position === position);\n        if (!unit) { // empty position, so fill it with empty data\n          unit = generateFillerSquadUnitEntry({ isEmpty: true, bbOrder: null, position });\n        }\n\n        return unit;\n      });\n    },\n    linksBySquadEntry () {\n      const mapping = new WeakMap();\n      this.fullUnits.forEach(unit => {\n        mapping.set(unit, getMultidexParamsForSquadUnit(unit));\n      });\n      return mapping;\n    },\n    unitKeyBySquadEntry () {\n      const mapping = new WeakMap();\n      this.fullUnits.forEach((unit, i) => {\n        mapping.set(unit, `${JSON.stringify(unit)}-${i}`);\n      });\n      return mapping;\n    },\n    titleBySquadEntry () {\n      const mapping = new WeakMap();\n      this.fullUnits.forEach(unit => {\n        const unitData = this.getUnit(unit.id) || {};\n        const title = `${unitData.name || unitData.id || unit.id} (${unit.position})`;\n        mapping.set(unit, title);\n      });\n      return mapping;\n    },\n    multidexPathGetters () {\n      const { getters } = this.$store;\n      return multidexModuleInfo.reduce((acc, { name }) => {\n        acc[name] = getters[`${name}/getMultidexPathTo`];\n        return acc;\n      }, {});\n    },\n  },\n  methods: {\n    generateMultidexPathToEntry ({ moduleName, id, sp } = {}) {\n      const urlGenerator = this.multidexPathGetters[moduleName] || (id => `/multidex/${moduleName}/?server=${this.$store.state.settings.activeServer}&viewId=${id}`);\n      const initialUrl = urlGenerator(id);\n      return (sp && sp.length > 0)\n        ? `${initialUrl}&enhancements=${sp}`\n        : initialUrl;\n    },\n    getComponentNameFromEntry ({ moduleName } = {}) {\n      let componentName = 'router-link';\n      if (moduleName === 'units') {\n        componentName = 'unit-entry-card';\n      } else if (moduleName === 'extraSkills') {\n        componentName = 'extra-skill-entry-card';\n      } else if (moduleName === 'items') {\n        componentName = 'item-entry-card';\n      }\n      return componentName;\n    },\n    getDataForEntry ({ moduleName, id } = {}) {\n      let data = { id };\n      if (moduleName === 'units') {\n        data = this.getUnit(id) || data;\n      } else if (moduleName === 'extraSkills') {\n        data = this.getExtraSkill(id) || data;\n      } else if (moduleName === 'items') {\n        data = this.getItem(id) || data;\n      }\n      return data;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultidexLinks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultidexLinks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MultidexLinks.vue?vue&type=template&id=73d6550a&\"\nimport script from \"./MultidexLinks.vue?vue&type=script&lang=js&\"\nexport * from \"./MultidexLinks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <module-checker :requiredModules=\"requiredModules\">\n    <promise-wait :promise=\"initialLoadPromise\">\n      <v-container fluid class=\"squad-page\" v-resize=\"onPageReady\">\n        <v-container class=\"pa-0\">\n          <v-layout justify-center>\n            <v-flex xs12 v-if=\"!editMode\">\n              <squad-list-card\n                :squad=\"squad\"\n                :getUnit=\"getUnit\"\n                :getItem=\"getItem\"\n                :getExtraSkill=\"getExtraSkill\"\n                :isLoadingInParent=\"isLoadingSquadData\"\n                :key=\"squadCode\"\n              >\n                <v-card-actions slot=\"card-actions\" slot-scope=\"{ disabled }\">\n                  <v-btn\n                    flat\n                    :icon=\"minimizeSquadActionButtons\"\n                    :disabled=\"disabled\"\n                    @click=\"editMode = true\">\n                    <v-icon :left=\"!minimizeSquadActionButtons\">edit</v-icon>\n                    <span v-if=\"!minimizeSquadActionButtons\">\n                      Edit\n                    </span>\n                  </v-btn>\n                  <v-btn\n                    flat\n                    :icon=\"minimizeSquadActionButtons\"\n                    :disabled=\"disabled\"\n                    @click=\"activeSquadDialog = 'share'\">\n                    <v-icon :left=\"!minimizeSquadActionButtons\">share</v-icon>\n                    <span v-if=\"!minimizeSquadActionButtons\">\n                      Share\n                    </span>\n                  </v-btn>\n                  <v-btn\n                    v-if=\"squadCode\"\n                    flat\n                    :icon=\"minimizeSquadActionButtons\"\n                    :disabled=\"disabled\"\n                    :to=\"getSquadUrl(squadCode)\">\n                    <v-icon :left=\"!minimizeSquadActionButtons\">file_copy</v-icon>\n                    <span v-if=\"!minimizeSquadActionButtons\">\n                      Clone\n                    </span>\n                  </v-btn>\n                  <v-spacer/>\n                  <v-btn\n                    flat\n                    :icon=\"minimizeSquadActionButtons\"\n                    :disabled=\"disabled\"\n                    @click=\"activeSquadDialog = 'delete'\">\n                    <v-icon :left=\"!minimizeSquadActionButtons\">delete</v-icon>\n                    <span v-if=\"!minimizeSquadActionButtons\">\n                      Delete\n                    </span>\n                  </v-btn>\n                </v-card-actions>\n              </squad-list-card>\n            </v-flex>\n            <v-flex xs12 v-else>\n              <squad-list-card-editable\n                :squad=\"tempSquad\"\n                :squadId=\"id\"\n                :getUnit=\"getUnit\"\n                :getItem=\"getItem\"\n                :getExtraSkill=\"getExtraSkill\"\n                :redirectOnCancel=\"false\"\n                :isLoadingInParent=\"isLoadingSquadData\"\n                @newsquad=\"$sq => tempSquad = $sq\"\n                @newunits=\"onNewUnits\"\n                @save=\"() => { squad = tempSquad; editMode = false; }\"\n                @cancel=\"editMode = false\"\n              />\n            </v-flex>\n          </v-layout>\n        </v-container>\n        <v-flex xs12>\n          <v-divider class=\"mt-2\"/>\n        </v-flex>\n        <v-flex xs12>\n          <v-card>\n            <tab-container\n              v-if=\"!isLoadingSquadData && !editMode\"\n              v-model=\"currentTabIndex\"\n              class=\"mt-2 mx-0\"\n              :centeredTabs=\"true\"\n              :growTabs=\"true\"\n              :tabs=\"tabConfig\">\n              <v-layout slot=\"multidex-links\" column>\n                <multidex-links\n                  :getUnit=\"getUnit\"\n                  :getItem=\"getItem\"\n                  :getExtraSkill=\"getExtraSkill\"\n                  :squad=\"squad\"\n                />\n              </v-layout>\n              <v-layout slot=\"buffs\" column class=\"buff-lists\">\n                <squad-buff-expandable-list-view\n                  :getUnit=\"getUnit\"\n                  :getItem=\"getItem\"\n                  :getExtraSkill=\"getExtraSkill\"\n                  :squad=\"squad\"\n                  :topNavbarHeight=\"topNavbarHeight\"\n                />\n              </v-layout>\n              <v-layout slot=\"spark-statistics\">\n                <squad-spark-statistics-area\n                  :getUnit=\"getUnit\"\n                  :getItem=\"getItem\"\n                  :getExtraSkill=\"getExtraSkill\"\n                  :squad=\"squad\"\n                  :initialSimulatorOptions=\"simulatorOptions\"\n                  @simoptions=\"$v => simulatorOptions = $v\"\n                  @share=\"$sparkResult => { sparkResultToShare = $sparkResult; activeSquadDialog = 'share'; }\"\n                  @apply=\"applySparkResult\"\n                  @currentsquadresult=\"$v => sparkResultToShare = $v\"\n                />\n              </v-layout>\n              <v-layout slot=\"arena\" style=\"overflow-x: auto;\">\n                <squad-arena-suggestion-table\n                  :getUnit=\"getUnit\"\n                  :getItem=\"getItem\"\n                  :getExtraSkill=\"getExtraSkill\"\n                  :squad=\"squad\"\n                />\n              </v-layout>\n            </tab-container>\n          </v-card>\n        </v-flex>\n        <v-dialog\n          :value=\"!isLoadingSquadData && !!activeSquadDialog\"\n          @input=\"$v => activeSquadDialog = $v ? activeSquadDialog : ''\"\n          lazy>\n          <template v-if=\"squadCode\">\n            <share-squad-card\n              v-if=\"activeSquadDialog === 'share'\"\n              :squad=\"squad\"\n              :getUnit=\"getUnit\"\n              :getItem=\"getItem\"\n              :getExtraSkill=\"getExtraSkill\"\n              :sparkResult=\"sparkResultToShare\"\n              @back=\"activeSquadDialog = ''\"/>\n            <delete-squad-card\n              v-else-if=\"activeSquadDialog === 'delete'\"\n              :squad=\"squad\"\n              :squadId=\"+id\"\n              :getUnit=\"getUnit\"\n              :getItem=\"getItem\"\n              :getExtraSkill=\"getExtraSkill\"\n              @delete=\"$router.push('/tools/squads')\"\n              @cancel=\"activeSquadDialog = ''\"/>\n          </template>\n          <v-card v-else>\n            <v-card-text>\n              No squad selected\n            </v-card-text>\n            <v-card-actions style=\"justify-content: flex-end\">\n              <v-btn flat @click=\"activeSquadDialog = ''\">\n                Back\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-container>\n    </promise-wait>\n  </module-checker>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex';\nimport { squadRequiredModules } from '@/router/tool-routes';\nimport { Logger } from '@/modules/Logger';\nimport {\n  squadToShorthand,\n  getMultidexDatabaseIdsFromSquads,\n  cloneSquad,\n} from '@/modules/core/squads';\nimport { targetTypes, squadBuffTypes } from '@/modules/constants';\nimport ModuleChecker from '@/components/ModuleChecker';\nimport LoadingIndicator from '@/components/LoadingIndicator';\nimport PromiseWait from '@/components/PromiseWait';\nimport SquadListCard from '@/components/Tools/Squads/SquadListCard';\nimport ShareSquadCard from '@/components/Tools/Squads/ShareSquadCard';\nimport DeleteSquadCard from '@/components/Tools/Squads/DeleteSquadCard';\nimport TabContainer from '@/components/CardTabsContainer';\nimport SquadListCardEditable from '@/components/Tools/Squads/SquadListCardEditable';\nimport SquadBuffExpandableListView from '@/components/Multidex/BuffList/SquadBuffExpandableListView';\nimport SquadArenaSuggestionTable from '@/components/Tools/Squads/SquadArenaSuggestionTable';\nimport SquadSparkStatisticsArea from '@/components/Tools/Squads/SparkStatistics/Main';\nimport MultidexLinks from '@/components/Tools/Squads/MultidexLinks';\n\nconst logger = new Logger({ prefix: '[Squad]' });\nexport default {\n  props: {\n    id: {\n      type: String,\n      required: true,\n    },\n  },\n  components: {\n    ModuleChecker,\n    SquadListCard,\n    ShareSquadCard,\n    DeleteSquadCard,\n    TabContainer,\n    SquadListCardEditable,\n    LoadingIndicator,\n    SquadBuffExpandableListView,\n    SquadArenaSuggestionTable,\n    SquadSparkStatisticsArea,\n    PromiseWait,\n    MultidexLinks,\n  },\n  computed: {\n    ...mapState('settings', ['activeServer']),\n    targetTypes: () => targetTypes,\n    squadBuffTypes: () => squadBuffTypes,\n    requiredModules: () => squadRequiredModules,\n    tabConfig: () => [\n      'Multidex Links',\n      'Buffs',\n      'Spark Statistics',\n      'Arena',\n    ].map(name => ({ name, slot: name.toLowerCase().replace(/ /g, '-') })),\n    squadCode () {\n      return this.squad ? squadToShorthand(this.squad) : '';\n    },\n    minimizeSquadActionButtons () {\n      return this.$vuetify.breakpoint.xsOnly;\n    },\n  },\n  data () {\n    return {\n      squad: null,\n      squadUnits: {},\n      squadItems: {},\n      squadExtraSkills: {},\n      isLoadingSquadData: false,\n      activeSquadDialog: '',\n      editMode: false,\n      currentTabIndex: 0,\n      tempSquad: {},\n      topNavbarHeight: 56,\n      sparkResultToShare: null,\n      simulatorOptions: {},\n      initialLoadPromise: Promise.resolve(),\n      disableActiveClassTimeout: null,\n    };\n  },\n  mounted () {\n    this.isLoadingSquadData = true;\n    this.initialLoadPromise = this.$store.dispatch('squads/getSquadById', this.id)\n      .then(result => {\n        if (!result || !result.squad) {\n          throw new Error('Specified squad doesn\\'t exist.');\n        }\n        this.squad = cloneSquad(result.squad);\n      });\n  },\n  methods: {\n    ...mapActions('units', {\n      getUnits: 'getByIds',\n    }),\n    ...mapActions('items', {\n      getItems: 'getByIds',\n    }),\n    ...mapActions('extraSkills', {\n      getExtraSkills: 'getByIds',\n    }),\n    getUnit (id) {\n      return this.squadUnits[id] || {};\n    },\n    getItem (id) {\n      return this.squadItems[id] || {};\n    },\n    getExtraSkill (id) {\n      return this.squadExtraSkills[id] || {};\n    },\n    async updatePageDbForSquad (squad) {\n      if (squad) {\n        const databaseIds = getMultidexDatabaseIdsFromSquads(squad);\n        const toLowerCase = (input) => `${input[0].toLowerCase()}${input.slice(1)}`;\n        const currentServer = this.activeServer;\n        try {\n          await ['Units', 'Items', 'ExtraSkills'].reduce((acc, name) => {\n            const entriesToGet = [];\n            const componentDb = this[`squad${name}`];\n            const neededKeys = databaseIds[toLowerCase(name)];\n            const newDb = {};\n            const allKeys = Object.keys(componentDb).map(id => +id).concat(neededKeys);\n            allKeys.forEach((id) => {\n              if (!isNaN(id) && neededKeys.includes(id)) {\n                if (!componentDb[id]) {\n                  entriesToGet.push(id);\n                } else {\n                  newDb[id] = componentDb[id];\n                }\n              }\n            });\n  \n            return acc.then(async () => {\n              if (entriesToGet.length > 0) {\n                if (!this.isLoadingSquadData) {\n                  this.isLoadingSquadData = true;\n                }\n                const retrievedEntries = await this[`get${name}`]({\n                  ids: entriesToGet,\n                  server: currentServer,\n                  extractedFields: [],\n                });\n                this[`squad${name}`] = Object.freeze({ ...newDb, ...retrievedEntries });\n              } else {\n                this[`squad${name}`] = Object.freeze(newDb);\n              }\n            });\n          }, Promise.resolve());\n        } catch (err) {\n          logger.error(err);\n        } finally {\n          this.isLoadingSquadData = false;\n        }\n      }\n    },\n    setDocumentTitle () {\n      const defaultTitle = 'BF-MT - Squad';\n      if (this.squad && this.squad.name) {\n        document.title = [defaultTitle, this.squad.name].join(' - ');\n      } else {\n        document.title = defaultTitle;\n      }\n    },\n    getSquadUrl (squad) {\n      return this.$router.resolve({\n        path: '/tools/squads/add',\n        query: { import: typeof squad !== 'string' ? squadToShorthand(squad) : squad },\n      }).route.fullPath;\n    },\n    onNewUnits (units) {\n      this.tempSquad = { ...this.tempSquad, units };\n    },\n    onPageReady () {\n      this.updateTopNavbarHeight();\n      if (this.$store.state.disableHtmlOverflow) {\n        this.$store.commit('setHtmlOverflowDisableState', false);\n      }\n    },\n    updateTopNavbarHeight () {\n      const topNavbar = document.querySelector('nav.v-toolbar');\n      this.topNavbarHeight = (topNavbar && topNavbar.offsetHeight) || 56;\n    },\n    async applySparkResult ({ squad, sparkResult, options } = {}) {\n      squad.simulatorOptions = options || this.simulatorOptions;\n      await this.$store.dispatch('squads/storeSquad', {\n        server: this.$store.state.settings.activeServer,\n        squad: squad,\n        id: this.id,\n      });\n\n      this.sparkResultToShare = sparkResult;\n      this.squad = squad;\n    },\n    checkWindowActiveClass () {\n      if (!this.disableActiveClassTimeout) {\n        // necessary to fix issues with sticky elements (active class has overflow hidden property)\n        const checkAndRemoveClass = () => {\n          const activeWindow = this.$el.querySelector('.v-window__container--is-active');\n          if (activeWindow) {\n            activeWindow.classList.remove('v-window__container--is-active');\n            this.disableActiveClassTimeout = setTimeout(checkAndRemoveClass, 1000);\n          } else {\n            this.disableActiveClassTimeout = null;\n          }\n        };\n        this.disableActiveClassTimeout = setTimeout(checkAndRemoveClass, 1000);\n      }\n    },\n  },\n  watch: {\n    async squad (newSquad) {\n      this.setDocumentTitle();\n      await this.updatePageDbForSquad(newSquad);\n      this.onPageReady();\n    },\n    async editMode (isEditMode) {\n      if (isEditMode) {\n        this.tempSquad = cloneSquad(this.squad);\n        this.tempSquad.simulatorOptions = this.simulatorOptions;\n      } else {\n        this.tempSquad = {};\n      }\n    },\n    async tempSquad (newSquad) {\n      if (newSquad && Array.isArray(newSquad.units)) {\n        await this.updatePageDbForSquad(newSquad);\n      } else {\n        await this.updatePageDbForSquad(this.squad);\n      }\n    },\n    currentTabIndex () {\n      this.checkWindowActiveClass();\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Squad.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Squad.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Squad.vue?vue&type=template&id=3f7f9806&\"\nimport script from \"./Squad.vue?vue&type=script&lang=js&\"\nexport * from \"./Squad.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpBuildTable.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpBuildTable.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallSimulatorOptions.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallSimulatorOptions.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadAdd.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SquadAdd.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextViewer.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextViewer.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}