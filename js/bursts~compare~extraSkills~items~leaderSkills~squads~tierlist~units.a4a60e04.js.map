{"version":3,"sources":["webpack:///./src/modules/core/units.js","webpack:///./src/components/LazyLoadImage.vue?de5f","webpack:///src/components/LazyLoadImage.vue","webpack:///./src/components/LazyLoadImage.vue?bc37","webpack:///./src/components/LazyLoadImage.vue","webpack:///./src/components/LazyLoadImageMixin.js","webpack:///./src/components/Multidex/Units/SpIcon.vue?8b43","webpack:///src/components/Multidex/Units/SpIcon.vue","webpack:///./src/components/Multidex/Units/SpIcon.vue?26e4","webpack:///./src/components/Multidex/Units/SpIcon.vue","webpack:///./src/modules/core/bursts.js","webpack:///./src/assets/question_frame_2.png","webpack:///./src/assets/question_frame_3.png","webpack:///./src/components/Multidex/Units/UnitThumbnail.vue?81e1","webpack:///src/components/Multidex/Units/UnitThumbnail.vue","webpack:///./src/components/Multidex/Units/UnitThumbnail.vue?5c4b","webpack:///./src/components/Multidex/Units/UnitThumbnail.vue","webpack:///./src/assets/question_frame_4.png","webpack:///./node_modules/vuetify/es5/util/colors.js","webpack:///./src/assets/sphere_icon_hexa.png","webpack:///./src/components/Multidex/Units/EntryCard.vue?4e84","webpack:///src/components/Multidex/Units/EntryCard.vue","webpack:///./src/components/Multidex/Units/EntryCard.vue?45e0","webpack:///./src/components/Multidex/Units/EntryCard.vue","webpack:///./src/assets/question_frame_1.png"],"names":["getExtraAttacks","unit","extraAttacks","bb","sbb","ubb","possibleEffects","isAttackingPassive","e","some","triggeredEffect","attackingProcs","includes","mapEffect","effect","source","filter","forEach","push","_objectSpread","trigger on bb","trigger on sbb","trigger on ubb","_unit$extraSkill$eff","effects","feskills","map","s","skill","reduce","acc","val","concat","passive","burstTypes","Object","keys","type","getSpCategory","num","spCategoryMapping","getSpEntryEffects","spEntry","arguments","length","undefined","sp_type","getSpCost","allFeSkills","enhancements","isValidFeSKills","Array","isArray","split","char","spCodeToIndex","v","bp","charCodeAt","spIndexToCode","index","String","fromCharCode","spCodeToEffects","code","unitEnhancements","getSpEntryId","id","spId","_typeof","getSpEntryWithId","spEntries","entryId","find","toString","getSpDescription","_spEntry$skill","_spEntry$skill$desc","desc","_spEntry$skill$name","name","trim","join","getSpDependencyText","allEntries","dependentSpEntry","dependency","getAllDependenciesFromSpEntry","dependencies","dependencyId","dependencyIndex","findIndex","subDependencies","subDependency","getAllEntriesThatDependOnSpEntry","dependents","entry","_ref","_ref2","subDependents","depCode","from","Set","hasEvolutions","prev","next","evo_mats","getEvolutions","_getEvolutions","apply","this","_callee","getUnit","evolutions","tempUnit","_args","C_Users_bluem_Documents_GitHub_bf_mt_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context","abrupt","Promise","resolve","sent","current","mats","cost","evo_cost","stop","getDropCheckInfo","hasHitCounts","hits","dropchecks","dropCheckPerHit","getMoveType","isNormalAttack","moveTypeCode","safeGet","moveTypeMapping","evaluateSingleArenaCondition","_ref3","_ref3$condition","condition","_ref3$target","target","isParty","arenaConditionCodeToText","mapping","topHalf","anywhere","middleAndBelow","beforeHealers","bottomHalf","afterHealers","arenaConditionToText","data","chance","action","arenaActionMapping","arenaTargetMapping","arenaConditionMapping","getArenaPositionRecommendation","defaultSuggestion","ai","skillBasedProcs","chanceMapping","highestChanceConditions","sort","b","key","positions","getColoClassUsage","isGlobal","getHighestRarityUnit","category","unitById","i","isValidUnit","expectedFields","every","f","getFillerUnit","isEmpty","element","squadFillerMapping","EMPTY","ANY","rarity","gender","guide_id","kind","getEffectMappingFromUnit","_ref4","_unitEffects","_ref4$unit","unitEffects","ls","es","_defineProperty","squadUnitActions","BB","SBB","UBB","sourcePath","bbType","burstData","levels","getBurstEffects","enhancementsToCheck","sp","sourceSpCode","indexOf","getEffectsListForUnit","_ref5","_ref5$unit","_ref5$target","targetTypes","PARTY","_ref5$effectType","effectType","squadBuffTypes","PROC","_ref5$whitelistedSour","whitelistedSources","entryEffects","getArrayWithKey","actualResult","getEffectsList","leaderSkillEffects","extraSkillEffects","nonUbbBurstEffects","ubbBurstEffects","spEnhancementEffects","getUnitImageUrls","_ref6","server","_ref6$suffix","suffix","baseUrl","CONTENT_URLS","gl","ills_full","ills_thum","anime","ills_battle","render","_vm","_h","$createElement","_c","_self","attrs","width","displayWidth","imageWidth","height","displayHeight","imageHeight","viewBox","xmlns","xmlns:xlink","domProps","textContent","_s","imageTitle","_e","_t","staticClass","style","xlink:href","placeholderSrc","href","imageSource","staticRenderFns","LazyLoadImagevue_type_script_lang_js_","props","default","Number","required","src","isVisible","computed","placeholderImageStyle","imageLoaded","actualImageStyle","mounted","_this","imageElem","$el","querySelector","onload","watch","newValue","components_LazyLoadImagevue_type_script_lang_js_","component","componentNormalizer","LazyLoadImage","__webpack_exports__","components","iconTitle","spCategory","iconWidth","iconSize","iconHeight","sheetWidth","sheetSize","sheetHeight","displaySize","__webpack_require__","iconX","xCoord","iconY","yCoord","SpIconvue_type_script_lang_js_","GenericSpriteIcon","units","Units_SpIconvue_type_script_lang_js_","burst","level","burstEffectsByLevel","levelIndex","getBcDcInfo","endLevel","attacks","proc id","numHits","dropChecks","getHitCountData","filterFn","effectData","targetAreaMapping","frames","delay","getHealFrameData","getExtraAttackFrames","_x","_getExtraAttackFrames","attackFrameSets","healFrameSets","d","SWorker","run","frameTimes","hitDmgDistribution","frameSet","keepFirstFrame","slice","unifiedFrames","time","dmg","frame times","hit dmg% distribution","getExtraAttackHitCountData","_x2","_getExtraAttackHitCountData","_callee2","hasWiles","extraAttackFrames","_args2","_context2","target area","effect delay time(ms)/frame","getTotalDistribution","calculateSparkedFrames","_x3","_x4","_calculateSparkedFrames","_callee3","hitCountData","extraAttackHitCountData","result","_context3","native","extra","allFrames","addFrame","timeKey","sparkedFrames","hasSelfSpark","inputDelay","getSelfSparkCount","getEffectsListForBurst","_ref$burst","_ref$target","_ref$effectType","details","module","exports","p","imageDimensions","placeHolderSrc","hasActualImage","slot","UnitThumbnailvue_type_script_lang_js_","mixins","LazyLoadImageMixin","getEndString","constants","endsWith","Units_UnitThumbnailvue_type_script_lang_js_","defineProperty","value","red","freeze","base","lighten5","lighten4","lighten3","lighten2","lighten1","darken1","darken2","darken3","darken4","accent1","accent2","accent3","accent4","pink","purple","deepPurple","indigo","blue","lightBlue","cyan","teal","green","lightGreen","lime","yellow","amber","orange","deepOrange","brown","blueGrey","grey","shades","black","white","transparent","to","fluid","row","xs3","getImageUrls","thumbnailSize","xs9","staticStyle","word-break","xs4","white-space","_v","color","genderIconInfo","icon","class","ml-1","flex-grow","_l","getSpCategories","EntryCardvue_type_script_lang_js_","BaseEntryCardMixin","ElementIcon","RarityIcon","UnitThumbnail","SpIcon","vuex_esm","utils","breakpoint","$vuetify","xlOnly","mdAndUp","methods","feSkills","filteredSkills","Units_EntryCardvue_type_script_lang_js_"],"mappings":"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","file":"js/bursts~compare~extraSkills~items~leaderSkills~squads~tierlist~units.a4a60e04.js","sourcesContent":["import { attackingProcs } from '@/modules/EffectProcessor/constants';\r\nimport {\r\n  spCategoryMapping,\r\n  moveTypeMapping,\r\n  squadFillerMapping,\r\n  arenaActionMapping,\r\n  arenaTargetMapping,\r\n  arenaConditionMapping,\r\n  targetTypes,\r\n  squadBuffTypes,\r\n  squadUnitActions,\r\n  burstTypes,\r\n  CONTENT_URLS,\r\n} from '@/modules/constants';\r\nimport { getBurstEffects } from '@/modules/core/bursts';\r\nimport { getEffectsList } from '@/modules/core/buffs';\r\nimport { safeGet } from '@/modules/utils';\r\n\r\nexport function getExtraAttacks (unit) {\r\n  const extraAttacks = {\r\n    bb: [],\r\n    sbb: [],\r\n    ubb: [],\r\n  };\r\n  if (!unit) {\r\n    return extraAttacks;\r\n  }\r\n\r\n  let possibleEffects = [];\r\n  const isAttackingPassive = e => e['passive id'] === '66' &&\r\n    e['triggered effect'].some(triggeredEffect => attackingProcs.includes(triggeredEffect['proc id'] || triggeredEffect['unknown proc id']));\r\n  const mapEffect = (effect, source) => {\r\n    effect['triggered effect']\r\n      .filter(triggeredEffect => attackingProcs.includes(triggeredEffect['proc id'] || triggeredEffect['unknown proc id']))\r\n      .forEach(triggeredEffect => {\r\n        possibleEffects.push({\r\n          ...triggeredEffect,\r\n          source,\r\n          'trigger on bb': effect['trigger on bb'],\r\n          'trigger on sbb': effect['trigger on sbb'],\r\n          'trigger on ubb': effect['trigger on ubb'],\r\n        });\r\n      });\r\n  };\r\n\r\n  if (unit['extra skill']) {\r\n    const { effects = [] } = unit['extra skill'];\r\n    effects.filter(isAttackingPassive).forEach(e => mapEffect(e, 'ES'));\r\n  }\r\n\r\n  if (unit.feskills) {\r\n    unit.feskills\r\n      .map(s => s.skill.effects)\r\n      .reduce((acc, val) => acc.concat(val), [])\r\n      .filter(s => s.passive && isAttackingPassive(s.passive))\r\n      .map(s => s.passive)\r\n      .forEach(e => mapEffect(e, 'SP'));\r\n  }\r\n\r\n  possibleEffects.forEach(effect => {\r\n    const burstTypes = Object.keys(extraAttacks);\r\n    burstTypes.forEach(type => {\r\n      if (effect[`trigger on ${type}`]) {\r\n        extraAttacks[type].push(effect);\r\n      }\r\n    });\r\n  });\r\n  return extraAttacks;\r\n}\r\n\r\nexport function getSpCategory (num) {\r\n  return spCategoryMapping[+num];\r\n}\r\n\r\nexport function getSpEntryEffects (spEntry = {}) {\r\n  const effects = [];\r\n  spEntry.skill.effects.forEach(e => {\r\n    // distinguish between passive and add to bb/sbb/ubb\r\n    Object.keys(e).forEach(type => {\r\n      const effect = e[type];\r\n      effects.push({ sp_type: type, ...effect });\r\n    });\r\n  });\r\n  return effects;\r\n}\r\n\r\nexport function getSpCost (allFeSkills, enhancements = '') {\r\n  const isValidFeSKills = Array.isArray(allFeSkills) && allFeSkills.length > 0;\r\n  if (!isValidFeSKills || !enhancements) {\r\n    return 0;\r\n  }\r\n  return enhancements.split('')\r\n    .map(char => allFeSkills[spCodeToIndex(char)])\r\n    .filter(v => v)\r\n    .reduce((acc, s) => acc + +s.skill.bp, 0);\r\n}\r\n\r\nexport function spCodeToIndex (char) {\r\n  return char.charCodeAt(0) - ((char < 'a') ? 'A'.charCodeAt(0) : ('a'.charCodeAt(0))) + (char < 'a' ? 0 : 26);\r\n}\r\n\r\nexport function spIndexToCode (index) {\r\n  return String.fromCharCode(index >= 26 ? (index - 26 + 'a'.charCodeAt(0)) : (index + 'A'.charCodeAt(0)));\r\n}\r\n\r\nexport function spCodeToEffects (code, unitEnhancements) {\r\n  if (!code || !Array.isArray(unitEnhancements)) {\r\n    return [];\r\n  }\r\n\r\n  return code.split('')\r\n    .map(char => unitEnhancements[spCodeToIndex(char)])\r\n    .filter(v => v); // remove invalid entries\r\n}\r\n\r\nexport function getSpEntryId (id = '') {\r\n  let spId = id;\r\n  if (typeof spId === 'object') {\r\n    spId = id.id; // given an spEntry object\r\n  }\r\n  return id.includes('@')\r\n    ? id.split('@')[1]\r\n    : id;\r\n}\r\n\r\nexport function getSpEntryWithId (id, spEntries = []) {\r\n  const entryId = getSpEntryId(id);\r\n  return spEntries.find(s => getSpEntryId(s.id).toString() === entryId);\r\n}\r\n\r\nexport function getSpDescription (spEntry = {}) {\r\n  const { desc = '', name = '' } = spEntry.skill;\r\n  if (desc.trim() === name.trim()) {\r\n    return desc || 'No Description';\r\n  } else {\r\n    return (desc.length > name.length)\r\n      ? desc\r\n      : [name, desc ? `(${desc})` : ''].filter(val => val).join(' ');\r\n  }\r\n}\r\n\r\nexport function getSpDependencyText (spEntry = {}, allEntries = []) {\r\n  const dependentSpEntry = getSpEntryWithId(spEntry.dependency, allEntries);\r\n\r\n  return dependentSpEntry\r\n    ? `Requires \"${getSpDescription(dependentSpEntry)}\"`\r\n    : (spEntry['dependency comment'] || 'Requires another enhancement');\r\n}\r\n\r\nexport function getAllDependenciesFromSpEntry (spEntry = {}, allEntries = []) {\r\n  const dependencies = [];\r\n  if (spEntry.dependency) {\r\n    const dependencyId = getSpEntryId(spEntry.dependency);\r\n    const dependencyIndex = allEntries.findIndex(s => getSpEntryId(s.id).toString() === dependencyId);\r\n    if (dependencyIndex > -1) {\r\n      dependencies.push(spIndexToCode(dependencyIndex));\r\n      const subDependencies = getAllDependenciesFromSpEntry(allEntries[dependencyIndex], allEntries);\r\n      subDependencies.forEach(subDependency => {\r\n        dependencies.push(subDependency);\r\n      });\r\n    }\r\n  }\r\n  return dependencies;\r\n}\r\n\r\nexport function getAllEntriesThatDependOnSpEntry (spEntry = {}, allEntries = []) {\r\n  const dependents = allEntries\r\n    .map((entry, index) => ({ entry, index }))\r\n    .filter(({ entry }) => {\r\n      return entry.dependency && entry.dependency.includes(spEntry.id);\r\n    }).map(({ index }) => spIndexToCode(index));\r\n  const subDependents = dependents.map(depCode => getAllEntriesThatDependOnSpEntry(allEntries[spCodeToIndex(depCode)], allEntries))\r\n    .reduce((acc, val) => acc.concat(val), []);\r\n  return Array.from(new Set(dependents.concat(subDependents)));\r\n}\r\n\r\nexport function hasEvolutions (unit) {\r\n  return unit && !!(unit.prev || unit.next || unit.evo_mats);\r\n}\r\n\r\nexport async function getEvolutions (unit = {}, getUnit = (id) => ({ id })) {\r\n  if (!hasEvolutions(unit)) {\r\n    return [];\r\n  }\r\n\r\n  const evolutions = [];\r\n  let tempUnit = unit;\r\n  // go to first in evo line\r\n  while (tempUnit.prev) {\r\n    tempUnit = await Promise.resolve(getUnit(tempUnit.prev.toString()));\r\n  }\r\n\r\n  while (tempUnit.next) {\r\n    evolutions.push({\r\n      current: tempUnit.id.toString(),\r\n      next: tempUnit.next,\r\n      mats: tempUnit.evo_mats,\r\n      cost: tempUnit.evo_cost,\r\n    });\r\n    tempUnit = await Promise.resolve(getUnit(tempUnit.next.toString()));\r\n  }\r\n  return evolutions;\r\n}\r\n\r\nexport function getDropCheckInfo (unit) {\r\n  const hasHitCounts = unit && unit['damage frames'] && unit['damage frames'].hits > 0;\r\n  if (!hasHitCounts) {\r\n    return { hits: 0, dropchecks: 0 };\r\n  }\r\n\r\n  const hits = +unit['damage frames'].hits;\r\n  const dropCheckPerHit = +unit['drop check count'] || 0;\r\n  return {\r\n    hits,\r\n    dropchecks: dropCheckPerHit * hits,\r\n  };\r\n}\r\n\r\nexport function getMoveType (unit, isNormalAttack = true) {\r\n  const moveTypeCode = safeGet(unit, ['movement', isNormalAttack ? 'attack' : 'skill', 'move type']);\r\n  return moveTypeMapping[+moveTypeCode];\r\n}\r\n\r\nexport function evaluateSingleArenaCondition ({ condition = '', target = '' }) {\r\n  const isParty = target === 'party';\r\n  switch (condition) {\r\n    case 'hp_50pr_over':\r\n      return 'topHalf';\r\n    case 'hp_50pr_under':\r\n    case 'hp_75pr_under':\r\n      return !isParty ? 'middleAndBelow' : 'beforeHealers';\r\n    case 'hp_25pr_under':\r\n      return !isParty ? 'bottomHalf' : 'beforeHealers';\r\n    // other: hp_min, hp_max, atk_max, random\r\n    default:\r\n      break;\r\n    }\r\n\r\n    if (!isParty) {\r\n      return 'anywhere';\r\n    } else {\r\n      switch (condition) {\r\n        case 'hp_max':\r\n          return 'afterHealers';\r\n        case 'hp_min':\r\n          return 'beforeHealers';\r\n        default:\r\n          return 'anywhere';\r\n      }\r\n    }\r\n}\r\n\r\nexport function arenaConditionCodeToText (code) {\r\n  const mapping = {\r\n    topHalf: 'Top Half',\r\n    anywhere: 'Anywhere',\r\n    middleAndBelow: 'Middle or Lower Half',\r\n    beforeHealers: 'Anywhere Before Healers',\r\n    bottomHalf: 'Bottom Half',\r\n    afterHealers: 'Anywhere After Healers',\r\n  };\r\n  return mapping[code];\r\n}\r\n\r\nexport function arenaConditionToText (data = {}) {\r\n  const chance = `${data['chance%']}% chance`;\r\n  const action = arenaActionMapping[data.action] || data.action;\r\n  const target = arenaTargetMapping[data['target type']] || data['target type'];\r\n  const condition = arenaConditionMapping[data['target conditions']] || data['target conditions'];\r\n  return `${chance} to ${action} ${target} ${condition}`;\r\n}\r\n\r\nexport function getArenaPositionRecommendation (unit = {}) {\r\n  const defaultSuggestion = 'anywhere';\r\n  if (!Array.isArray(unit.ai)) {\r\n    return [defaultSuggestion];\r\n  }\r\n\r\n  const skillBasedProcs = unit.ai.filter(entry => entry.action === 'skill');\r\n  if (skillBasedProcs.length === 0) {\r\n    return [defaultSuggestion];\r\n  }\r\n\r\n  const chanceMapping = {};\r\n  skillBasedProcs.forEach(entry => {\r\n    const condition = entry['target conditions'];\r\n    const chance = entry['chance%'];\r\n    const target = entry['target type'];\r\n\r\n    if (!chanceMapping[chance]) {\r\n      chanceMapping[chance] = [];\r\n    }\r\n    chanceMapping[chance].push({ condition, target });\r\n  });\r\n\r\n  const highestChanceConditions = Object.keys(chanceMapping)\r\n    .sort((a, b) => +b - +a)\r\n    .map(key => chanceMapping[key])[0];\r\n\r\n  const positions = Array.from(new Set(highestChanceConditions.map(evaluateSingleArenaCondition)));\r\n\r\n  return positions;\r\n}\r\n\r\nexport function getColoClassUsage (cost = 0, isGlobal = true) {\r\n  return [\r\n    ((cost <= 32 && isGlobal) || (cost <= 14 && !isGlobal)) && 'Warrior',\r\n    ((cost <= 46 && isGlobal) || (cost <= 19 && !isGlobal)) && 'Gladiator',\r\n    ((cost <= 52 && isGlobal) || (cost <= 35 && !isGlobal)) && 'Conqueror',\r\n    'Hero', // all units can go to hero class\r\n  ].filter(v => v);\r\n}\r\n\r\nexport function getHighestRarityUnit (category = 0, unitById = (id) => ({ name: id })) {\r\n  for (let i = 9; i >= 0; --i) {\r\n    const id = `${+category + i}`;\r\n    const unit = unitById(id);\r\n    if (unit) {\r\n      return unit;\r\n    }\r\n  }\r\n}\r\n\r\nexport function isValidUnit (unit) {\r\n  const expectedFields = ['element', 'name', 'id'];\r\n  return typeof unit === 'object' && expectedFields.every(f => unit[f] !== undefined);\r\n}\r\n\r\nexport function getFillerUnit (isEmpty = false, element = 'fire') {\r\n  return {\r\n    id: 0,\r\n    name: isEmpty ? squadFillerMapping.EMPTY : squadFillerMapping.ANY,\r\n    rarity: 1,\r\n    element,\r\n    cost: 0,\r\n    gender: 'other',\r\n    guide_id: 0,\r\n    kind: 'normal',\r\n  };\r\n}\r\n\r\nexport function getEffectMappingFromUnit ({\r\n  unit = {},\r\n  enhancements,\r\n}) {\r\n  const unitEffects = {\r\n    ls: [],\r\n    es: [],\r\n    [squadUnitActions.BB]: [],\r\n    [squadUnitActions.SBB]: [],\r\n    [squadUnitActions.UBB]: [],\r\n    sp: [],\r\n  };\r\n  if (unit['leader skill'] && Array.isArray(unit['leader skill'].effects)) {\r\n    unitEffects.ls = Array.from(unit['leader skill'].effects).map(e => ({ ...e, sourcePath: 'unit.ls' }));\r\n  }\r\n\r\n  if (unit['extra skill'] && Array.isArray(unit['extra skill'].effects)) {\r\n    unitEffects.es = Array.from(unit['extra skill'].effects).map(e => ({ ...e, sourcePath: 'unit.es' }));\r\n  }\r\n\r\n  burstTypes.forEach(bbType => {\r\n    let burstData = (unit[bbType] && Array.isArray(unit[bbType].levels))\r\n      ? getBurstEffects(unit[bbType])\r\n      : {};\r\n    if (Array.isArray(burstData.effects)) {\r\n      unitEffects[bbType] = Array.from(burstData.effects).map(e => ({ ...e, sourcePath: `unit.${bbType}` }));\r\n    }\r\n  });\r\n\r\n  if (Array.isArray(unit.feskills)) {\r\n    // default to all enhancements if none specified\r\n    const enhancementsToCheck = (typeof enhancements === 'string' && enhancements.length > 0)\r\n      ? Array.from(new Set(spCodeToEffects(enhancements, unit.feskills)))\r\n      : unit.feskills;\r\n    unitEffects.sp = enhancementsToCheck.reduce((acc, val) => acc.concat(getSpEntryEffects(val).map(e => ({\r\n      ...e,\r\n      sourcePath: 'unit.sp',\r\n      sourceSpCode: spIndexToCode(unit.feskills.indexOf(val)),\r\n    }))), []);\r\n  }\r\n\r\n  return unitEffects;\r\n}\r\n\r\nexport function getEffectsListForUnit ({\r\n  unit = {},\r\n  target = targetTypes.PARTY,\r\n  effectType = squadBuffTypes.PROC,\r\n  enhancements,\r\n  whitelistedSources = ['ls', 'es', 'bb', 'sbb', 'ubb', 'sp'],\r\n}) {\r\n  const entryEffects = getEffectMappingFromUnit({ unit, enhancements });\r\n  const getArrayWithKey = (key, actualResult = []) => whitelistedSources.includes(key) ? actualResult : [];\r\n  return getEffectsList({\r\n    leaderSkillEffects: getArrayWithKey('ls', entryEffects.ls),\r\n    extraSkillEffects: getArrayWithKey('es', entryEffects.es),\r\n    nonUbbBurstEffects: getArrayWithKey('bb', entryEffects.bb).concat(getArrayWithKey('sbb', entryEffects.sbb)),\r\n    ubbBurstEffects: getArrayWithKey('ubb', entryEffects.ubb),\r\n    spEnhancementEffects: getArrayWithKey('sp', entryEffects.sp),\r\n    target,\r\n    effectType,\r\n  });\r\n}\r\n\r\nexport function getUnitImageUrls ({ id, server, suffix = '' }) {\r\n  const baseUrl = `${CONTENT_URLS[server] || CONTENT_URLS.gl}/unit/img`;\r\n\r\n  return {\r\n    ills_full: `${baseUrl}/unit_ills_full_${id}${suffix}.png`,\r\n    ills_thum: `${baseUrl}/unit_ills_thum_${id}${suffix}.png`,\r\n    anime: `${baseUrl}/unit_thum_${id}${suffix}.png`,\r\n    ills_battle: `${baseUrl}/unit_ills_battle_${id}${suffix}.png`,\r\n  };\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"width\":_vm.displayWidth || _vm.imageWidth,\"height\":_vm.displayHeight || _vm.imageHeight,\"viewBox\":(\"0 0 \" + _vm.imageWidth + \" \" + _vm.imageHeight),\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\"}},[(_vm.imageTitle)?_c('title',{domProps:{\"textContent\":_vm._s(_vm.imageTitle)}}):_vm._e(),_vm._t(\"before-image\"),_c('g',{staticClass:\"lazy--placeholder\",style:(_vm.placeholderImageStyle),attrs:{\"imageWidth\":_vm.imageWidth,\"imageHeight\":_vm.imageHeight}},[_vm._t(\"placeholder\",[_c('image',{staticClass:\"lazy--placeholder\",attrs:{\"width\":_vm.imageWidth,\"height\":_vm.imageHeight,\"xlink:href\":_vm.placeholderSrc,\"href\":_vm.placeholderSrc}})])],2),_c('image',{staticClass:\"lazy--actual\",style:(_vm.actualImageStyle),attrs:{\"width\":_vm.imageWidth,\"height\":_vm.imageHeight,\"xlink:href\":_vm.imageSource,\"href\":_vm.imageSource}}),_vm._t(\"after-image\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <svg\r\n    :width=\"displayWidth || imageWidth\" :height=\"displayHeight || imageHeight\"\r\n    :viewBox=\"`0 0 ${imageWidth} ${imageHeight}`\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\">\r\n    <title v-if=\"imageTitle\" v-text=\"imageTitle\"/>\r\n    <slot name=\"before-image\"/>\r\n    <g\r\n      class=\"lazy--placeholder\"\r\n      :style=\"placeholderImageStyle\"\r\n      :imageWidth=\"imageWidth\" :imageHeight=\"imageHeight\">\r\n      <slot name=\"placeholder\">\r\n        <image\r\n          :width=\"imageWidth\" :height=\"imageHeight\"\r\n          :xlink:href=\"placeholderSrc\"\r\n          :href=\"placeholderSrc\"\r\n          class=\"lazy--placeholder\"\r\n        />\r\n      </slot>\r\n    </g>\r\n    <image\r\n      :width=\"imageWidth\" :height=\"imageHeight\"\r\n      :xlink:href=\"imageSource\"\r\n      :href=\"imageSource\"\r\n      class=\"lazy--actual\"\r\n      :style=\"actualImageStyle\"\r\n    />\r\n    <slot name=\"after-image\"/>\r\n  </svg>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    imageTitle: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    displayWidth: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    displayHeight: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    imageWidth: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    imageHeight: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    placeholderSrc: {\r\n      type: String,\r\n    },\r\n    src: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    isVisible: {\r\n      default: true,\r\n    },\r\n  },\r\n  computed: {\r\n    placeholderImageStyle () {\r\n      return `display: ${this.imageLoaded ? 'none' : 'initial'}`;\r\n    },\r\n    actualImageStyle () {\r\n      return `display: ${!this.imageLoaded ? 'none' : 'initial'}`;\r\n    },\r\n  },\r\n  data () {\r\n    return {\r\n      imageLoaded: false,\r\n      imageSource: '',\r\n    };\r\n  },\r\n  mounted () {\r\n    const imageElem = this.$el.querySelector('image.lazy--actual');\r\n    imageElem.onload = () => {\r\n      if (this.imageSource) {\r\n        this.imageLoaded = true;\r\n      }\r\n    };\r\n\r\n    // delay loading image if not visible\r\n    if (this.isVisible) {\r\n      this.imageSource = this.src;\r\n    }\r\n  },\r\n  watch: {\r\n    isVisible (newValue) {\r\n      if (newValue && !this.imageSource) {\r\n        const imageElem = this.$el.querySelector('image.lazy--actual');\r\n        if (imageElem) {\r\n          this.imageSource = this.src;\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LazyLoadImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LazyLoadImage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LazyLoadImage.vue?vue&type=template&id=9ff078f8&\"\nimport script from \"./LazyLoadImage.vue?vue&type=script&lang=js&\"\nexport * from \"./LazyLoadImage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import LazyLoadImage from './LazyLoadImage';\r\n\r\nexport default {\r\n  props: {\r\n    displayWidth: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    displayHeight: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    isVisible: {\r\n      required: false,\r\n    },\r\n  },\r\n  components: {\r\n    LazyLoadImage,\r\n  },\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('generic-sprite-icon',{attrs:{\"iconTitle\":_vm.spCategory,\"iconWidth\":_vm.iconSize,\"iconHeight\":_vm.iconSize,\"sheetWidth\":_vm.sheetSize[0],\"sheetHeight\":_vm.sheetSize[1],\"displayWidth\":_vm.displaySize,\"displayHeight\":_vm.displaySize,\"src\":require('@/assets/sphere_icon_hexa.png'),\"iconX\":_vm.xCoord,\"iconY\":_vm.yCoord}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <generic-sprite-icon\r\n    :iconTitle=\"spCategory\"\r\n    :iconWidth=\"iconSize\" :iconHeight=\"iconSize\"\r\n    :sheetWidth=\"sheetSize[0]\" :sheetHeight=\"sheetSize[1]\"\r\n    :displayWidth=\"displaySize\" :displayHeight=\"displaySize\"\r\n    :src=\"require('@/assets/sphere_icon_hexa.png')\"\r\n    :iconX=\"xCoord\" :iconY=\"yCoord\"/>\r\n</template>\r\n\r\n<script>\r\nimport GenericSpriteIcon from '@/components/GenericSpriteIcon';\r\nimport { getSpCategory } from '@/modules/core/units';\r\n\r\nexport default {\r\n  props: {\r\n    category: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    displaySize: {\r\n      type: Number,\r\n      default: 32,\r\n    },\r\n  },\r\n  components: {\r\n    GenericSpriteIcon,\r\n  },\r\n  computed: {\r\n    spCategory () {\r\n      return getSpCategory(this.category);\r\n    },\r\n    iconSize () {\r\n      return 32;\r\n    },\r\n    sheetSize () {\r\n      return [192, 64];\r\n    },\r\n    xCoord () {\r\n      const index = this.category <= 6 ? (this.category - 1) : (this.category - 7);\r\n      return index * this.iconSize;\r\n    },\r\n    yCoord () {\r\n      return this.iconSize * (this.category <= 6 ? 0 : 1);\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpIcon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SpIcon.vue?vue&type=template&id=400d1ee4&\"\nimport script from \"./SpIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./SpIcon.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { attackingProcs } from '@/modules/EffectProcessor/constants';\r\nimport { targetAreaMapping, targetTypes, squadBuffTypes } from '@/modules/constants';\r\nimport SWorker from '@/assets/sww.min.js';\r\nimport { getEffectsList } from './buffs';\r\n\r\nexport function getBurstEffects (burst, level) {\r\n  // default to last level\r\n  const burstEffectsByLevel = Array.isArray(burst.levels) ? burst.levels : [];\r\n  const levelIndex = (level !== undefined) ? level : burstEffectsByLevel.length - 1;\r\n  return burstEffectsByLevel[levelIndex];\r\n}\r\n\r\nexport function getBcDcInfo (burst) {\r\n  if (!burst) {\r\n    return { cost: 0, hits: 0, dropchecks: 0 };\r\n  }\r\n\r\n  const endLevel = getBurstEffects(burst);\r\n\r\n  const attacks = endLevel.effects\r\n    .map((e, i) => ({\r\n      'proc id': e['proc id'] || e['unknown proc id'],\r\n      hits: e.hits || (burst['damage frames'][i] || {}).hits || 0,\r\n    })).filter(e => attackingProcs.indexOf(e['proc id']) > -1);\r\n  const numHits = attacks.reduce((acc, val) => (acc + +val.hits), 0);\r\n  const dropChecks = numHits * +burst['drop check count'];\r\n\r\n  return {\r\n    cost: endLevel['bc cost'],\r\n    hits: numHits,\r\n    dropchecks: dropChecks,\r\n  };\r\n}\r\n\r\nexport function getHitCountData (burst, filterFn = (f) => attackingProcs.includes(f.id)) {\r\n  if (typeof burst !== 'object' || Object.keys(burst).length === 0) {\r\n    return [];\r\n  }\r\n  const endLevel = getBurstEffects(burst);\r\n  return burst['damage frames']\r\n    .map((f, i) => {\r\n      const effectData = endLevel.effects[i];\r\n      return {\r\n        target: targetAreaMapping[effectData['random attack'] ? 'random' : effectData['target area']],\r\n        id: (f['proc id'] || f['unknown proc id']).toString(),\r\n        frames: f,\r\n        delay: effectData['effect delay time(ms)/frame'],\r\n        effects: effectData,\r\n      };\r\n    }).filter(filterFn);\r\n}\r\n\r\nexport function getHealFrameData (burst) {\r\n  return getHitCountData(burst, f => f.id === '2');\r\n}\r\n\r\nexport async function getExtraAttackFrames (burst) {\r\n  const attackFrameSets = getHitCountData(burst).map(d => d.frames);\r\n  const healFrameSets = getHealFrameData(burst).map(d => d.frames);\r\n\r\n  const frames = await SWorker.run((attackFrameSets, healFrameSets) => {\r\n    let frameTimes = [];\r\n    let hitDmgDistribution = [];\r\n\r\n     // gather frame data\r\n    attackFrameSets.forEach((frameSet, i) => {\r\n      const keepFirstFrame = i === 0;\r\n      frameTimes = frameTimes.concat(frameSet['frame times'].slice(keepFirstFrame ? 0 : 1));\r\n      hitDmgDistribution = hitDmgDistribution.concat(frameSet['hit dmg% distribution'].slice(keepFirstFrame ? 0 : 1));\r\n    });\r\n\r\n    healFrameSets.forEach((frameSet, i) => {\r\n      const keepFirstFrame = i === 0 && attackFrameSets.length === 0;\r\n      frameTimes = frameTimes.concat(frameSet['frame times'].slice(keepFirstFrame ? 0 : 1));\r\n      hitDmgDistribution = hitDmgDistribution.concat(frameSet['hit dmg% distribution'].slice(keepFirstFrame ? 0 : 1));\r\n    });\r\n\r\n    // sort frames by frame time\r\n    const unifiedFrames = [];\r\n    frameTimes.forEach((time, i) => {\r\n      unifiedFrames.push({\r\n        time,\r\n        dmg: hitDmgDistribution[i],\r\n      });\r\n    });\r\n\r\n    const frames = {\r\n      'frame times': [],\r\n      'hit dmg% distribution': [],\r\n    };\r\n    unifiedFrames.sort((a, b) => a.time - b.time).forEach(({ time, dmg }) => {\r\n      frames['frame times'].push(time);\r\n      frames['hit dmg% distribution'].push(dmg);\r\n    });\r\n    return frames;\r\n  }, [attackFrameSets, healFrameSets]);\r\n\r\n  return frames;\r\n}\r\n\r\nexport async function getExtraAttackHitCountData (burst, extraAttacks = [], hasWiles = true) {\r\n  if (!burst) {\r\n    return [];\r\n  }\r\n\r\n  const attacks = extraAttacks.slice();\r\n  const extraAttackFrames = await getExtraAttackFrames(burst);\r\n\r\n  if (hasWiles) {\r\n    attacks.push({\r\n      'target area': 'single',\r\n      'proc id': '1',\r\n      'effect delay time(ms)/frame': '0.0/0',\r\n      source: 'Wiles Sphere',\r\n    });\r\n  }\r\n  return attacks.map(effectData => {\r\n    return {\r\n      target: targetAreaMapping[effectData['random attack'] ? 'random' : effectData['target area']],\r\n      id: (effectData['proc id'] || effectData['unknown proc id']).toString(),\r\n      frames: extraAttackFrames,\r\n      effects: effectData,\r\n      delay: effectData['effect delay time(ms)/frame'],\r\n      source: effectData.source,\r\n    };\r\n  });\r\n}\r\n\r\nexport function getTotalDistribution (frames) {\r\n  return frames['hit dmg% distribution'].reduce((acc, val) => acc + val, 0);\r\n}\r\n\r\nexport async function calculateSparkedFrames (hitCountData, extraAttackHitCountData) {\r\n  const result = await SWorker.run((native, extra) => {\r\n    const allFrames = {};\r\n    const addFrame = (time, index, type) => {\r\n      const timeKey = time.toString();\r\n      if (!allFrames[timeKey]) {\r\n        allFrames[timeKey] = [];\r\n      }\r\n      allFrames[timeKey].push({ index, type });\r\n    };\r\n    native.forEach((entry, index) => {\r\n      const delay = +(entry.delay.split('/')[1]);\r\n      const frames = entry.frames['frame times'];\r\n      // console.debug('native', index, delay);\r\n      frames.forEach(time => {\r\n        addFrame(+time + delay, index, 'native');\r\n      });\r\n    });\r\n    extra.forEach((entry, index) => {\r\n      const delay = +(entry.delay.split('/')[1]);\r\n      const frames = entry.frames['frame times'];\r\n      // console.debug('extra', index, delay);\r\n      frames.forEach(time => {\r\n        addFrame(+time + delay, index, 'extra');\r\n      });\r\n    });\r\n    const sparkedFrames = {};\r\n    for (const time in allFrames) {\r\n      const entry = allFrames[time];\r\n      if (entry.length > 1) {\r\n        sparkedFrames[time] = entry.slice();\r\n      }\r\n    }\r\n    return sparkedFrames;\r\n  }, [hitCountData, extraAttackHitCountData]);\r\n  return result;\r\n}\r\n\r\nexport function hasSelfSpark (frames, inputDelay, sparkedFrames) {\r\n  const delay = +(inputDelay.split('/')[1]);\r\n  return sparkedFrames && frames['frame times'].some((time) => !!sparkedFrames[(+time + delay).toString()]);\r\n}\r\n\r\nexport function getSelfSparkCount (frames, inputDelay, sparkedFrames) {\r\n  if (!sparkedFrames) {\r\n    return 0;\r\n  }\r\n\r\n  const delay = +(inputDelay.split('/')[1]);\r\n  return frames['frame times']\r\n    .filter(time => (sparkedFrames[(+time + delay)] || []).length > 0)\r\n    .length;\r\n}\r\n\r\nexport function getEffectsListForBurst ({\r\n  burst = {},\r\n  target = targetTypes.PARTY,\r\n  effectType = squadBuffTypes.PROC,\r\n}) {\r\n  const details = getBurstEffects(burst) || {};\r\n  const effects = (Array.isArray(details.effects) ? details.effects : [])\r\n    .map(e => ({ ...e, sourcePath: `Burst: ${burst.name || '(No name found)'} (${burst.id})`}));\r\n  return getEffectsList({\r\n    nonUbbBurstEffects: effects,\r\n    target,\r\n    effectType,\r\n  });\r\n}\r\n","module.exports = __webpack_public_path__ + \"img/question_frame_2.61153f81.png\";","module.exports = __webpack_public_path__ + \"img/question_frame_3.70b4f3e1.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('lazy-load-image',{attrs:{\"imageTitle\":_vm.imageTitle,\"displayWidth\":_vm.displayWidth,\"displayHeight\":_vm.displayHeight,\"imageWidth\":_vm.imageDimensions[0],\"imageHeight\":_vm.imageDimensions[1],\"placeholderSrc\":_vm.placeHolderSrc,\"src\":(_vm.hasActualImage && _vm.src) || '',\"isVisible\":_vm.isVisible}},[_c('g',{attrs:{\"slot\":\"before-image\"},slot:\"before-image\"},[_vm._t(\"before-image\")],2),_c('g',{attrs:{\"slot\":\"after-image\"},slot:\"after-image\"},[_vm._t(\"after-image\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <lazy-load-image\r\n    :imageTitle=\"imageTitle\"\r\n    :displayWidth=\"displayWidth\"\r\n    :displayHeight=\"displayHeight\"\r\n    :imageWidth=\"imageDimensions[0]\"\r\n    :imageHeight=\"imageDimensions[1]\"\r\n    :placeholderSrc=\"placeHolderSrc\"\r\n    :src=\"(hasActualImage && src) || ''\"\r\n    :isVisible=\"isVisible\"\r\n  >\r\n    <g slot=\"before-image\">\r\n      <slot name=\"before-image\"/>\r\n    </g>\r\n    <g slot=\"after-image\">\r\n      <slot name=\"after-image\"/>\r\n    </g>\r\n  </lazy-load-image>\r\n</template>\r\n\r\n<script>\r\nimport LazyLoadImageMixin from '@/components/LazyLoadImageMixin';\r\nimport { squadFillerMapping } from '@/modules/constants';\r\nexport default {\r\n  mixins: [LazyLoadImageMixin],\r\n  props: {\r\n    src: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    imageTitle: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    rarity: {\r\n      type: Number,\r\n      default: 1,\r\n    },\r\n  },\r\n  computed: {\r\n    placeHolderSrc () {\r\n      if (this.rarity >= 5) {\r\n        return require('@/assets/question_frame_4.png');\r\n      } else if (this.rarity === 4) {\r\n        return require('@/assets/question_frame_3.png');\r\n      } else if (this.rarity === 3) {\r\n        return require('@/assets/question_frame_2.png');\r\n      } else {\r\n        return require('@/assets/question_frame_1.png');\r\n      }\r\n    },\r\n    imageDimensions: () => [102, 102],\r\n    hasActualImage () {\r\n      const getEndString = (id) => `${id}.png`;\r\n      return ![squadFillerMapping.EMPTY, squadFillerMapping.ANY].some(id => this.src.endsWith(getEndString(id)));\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitThumbnail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitThumbnail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UnitThumbnail.vue?vue&type=template&id=73e2ed43&\"\nimport script from \"./UnitThumbnail.vue?vue&type=script&lang=js&\"\nexport * from \"./UnitThumbnail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/question_frame_4.6f047951.png\";","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar red = Object.freeze({\n    base: '#f44336',\n    lighten5: '#ffebee',\n    lighten4: '#ffcdd2',\n    lighten3: '#ef9a9a',\n    lighten2: '#e57373',\n    lighten1: '#ef5350',\n    darken1: '#e53935',\n    darken2: '#d32f2f',\n    darken3: '#c62828',\n    darken4: '#b71c1c',\n    accent1: '#ff8a80',\n    accent2: '#ff5252',\n    accent3: '#ff1744',\n    accent4: '#d50000'\n});\nvar pink = Object.freeze({\n    base: '#e91e63',\n    lighten5: '#fce4ec',\n    lighten4: '#f8bbd0',\n    lighten3: '#f48fb1',\n    lighten2: '#f06292',\n    lighten1: '#ec407a',\n    darken1: '#d81b60',\n    darken2: '#c2185b',\n    darken3: '#ad1457',\n    darken4: '#880e4f',\n    accent1: '#ff80ab',\n    accent2: '#ff4081',\n    accent3: '#f50057',\n    accent4: '#c51162'\n});\nvar purple = Object.freeze({\n    base: '#9c27b0',\n    lighten5: '#f3e5f5',\n    lighten4: '#e1bee7',\n    lighten3: '#ce93d8',\n    lighten2: '#ba68c8',\n    lighten1: '#ab47bc',\n    darken1: '#8e24aa',\n    darken2: '#7b1fa2',\n    darken3: '#6a1b9a',\n    darken4: '#4a148c',\n    accent1: '#ea80fc',\n    accent2: '#e040fb',\n    accent3: '#d500f9',\n    accent4: '#aa00ff'\n});\nvar deepPurple = Object.freeze({\n    base: '#673ab7',\n    lighten5: '#ede7f6',\n    lighten4: '#d1c4e9',\n    lighten3: '#b39ddb',\n    lighten2: '#9575cd',\n    lighten1: '#7e57c2',\n    darken1: '#5e35b1',\n    darken2: '#512da8',\n    darken3: '#4527a0',\n    darken4: '#311b92',\n    accent1: '#b388ff',\n    accent2: '#7c4dff',\n    accent3: '#651fff',\n    accent4: '#6200ea'\n});\nvar indigo = Object.freeze({\n    base: '#3f51b5',\n    lighten5: '#e8eaf6',\n    lighten4: '#c5cae9',\n    lighten3: '#9fa8da',\n    lighten2: '#7986cb',\n    lighten1: '#5c6bc0',\n    darken1: '#3949ab',\n    darken2: '#303f9f',\n    darken3: '#283593',\n    darken4: '#1a237e',\n    accent1: '#8c9eff',\n    accent2: '#536dfe',\n    accent3: '#3d5afe',\n    accent4: '#304ffe'\n});\nvar blue = Object.freeze({\n    base: '#2196f3',\n    lighten5: '#e3f2fd',\n    lighten4: '#bbdefb',\n    lighten3: '#90caf9',\n    lighten2: '#64b5f6',\n    lighten1: '#42a5f5',\n    darken1: '#1e88e5',\n    darken2: '#1976d2',\n    darken3: '#1565c0',\n    darken4: '#0d47a1',\n    accent1: '#82b1ff',\n    accent2: '#448aff',\n    accent3: '#2979ff',\n    accent4: '#2962ff'\n});\nvar lightBlue = Object.freeze({\n    base: '#03a9f4',\n    lighten5: '#e1f5fe',\n    lighten4: '#b3e5fc',\n    lighten3: '#81d4fa',\n    lighten2: '#4fc3f7',\n    lighten1: '#29b6f6',\n    darken1: '#039be5',\n    darken2: '#0288d1',\n    darken3: '#0277bd',\n    darken4: '#01579b',\n    accent1: '#80d8ff',\n    accent2: '#40c4ff',\n    accent3: '#00b0ff',\n    accent4: '#0091ea'\n});\nvar cyan = Object.freeze({\n    base: '#00bcd4',\n    lighten5: '#e0f7fa',\n    lighten4: '#b2ebf2',\n    lighten3: '#80deea',\n    lighten2: '#4dd0e1',\n    lighten1: '#26c6da',\n    darken1: '#00acc1',\n    darken2: '#0097a7',\n    darken3: '#00838f',\n    darken4: '#006064',\n    accent1: '#84ffff',\n    accent2: '#18ffff',\n    accent3: '#00e5ff',\n    accent4: '#00b8d4'\n});\nvar teal = Object.freeze({\n    base: '#009688',\n    lighten5: '#e0f2f1',\n    lighten4: '#b2dfdb',\n    lighten3: '#80cbc4',\n    lighten2: '#4db6ac',\n    lighten1: '#26a69a',\n    darken1: '#00897b',\n    darken2: '#00796b',\n    darken3: '#00695c',\n    darken4: '#004d40',\n    accent1: '#a7ffeb',\n    accent2: '#64ffda',\n    accent3: '#1de9b6',\n    accent4: '#00bfa5'\n});\nvar green = Object.freeze({\n    base: '#4caf50',\n    lighten5: '#e8f5e9',\n    lighten4: '#c8e6c9',\n    lighten3: '#a5d6a7',\n    lighten2: '#81c784',\n    lighten1: '#66bb6a',\n    darken1: '#43a047',\n    darken2: '#388e3c',\n    darken3: '#2e7d32',\n    darken4: '#1b5e20',\n    accent1: '#b9f6ca',\n    accent2: '#69f0ae',\n    accent3: '#00e676',\n    accent4: '#00c853'\n});\nvar lightGreen = Object.freeze({\n    base: '#8bc34a',\n    lighten5: '#f1f8e9',\n    lighten4: '#dcedc8',\n    lighten3: '#c5e1a5',\n    lighten2: '#aed581',\n    lighten1: '#9ccc65',\n    darken1: '#7cb342',\n    darken2: '#689f38',\n    darken3: '#558b2f',\n    darken4: '#33691e',\n    accent1: '#ccff90',\n    accent2: '#b2ff59',\n    accent3: '#76ff03',\n    accent4: '#64dd17'\n});\nvar lime = Object.freeze({\n    base: '#cddc39',\n    lighten5: '#f9fbe7',\n    lighten4: '#f0f4c3',\n    lighten3: '#e6ee9c',\n    lighten2: '#dce775',\n    lighten1: '#d4e157',\n    darken1: '#c0ca33',\n    darken2: '#afb42b',\n    darken3: '#9e9d24',\n    darken4: '#827717',\n    accent1: '#f4ff81',\n    accent2: '#eeff41',\n    accent3: '#c6ff00',\n    accent4: '#aeea00'\n});\nvar yellow = Object.freeze({\n    base: '#ffeb3b',\n    lighten5: '#fffde7',\n    lighten4: '#fff9c4',\n    lighten3: '#fff59d',\n    lighten2: '#fff176',\n    lighten1: '#ffee58',\n    darken1: '#fdd835',\n    darken2: '#fbc02d',\n    darken3: '#f9a825',\n    darken4: '#f57f17',\n    accent1: '#ffff8d',\n    accent2: '#ffff00',\n    accent3: '#ffea00',\n    accent4: '#ffd600'\n});\nvar amber = Object.freeze({\n    base: '#ffc107',\n    lighten5: '#fff8e1',\n    lighten4: '#ffecb3',\n    lighten3: '#ffe082',\n    lighten2: '#ffd54f',\n    lighten1: '#ffca28',\n    darken1: '#ffb300',\n    darken2: '#ffa000',\n    darken3: '#ff8f00',\n    darken4: '#ff6f00',\n    accent1: '#ffe57f',\n    accent2: '#ffd740',\n    accent3: '#ffc400',\n    accent4: '#ffab00'\n});\nvar orange = Object.freeze({\n    base: '#ff9800',\n    lighten5: '#fff3e0',\n    lighten4: '#ffe0b2',\n    lighten3: '#ffcc80',\n    lighten2: '#ffb74d',\n    lighten1: '#ffa726',\n    darken1: '#fb8c00',\n    darken2: '#f57c00',\n    darken3: '#ef6c00',\n    darken4: '#e65100',\n    accent1: '#ffd180',\n    accent2: '#ffab40',\n    accent3: '#ff9100',\n    accent4: '#ff6d00'\n});\nvar deepOrange = Object.freeze({\n    base: '#ff5722',\n    lighten5: '#fbe9e7',\n    lighten4: '#ffccbc',\n    lighten3: '#ffab91',\n    lighten2: '#ff8a65',\n    lighten1: '#ff7043',\n    darken1: '#f4511e',\n    darken2: '#e64a19',\n    darken3: '#d84315',\n    darken4: '#bf360c',\n    accent1: '#ff9e80',\n    accent2: '#ff6e40',\n    accent3: '#ff3d00',\n    accent4: '#dd2c00'\n});\nvar brown = Object.freeze({\n    base: '#795548',\n    lighten5: '#efebe9',\n    lighten4: '#d7ccc8',\n    lighten3: '#bcaaa4',\n    lighten2: '#a1887f',\n    lighten1: '#8d6e63',\n    darken1: '#6d4c41',\n    darken2: '#5d4037',\n    darken3: '#4e342e',\n    darken4: '#3e2723'\n});\nvar blueGrey = Object.freeze({\n    base: '#607d8b',\n    lighten5: '#eceff1',\n    lighten4: '#cfd8dc',\n    lighten3: '#b0bec5',\n    lighten2: '#90a4ae',\n    lighten1: '#78909c',\n    darken1: '#546e7a',\n    darken2: '#455a64',\n    darken3: '#37474f',\n    darken4: '#263238'\n});\nvar grey = Object.freeze({\n    base: '#9e9e9e',\n    lighten5: '#fafafa',\n    lighten4: '#f5f5f5',\n    lighten3: '#eeeeee',\n    lighten2: '#e0e0e0',\n    lighten1: '#bdbdbd',\n    darken1: '#757575',\n    darken2: '#616161',\n    darken3: '#424242',\n    darken4: '#212121'\n});\nvar shades = Object.freeze({\n    black: '#000000',\n    white: '#ffffff',\n    transparent: 'transparent'\n});\nexports.default = Object.freeze({\n    red: red,\n    pink: pink,\n    purple: purple,\n    deepPurple: deepPurple,\n    indigo: indigo,\n    blue: blue,\n    lightBlue: lightBlue,\n    cyan: cyan,\n    teal: teal,\n    green: green,\n    lightGreen: lightGreen,\n    lime: lime,\n    yellow: yellow,\n    amber: amber,\n    orange: orange,\n    deepOrange: deepOrange,\n    brown: brown,\n    blueGrey: blueGrey,\n    grey: grey,\n    shades: shades\n});\n//# sourceMappingURL=colors.js.map","module.exports = __webpack_public_path__ + \"img/sphere_icon_hexa.a7e7dac2.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-entry-card',{attrs:{\"to\":_vm.to || undefined}},[_c('v-container',{staticClass:\"pa-3\",attrs:{\"fluid\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{staticClass:\"text-xs-center d-align-self-center pb-0\",attrs:{\"xs3\":\"\"}},[_c('unit-thumbnail',{attrs:{\"src\":_vm.getImageUrls(_vm.entry.id).ills_thum,\"rarity\":_vm.rarity,\"imageTitle\":_vm.entry.name,\"displayWidth\":_vm.thumbnailSize,\"displayHeight\":_vm.thumbnailSize}})],1),_c('v-flex',{staticClass:\"pb-0\",attrs:{\"xs9\":\"\"}},[_c('v-container',{staticClass:\"pa-0\",attrs:{\"fluid\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',[_c('div',{staticClass:\"d-flex-container items-center\"},[(_vm.entry.element)?_c('element-icon',{staticClass:\"mr-1\",attrs:{\"element\":_vm.entry.element,\"displaySize\":20}}):_vm._e(),_c('h1',{staticClass:\"subheading d-inline-block\",staticStyle:{\"word-break\":\"break-word\"}},[_c('b',{domProps:{\"textContent\":_vm._s(_vm.entry.name || _vm.entry.id)}})])],1)])],1),_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('h2',{staticClass:\"subheading\",staticStyle:{\"white-space\":\"nowrap\"}},[_vm._v(\"# \"+_vm._s(_vm.entry.guide_id))])]),_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs4\":\"\"}},[_c('v-icon',{attrs:{\"color\":_vm.genderIconInfo.color}},[_vm._v(\"fas \"+_vm._s(_vm.genderIconInfo.icon))])],1),_c('v-flex',{staticClass:\"text-xs-right d-align-self-center\",attrs:{\"xs4\":\"\"}},[_c('div',{staticClass:\"d-flex-container items-center content-flex-end\"},[(_vm.rarity < 8)?_c('span',[_vm._v(_vm._s(_vm.rarity))]):_vm._e(),_c('rarity-icon',{class:{ 'ml-1': _vm.rarity !== 8 },attrs:{\"rarity\":_vm.rarity,\"displaySize\":18}})],1)])],1),(_vm.sp && _vm.getSpCost(_vm.entry) > 0)?_c('v-layout',[_c('v-flex',{staticClass:\"mr-1\",staticStyle:{\"flex-grow\":\"0\"}},[_vm._v(\"\\n              \"+_vm._s(_vm.getSpCost(_vm.entry))+\" SP:\\n            \")]),_vm._l((_vm.getSpCategories(_vm.entry)),function(category){return _c('v-flex',{key:(category + \"-\" + (_vm.entry.id)),staticStyle:{\"flex-grow\":\"0\"}},[_c('sp-icon',{attrs:{\"category\":category,\"displaySize\":22}})],1)})],2):_vm._e()],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <base-entry-card :to=\"to || undefined\">\r\n    <v-container fluid class=\"pa-3\">\r\n      <v-layout row>\r\n        <v-flex xs3 class=\"text-xs-center d-align-self-center pb-0\">\r\n          <unit-thumbnail\r\n            :src=\"getImageUrls(entry.id).ills_thum\"\r\n            :rarity=\"rarity\"\r\n            :imageTitle=\"entry.name\"\r\n            :displayWidth=\"thumbnailSize\" :displayHeight=\"thumbnailSize\"/>\r\n        </v-flex>\r\n        <v-flex xs9 class=\"pb-0\">\r\n          <v-container fluid class=\"pa-0\">\r\n            <v-layout row>\r\n              <v-flex>\r\n                <div class=\"d-flex-container items-center\">\r\n                  <element-icon v-if=\"entry.element\" :element=\"entry.element\" :displaySize=\"20\" class=\"mr-1\"/>\r\n                  <h1 class=\"subheading d-inline-block\" style=\"word-break: break-word;\">\r\n                    <b v-text=\"entry.name || entry.id\"/>\r\n                  </h1>\r\n                </div>\r\n              </v-flex>\r\n            </v-layout>\r\n            <v-layout row>\r\n              <v-flex xs4>\r\n                <h2 class=\"subheading\" style=\"white-space: nowrap;\"># {{ entry.guide_id }}</h2>\r\n              </v-flex>\r\n              <v-flex xs4 class=\"text-xs-center\">\r\n                <v-icon :color=\"genderIconInfo.color\">fas {{ genderIconInfo.icon }}</v-icon>\r\n              </v-flex>\r\n              <v-flex xs4 class=\"text-xs-right d-align-self-center\">\r\n                <div class=\"d-flex-container items-center content-flex-end\">\r\n                  <span v-if=\"rarity < 8\">{{ rarity }}</span>\r\n                  <rarity-icon :class=\"{ 'ml-1': rarity !== 8 }\" :rarity=\"rarity\" :displaySize=\"18\"/>\r\n                </div>\r\n              </v-flex>\r\n            </v-layout>\r\n            <v-layout v-if=\"sp && getSpCost(entry) > 0\">\r\n              <v-flex style=\"flex-grow: 0;\" class=\"mr-1\">\r\n                {{ getSpCost(entry) }} SP:\r\n              </v-flex>\r\n              <v-flex\r\n                v-for=\"category in getSpCategories(entry)\"\r\n                :key=\"`${category}-${entry.id}`\"\r\n                style=\"flex-grow: 0;\">\r\n                <sp-icon\r\n                  :category=\"category\"\r\n                  :displaySize=\"22\"/>\r\n              </v-flex>\r\n            </v-layout>\r\n          </v-container>\r\n        </v-flex>\r\n      </v-layout>\r\n    </v-container>\r\n  </base-entry-card>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nimport { getGenderInfo } from '@/modules/utils';\r\nimport { spCodeToIndex, spCodeToEffects } from '@/modules/core/units';\r\nimport EntryCardMixin from '@/components/Multidex/BaseEntryCardMixin';\r\nimport ElementIcon from '@/components/Multidex/ElementIcon';\r\nimport RarityIcon from '@/components/Multidex/RarityIcon';\r\nimport SpIcon from '@/components/Multidex/Units/SpIcon';\r\nimport UnitThumbnail from '@/components/Multidex/Units/UnitThumbnail';\r\n\r\nexport default {\r\n  mixins: [EntryCardMixin],\r\n  props: {\r\n    sp: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n  },\r\n  components: {\r\n    ElementIcon,\r\n    RarityIcon,\r\n    UnitThumbnail,\r\n    SpIcon,\r\n  },\r\n  computed: {\r\n    ...mapGetters('units', ['getImageUrls']),\r\n    genderIconInfo () {\r\n      return getGenderInfo(this.entry.gender);\r\n    },\r\n    rarity () {\r\n      return this.entry.rarity;\r\n    },\r\n    thumbnailSize () {\r\n      const breakpoint = this.$vuetify.breakpoint;\r\n      if (breakpoint.xlOnly) {\r\n        return 64;\r\n      } else if (breakpoint.mdAndUp) {\r\n        return 56;\r\n      } else {\r\n        return 48;\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    getSpCategories (unit = {}) {\r\n      const feSkills = unit.feskills;\r\n      const enhancements = this.sp;\r\n      if (!feSkills || !enhancements) {\r\n        return [];\r\n      }\r\n\r\n      const filteredSkills = spCodeToEffects(enhancements, feSkills)\r\n        .map(s => +s.category);\r\n      return Array.from(new Set(filteredSkills));\r\n    },\r\n    getSpCost (unit = {}) {\r\n      const feSkills = unit.feskills;\r\n      const enhancements = this.sp;\r\n      if (!feSkills || !enhancements) {\r\n        return 0;\r\n      }\r\n      return enhancements.split('')\r\n        .map(char => feSkills[spCodeToIndex(char)])\r\n        .filter(v => v)\r\n        .reduce((acc, s) => acc + +s.skill.bp, 0);\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EntryCard.vue?vue&type=template&id=01770aec&\"\nimport script from \"./EntryCard.vue?vue&type=script&lang=js&\"\nexport * from \"./EntryCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/question_frame_1.ddabf6eb.png\";"],"sourceRoot":""}