{"version":3,"sources":["webpack:///./node_modules/lodash/throttle.js","webpack:///./src/components/Tools/Squads/MultidexSelectors/UnitSelector.vue?e050","webpack:///src/components/Tools/Squads/MultidexSelectors/UnitSelector.vue","webpack:///./src/components/Tools/Squads/MultidexSelectors/UnitSelector.vue?e70a","webpack:///./src/components/Tools/Squads/MultidexSelectors/UnitSelector.vue","webpack:///./src/modules/core/compare.js","webpack:///./src/components/Tools/TierListCreator/CategoryConfig.vue?3543","webpack:///./src/views/Tools/TierListCreator.vue?1cdd","webpack:///./src/components/Tools/TierListCreator/Main.vue?e893","webpack:///./src/components/Tools/TierListCreator/TierListInputArea.vue?77b6","webpack:///./src/modules/core/tier-list-creator.js","webpack:///./src/components/Tools/TierListCreator/TierListMainSvg.vue?9256","webpack:///./src/components/SvgFlowText.vue?3742","webpack:///./src/modules/TextFlow/index.js","webpack:///src/components/SvgFlowText.vue","webpack:///./src/components/SvgFlowText.vue?4301","webpack:///./src/components/SvgFlowText.vue","webpack:///./src/components/Tools/TierListCreator/MultiLineSvgText.vue?5eaf","webpack:///src/components/Tools/TierListCreator/MultiLineSvgText.vue","webpack:///./src/components/Tools/TierListCreator/MultiLineSvgText.vue?81e9","webpack:///./src/components/Tools/TierListCreator/MultiLineSvgText.vue","webpack:///src/components/Tools/TierListCreator/TierListMainSvg.vue","webpack:///./src/components/Tools/TierListCreator/TierListMainSvg.vue?6e38","webpack:///./src/components/Tools/TierListCreator/TierListMainSvg.vue","webpack:///./src/components/Tools/TierListCreator/CategoryConfig.vue?bd64","webpack:///./src/components/Tools/TierListCreator/IndividualEntryConfig.vue?64a4","webpack:///src/components/Tools/TierListCreator/IndividualEntryConfig.vue","webpack:///./src/components/Tools/TierListCreator/IndividualEntryConfig.vue?db20","webpack:///./src/components/Tools/TierListCreator/IndividualEntryConfig.vue","webpack:///./src/components/Tools/TierListCreator/CategoryTextConfig.vue?5d77","webpack:///src/components/Tools/TierListCreator/CategoryTextConfig.vue","webpack:///./src/components/Tools/TierListCreator/CategoryTextConfig.vue?353f","webpack:///./src/components/Tools/TierListCreator/CategoryTextConfig.vue","webpack:///src/components/Tools/TierListCreator/CategoryConfig.vue","webpack:///./src/components/Tools/TierListCreator/CategoryConfig.vue?1f66","webpack:///./src/components/Tools/TierListCreator/CategoryConfig.vue","webpack:///./src/components/Tools/TierListCreator/MultidexLinks.vue?f268","webpack:///src/components/Tools/TierListCreator/MultidexLinks.vue","webpack:///./src/components/Tools/TierListCreator/MultidexLinks.vue?3ed2","webpack:///./src/components/Tools/TierListCreator/MultidexLinks.vue","webpack:///src/components/Tools/TierListCreator/TierListInputArea.vue","webpack:///./src/components/Tools/TierListCreator/TierListInputArea.vue?48c2","webpack:///./src/components/Tools/TierListCreator/TierListInputArea.vue","webpack:///src/components/Tools/TierListCreator/Main.vue","webpack:///./src/components/Tools/TierListCreator/Main.vue?385d","webpack:///./src/components/Tools/TierListCreator/Main.vue","webpack:///src/views/Tools/TierListCreator.vue","webpack:///./src/views/Tools/TierListCreator.vue?72c1","webpack:///./src/views/Tools/TierListCreator.vue","webpack:///./src/components/OneLineTextViewer.vue?494c","webpack:///src/components/OneLineTextViewer.vue","webpack:///./src/components/OneLineTextViewer.vue?637b","webpack:///./src/components/OneLineTextViewer.vue","webpack:///./src/components/Tools/Squads/MultidexSelectors/BaseSelector.vue?3a4c","webpack:///src/components/Tools/Squads/MultidexSelectors/BaseSelector.vue","webpack:///./src/components/Tools/Squads/MultidexSelectors/BaseSelector.vue?4b16","webpack:///./src/components/Tools/Squads/MultidexSelectors/BaseSelector.vue","webpack:///./src/components/Tools/TierListCreator/TierListInputArea.vue?58cd"],"names":["debounce","isObject","FUNC_ERROR_TEXT","throttle","func","wait","options","leading","trailing","TypeError","module","exports","render","_vm","this","_h","$createElement","_c","_self","attrs","showCancelButton","nameFilter","hasSelection","requiredModules","allIds","on","$i","toLowerCase","$event","$emit","scopedSlots","_u","key","fn","ref","entries","_l","entry","staticClass","staticStyle","pageDb","nativeOn","sendEntry","staticRenderFns","props","type","Boolean","default","components","BaseSelector","EntryCard","computed","$store","state","units","data","methods","hasName","name","includes","query","id","dbClient","getById","server","settings","activeServer","component","convertCompareCodeToInput","input","split","idAndOptions","COMPARE_KEY_ORDER","undefined","convertCompareInputToCode","baseCode","Array","isArray","join","generateCompareInput","getEntryCardType","COMPARE_KEY_MAPPING","unit","item","es","ls","bb","parsedConfiguration","categories","config","_v","model","value","callback","$$v","svgConfig","expression","tabs","currentTabIndex","slot","importCode","applyImportCode","_s","showTitles","titleLeft","titleMiddle","titleRight","footerLeft","class","lightMode","activeImageType","unitNumberPositionKeys","unitNumberPosition","getSetterForSvgProperty","showUnitNumbers","domProps","unitNumberFill","unitNumberStroke","unitNumberSize","categoryWidth","$v","updateMaxEntries","maxEntriesPerRow","shareableConfigCode","scaleFactor","getEstimatedDimensionsText","onGenerateButtonClick","generateImageLinkPromise","result","downloadLink","directives","rawName","transformedSvgConfigPromise","showGeneratingDialog","imageGenerationErrorMessage","cancelImageGeneration","DEFAULT_FONT_SIZE","DEFAULT_FONT_WEIGHT","DEFAULT_TEXT_DECORATION","DEFAULT_FONT_STYLE","SHORTHAND_MAPPINGS","Object","freeze","FULL_TO_SHORT_FONT_ATTRIBUTE_MAPPINGS","SHORT_TO_FULL_FONT_ATTRIBUTE_MAPPINGS","map","full","short","convertCodeToCategory","isUriComponent","textColor","backgroundColor","fontSize","fontModifications","c","replaceWithMapping","fontWeight","textDecoration","fontStyle","decodeURIComponent","colors","shades","black","white","isNaN","replaceCharacters","str","replacementMapping","currentStr","slice","forEach","oldChar","newChar","replace","mapPair","find","convertCategoryToCode","textColorCode","backgroundColorCode","cleanedName","v","convertCodeToEntry","convertedInput","altArtId","convertEntryToCode","generateTierListCode","categoriesCode","entriesCode","_","i","configCode","keys","sort","filter","JSON","stringify","keyMap","originalKey","shorthandKey","splitOnFirstDelimiter","delimiter","startIndex","indexOf","parseTierListCode","code","hasUriComponents","cleanedCode","entriesAndConfigCode","categoryCode","rawEntries","categoryEntries","pair","cleanedValue","parse","reduce","acc","fetchBase64Png","url","BASE_URL","fetch","encodeURIComponent","then","res","ok","text","Promise","reject","statusText","b64","getDefaultCategories","red","accent1","orange","yellow","lighten1","green","lighten2","blue","style","viewBox","titleHeight","titles","titleFooterAlignmentConfig","left","x","GENERAL_SVG_CONFIG","PADDING","textAnchor","TITLE_FONT_SIZE","FONT_FAMILY","_e","middle","right","category","getCategoryCellStyle","trackHeight","BASE_ROW_HEIGHT","y","FONT_SIZE","getCategoryTextStyle","baseTrackConfig","width","j","getEntryXOffset","getEntryYOffset","ENTRY_SIZE","base64Url","imgUrl","showEntryNumber","guideId","unitNumberConfig","yOffset","fill","stroke","footers","overallHeight","FOOTER_FONT_SIZE","DISCLAIMER_FONT_SIZE","_b","$attrs","svgNS","getData","callBackFunction","returnFormat","method","postText","additionalParams","alert","xmlRequest","textFlow","myText","textToAppend","maxWidth","ddy","justified","dashArray","dashFound","indexPos","cumulY","push","myTextNode","tspanEl","words","line","dy","curNumChars","computedTextLength","length","word","tempText","firstChild","nodeValue","nrWords","getComputedTextLength","additionalWordSpacing","setAttributeNS","document","createElementNS","createTextNode","appendChild","checkDashPosition","pos","prototype","window","getURL","postURL","XMLHttpRequest","_this","overrideMimeType","open","onreadystatechange","handleEvent","send","reallyPost","operationComplete","success","node","parseXML","content","receiveData","readyState","parser","DOMParser","doc","parseFromString","responseText","importedNode","importNode","documentElement","flowText","String","required","flowMaxWidth","Number","flowX","flowLineHeight","flowJustified","mounted","runTextFlow","$el","innerHTML","height","watch","getTextAttributes","textAttributes","containerHeight","lines","centerText","group","setAttribute","MAX_ENTRIES_PER_ROW","CATEGORY_WIDTH","FONT_STYLE","FONT_WEIGHT","TEXT_DECORATION","FlowText","MultiLineText","mainSvgStyle","getTitleFooterConfigForAlignment","overallWidth","categoriesConfig","previousYOffset","extraHeight","associatedInput","headerFooterTextStyle","footerRight","position","size","alignment","leftOffset","active","expandedEntries","toggleExpandedEntry","editableNameValues","updateCategoryValue","getFontModificationMappingForCategory","handleModificationMappingUpdate","target","swapOrderForCategory","deleteCategory","getEntriesForCategory","e","newIndex","swapOrderForEntry","deleteEntry","newEntry","replaceEntry","moveEntryToCategory","categoryToAddTo","activeDialog","addCategory","$d","addEntry","alternateArtId","applyNewAlternateId","_g","showCategoriesDialog","currentCategoryIndex","moveToNewCategory","numCategories","entryIndex","numEntries","immediate","handler","newValue","isMultiLine","localValue","hasDirtyInput","emitChange","IndividualEntryConfig","CategoryTextConfig","UnitSelector","hasEntries","allEntries","index","emitNewValue","emitNewEntriesForCategory","categoryIndex","newFullEntries","newEntries","oldIndex","oldCategoryIndex","newCategoryIndex","oldCategoryEntries","newCategoryEntries","concat","newCategory","newCategories","categoryAtNewIndex","categoryAtOldIndex","entriesAtNewIndex","entriesAtOldIndex","throttledUpdateCategoryValue","values","fontModificationValues","entryIdSet","dataByEntry","get","linkByEntry","UnitEntryCard","add","from","mapping","set","getUnit","getUrl","inputCategories","inputEntries","inputConfig","PromiseWait","CardTabsContainer","TierListSvg","CategoryConfig","OneLineTextViewer","MultidexLinks","titleKeys","currentConfigCode","hasEntriesWithoutUrl","some","defaultCode","IMAGE_TYPES","generateDefaultSvgConfig","resolve","urlToBase64Mapping","Map","showGeneratedSvg","svgPropertySetters","svg","generateImageLink","updateKeyInSvgConfig","throttledUpdateKeyInSvgConfig","getExpandedInputEntries","suffix","urls","guide_id","ensureOverflowIsOff","disableHtmlOverflow","commit","setter","propertyName","defaultValue","oldValue","URL","revokeObjectURL","svgConfigKey","newVal","imageType","$route","$router","path","newWidth","actualNewWidth","setTimeout","defalt","TierListInputArea","ModuleChecker","TierListCreatorPage","isFirstLoad","storeCode","debouncedCodeUpdate","beforeRouteLeave","cancel","next","inputText","label","CopyButton","searchHint","_k","keyCode","sendQuery","hasDirtyQuery","_t","entriesToShow","numPages","$vuetify","breakpoint","mdAndUp","currentPage","allEntryIds","entriesPerPage","LoadingIndicator","Math","ceil"],"mappings":"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","file":"js/tierlist.122a81cf.js","sourcesContent":["var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-selector',{attrs:{\"showCancelButton\":_vm.showCancelButton,\"value\":_vm.nameFilter,\"hasSelection\":_vm.hasSelection,\"requiredModules\":_vm.requiredModules,\"allEntryIds\":_vm.allIds},on:{\"input\":function ($i) { return _vm.nameFilter = ($i || '').toLowerCase(); },\"cancel\":function($event){return _vm.$emit('cancel')}},scopedSlots:_vm._u([{key:\"entries\",fn:function(ref){\nvar entries = ref.entries;\nreturn _c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((entries),function(entry){return _c('v-flex',{key:entry,attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\",\"xl3\":\"\"}},[_c('entry-card',{staticClass:\"ma-2\",staticStyle:{\"background\":\"var(--background-color)\",\"cursor\":\"pointer\"},attrs:{\"entry\":_vm.pageDb[entry]},nativeOn:{\"click\":function($event){return _vm.sendEntry(entry)}}})],1)}),1)}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <base-selector\n    :showCancelButton=\"showCancelButton\"\n    :value=\"nameFilter\"\n    :hasSelection=\"hasSelection\"\n    @input=\"$i => nameFilter = ($i || '').toLowerCase()\"\n    @cancel=\"$emit('cancel')\"\n    :requiredModules=\"requiredModules\"\n    :allEntryIds=\"allIds\">\n    <v-layout row wrap slot=\"entries\" slot-scope=\"{ entries }\">\n      <v-flex\n        v-for=\"entry in entries\"\n        :key=\"entry\"\n        xs12 sm6 md4 xl3>\n        <entry-card\n          class=\"ma-2\"\n          style=\"background: var(--background-color); cursor: pointer;\"\n          @click.native=\"sendEntry(entry)\"\n          :entry=\"pageDb[entry]\"/>\n      </v-flex>\n    </v-layout>\n  </base-selector>\n</template>\n\n<script>\nimport BaseSelector from '@/components/Tools/Squads/MultidexSelectors/BaseSelector';\nimport EntryCard from '@/components/Multidex/Units/EntryCard';\nimport { makeMultidexTableInstance } from '@/modules/BfmtDatabase/client';\n\nconst dbClient = makeMultidexTableInstance('units');\nexport default {\n  props: {\n    showCancelButton: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  components: {\n    BaseSelector,\n    EntryCard,\n  },\n  computed: {\n    requiredModules () {\n      return ['units'];\n    },\n    pageDb () {\n      return this.$store.state.units.pageDb;\n    },\n    allIds () {\n      const allKeys = Object.keys(this.pageDb);\n      return !this.nameFilter\n        ? allKeys\n        : allKeys.filter(k => this.hasName(this.pageDb[k].name, this.nameFilter));\n    },\n  },\n  data () {\n    return {\n      nameFilter: '',\n      hasSelection: false,\n    };\n  },\n  methods: {\n    hasName (name = '', query = '') {\n      return name.toLowerCase().includes(query);\n    },\n    sendEntry (id) {\n      this.hasSelection = true;\n      this.$emit('input', {\n        id,\n        data: dbClient.getById({\n          server: this.$store.state.settings.activeServer,\n          id,\n        }).catch(() => ({})),\n      });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UnitSelector.vue?vue&type=template&id=e48749a6&\"\nimport script from \"./UnitSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./UnitSelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { COMPARE_KEY_ORDER, COMPARE_KEY_MAPPING } from '@/modules/constants';\n\nexport function convertCompareCodeToInput (input = '') {\n  const [type, idAndOptions] = input.split('-');\n  const [id, options] = (idAndOptions || '').split('_');\n\n  return COMPARE_KEY_ORDER.includes(type)\n    ? { type, id, options }\n    : undefined;\n}\n\nexport function convertCompareInputToCode ({ type = '', id = '', options = '' } = {}) {\n  const baseCode = `${type}-${id}`;\n  return options\n    ? `${baseCode}_${Array.isArray(options) ? options.join('~') : options}`\n    : baseCode;\n}\n\nexport function generateCompareInput ({ type = '', id = '', options }) {\n  return { type, id, options };\n}\n\nexport function getEntryCardType (type) {\n  switch(type) {\n    case COMPARE_KEY_MAPPING.unit.key: return 'UnitEntryCard';\n    case COMPARE_KEY_MAPPING.item.key: return 'ItemEntryCard';\n    case COMPARE_KEY_MAPPING.es.key: return 'ExtraSkillEntryCard';\n    case COMPARE_KEY_MAPPING.ls.key: return 'LeaderSkillEntryCard';\n    case COMPARE_KEY_MAPPING.bb.key: return 'BurstEntryCard';\n    default: return 'BaseEntryCard';\n  }\n}\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryConfig.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryConfig.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('module-checker',{attrs:{\"requiredModules\":_vm.requiredModules,\"ensureDbSync\":true}},[_c('tier-list-creator-page',{attrs:{\"categories\":_vm.parsedConfiguration.categories,\"entries\":_vm.parsedConfiguration.entries,\"config\":_vm.parsedConfiguration.config}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-layout',{attrs:{\"column\":\"\"}},[_c('p',[_vm._v(\"Create and share your own tier list for Brave Frontier! Use the configuration controls below to setup categories and entries per category. Once you're ready, go to the \"),_c('b',[_vm._v(\"Export\")]),_vm._v(\" tab to generate and download the image. Note that even if you're able to download the resulting image here, it is not hosted anywhere; you will need to upload the image on your preferred image host or host the image yourself.\")]),_c('p',[_c('strong',[_vm._v(\"Note:\")]),_vm._v(\" This only works in Chrome and Chromium-based browsers.\")])]),_c('tier-list-input-area',{staticClass:\"flex\",attrs:{\"inputCategories\":_vm.categories,\"inputEntries\":_vm.entries,\"inputConfig\":_vm.config}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"tier-list-input-area\"},[_c('section',{staticClass:\"tier-list-svg-container\"},[_c('tier-list-svg',{attrs:{\"id\":\"tier-list-svg\"},model:{value:(_vm.svgConfig),callback:function ($$v) {_vm.svgConfig=$$v},expression:\"svgConfig\"}})],1),_c('card-tabs-container',{attrs:{\"tabs\":_vm.tabs,\"containerClass\":\"pt-1 px-0\"},model:{value:(_vm.currentTabIndex),callback:function ($$v) {_vm.currentTabIndex=$$v},expression:\"currentTabIndex\"}},[_c('v-container',{staticClass:\"py-0 px-1\",attrs:{\"slot\":\"general\",\"fluid\":\"\",\"grid-list-md\":\"\"},slot:\"general\"},[_c('v-layout',{attrs:{\"align-baseline\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Import Code\",\"persistent-hint\":\"\",\"hint\":\"Apply an empty code to reset the tier list\"},model:{value:(_vm.importCode),callback:function ($$v) {_vm.importCode=$$v},expression:\"importCode\"}}),_c('v-btn',{attrs:{\"flat\":!_vm.importCode},on:{\"click\":_vm.applyImportCode}},[_vm._v(\"\\n          \"+_vm._s(_vm.importCode ? 'Import' : 'Reset')+\"\\n        \")])],1),_c('v-layout',{attrs:{\"align-baseline\":\"\"}},[_c('h3',[_vm._v(\"Header Text\")]),_c('v-switch',{staticClass:\"px-2 mt-0\",attrs:{\"hide-details\":\"\"},model:{value:(_vm.showTitles),callback:function ($$v) {_vm.showTitles=$$v},expression:\"showTitles\"}})],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Left Title\",\"disabled\":!_vm.showTitles},model:{value:(_vm.titleLeft),callback:function ($$v) {_vm.titleLeft=$$v},expression:\"titleLeft\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Middle Title\",\"disabled\":!_vm.showTitles},model:{value:(_vm.titleMiddle),callback:function ($$v) {_vm.titleMiddle=$$v},expression:\"titleMiddle\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Right Title\",\"disabled\":!_vm.showTitles},model:{value:(_vm.titleRight),callback:function ($$v) {_vm.titleRight=$$v},expression:\"titleRight\"}})],1)],1),_c('v-layout',[_c('h3',[_vm._v(\"Footer Text\")])]),_c('v-flex',[_c('v-text-field',{attrs:{\"label\":\"Left Footer\"},model:{value:(_vm.footerLeft),callback:function ($$v) {_vm.footerLeft=$$v},expression:\"footerLeft\"}})],1)],1),_c('section',{attrs:{\"slot\":\"links\"},slot:\"links\"},[_c('multidex-links',{attrs:{\"entries\":_vm.svgConfig.entries}})],1),_c('section',{attrs:{\"slot\":\"entries\"},slot:\"entries\"},[_c('v-layout',{staticClass:\"px-2\",attrs:{\"wrap\":\"\",\"align-baseline\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"md3\":\"\"}},[_c('label',{class:{\n            'v-label': true,\n            'theme--dark': !_vm.$store.state.settings.lightMode,\n            'theme--light': _vm.$store.state.settings.lightMode\n          }},[_vm._v(\"Image Type\")])]),_vm._l((_vm.IMAGE_TYPES),function(type){return _c('v-flex',{key:type.key,attrs:{\"md3\":\"\",\"xs12\":\"\"}},[_c('v-btn',{attrs:{\"outline\":_vm.activeImageType === type.key,\"flat\":\"\",\"block\":\"\"},on:{\"click\":function($event){_vm.activeImageType = type.key}}},[_vm._v(\"\\n            \"+_vm._s(type.name)+\"\\n          \")])],1)})],2),_c('v-layout',{staticClass:\"px-2\",attrs:{\"column\":\"\",\"align-baseline\":\"\"}},[_c('v-layout',{staticStyle:{\"width\":\"100%\"},attrs:{\"align-baseline\":\"\"}},[_c('label',{class:{\n            'v-label': true,\n            'theme--dark': !_vm.$store.state.settings.lightMode,\n            'theme--light': _vm.$store.state.settings.lightMode\n          }},[_vm._v(\"Unit Numbers\")]),_c('v-select',{staticClass:\"px-2\",attrs:{\"items\":_vm.unitNumberPositionKeys,\"value\":_vm.svgConfig.unitNumberPosition},on:{\"input\":function($event){_vm.getSetterForSvgProperty('unitNumberPosition')($event)}}})],1),_c('v-layout',{staticClass:\"px-2\",staticStyle:{\"width\":\"100%\"},attrs:{\"row\":\"\",\"wrap\":\"\",\"align-baseline\":\"\"}},[_c('v-flex',[_c('label',[_vm._v(\"\\n              Text Fill Color\\n              \"),_c('input',{attrs:{\"type\":\"color\",\"disabled\":!_vm.showUnitNumbers},domProps:{\"value\":_vm.svgConfig.unitNumberFill},on:{\"input\":function($event){_vm.getSetterForSvgProperty('unitNumberFill')($event)}}})])]),_c('v-flex',[_c('label',[_vm._v(\"\\n              Text Stroke Color\\n              \"),_c('input',{attrs:{\"type\":\"color\",\"disabled\":!_vm.showUnitNumbers},domProps:{\"value\":_vm.svgConfig.unitNumberStroke},on:{\"input\":function($event){_vm.getSetterForSvgProperty('unitNumberStroke')($event)}}})])]),_c('v-flex',[_c('v-text-field',{staticClass:\"px-1\",attrs:{\"label\":\"Font Size\",\"disabled\":!_vm.showUnitNumbers,\"value\":_vm.svgConfig.unitNumberSize,\"hint\":\"Default: 20\",\"persistent-hint\":\"\"},on:{\"change\":function($event){_vm.getSetterForSvgProperty('unitNumberSize')($event)}}})],1)],1)],1),_c('v-layout',{staticClass:\"px-2\",attrs:{\"wrap\":\"\",\"align-baseline\":\"\"}},[_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.categoryWidth = _vm.categoryWidth - 10}}},[_vm._v(\"\\n          -10\\n        \")]),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.categoryWidth = _vm.categoryWidth - 1}}},[_vm._v(\"\\n          -1\\n        \")]),_c('v-flex',[_c('v-text-field',{attrs:{\"label\":\"Category Width\",\"value\":_vm.categoryWidth,\"hide-details\":\"\"},on:{\"change\":function ($v) { return _vm.categoryWidth = +$v >= 0 ? +$v : 100; }}})],1),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.categoryWidth = _vm.categoryWidth + 1}}},[_vm._v(\"\\n          +1\\n        \")]),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.categoryWidth = _vm.categoryWidth + 10}}},[_vm._v(\"\\n          +10\\n        \")])],1),_c('v-layout',{staticClass:\"px-2\"},[_c('v-slider',{attrs:{\"label\":\"Max Entries per Row\",\"thumb-label\":\"always\",\"thumb-size\":\"24\",\"hide-details\":\"\",\"min\":\"3\",\"max\":\"20\"},on:{\"change\":_vm.updateMaxEntries},model:{value:(_vm.maxEntriesPerRow),callback:function ($$v) {_vm.maxEntriesPerRow=$$v},expression:\"maxEntriesPerRow\"}})],1),_c('category-config',{model:{value:(_vm.svgConfig),callback:function ($$v) {_vm.svgConfig=$$v},expression:\"svgConfig\"}})],1),_c('v-layout',{attrs:{\"slot\":\"export\",\"column\":\"\"},slot:\"export\"},[_c('v-layout',[_c('v-text-field',{key:_vm.shareableConfigCode,attrs:{\"label\":\"Scale Factor\",\"value\":_vm.scaleFactor,\"hint\":_vm.getEstimatedDimensionsText(),\"persistent-hint\":\"\"},on:{\"change\":function ($v) { return _vm.scaleFactor = +$v > 0 ? +$v : 1; }}})],1),_c('v-layout',[_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('v-btn',{staticClass:\"mr-2\",attrs:{\"block\":\"\"},on:{\"click\":_vm.onGenerateButtonClick}},[_vm._v(\"\\n            Generate Image\\n          \")])],1),_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('promise-wait',{attrs:{\"promise\":_vm.generateImageLinkPromise},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n          var result = ref.result;\nreturn [_c('v-btn',{staticClass:\"ml-2\",attrs:{\"block\":\"\",\"color\":(result.downloadLink && 'primary') || undefined,\"disabled\":!result.downloadLink,\"href\":result.downloadLink,\"target\":\"_blank\"}},[_vm._v(\"\\n                Download Image\\n              \")])]}}])},[_c('template',{slot:\"loading\"},[_c('v-btn',{staticClass:\"ml-2\",attrs:{\"block\":\"\",\"disabled\":\"\",\"loading\":\"\"}})],1)],2)],1)],1),_c('v-flex',[_c('one-line-text-viewer',{attrs:{\"inputText\":_vm.shareableConfigCode,\"label\":\"Code\",\"value\":_vm.shareableConfigCode}})],1)],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showGeneratedSvg),expression:\"showGeneratedSvg\"}],staticStyle:{\"position\":\"absolute\",\"left\":\"-100%\",\"top\":\"-100%\"}},[_c('promise-wait',{attrs:{\"promise\":_vm.transformedSvgConfigPromise},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n          var result = ref.result;\nreturn [_c('tier-list-svg',{attrs:{\"value\":result,\"id\":\"tier-list-svg-transformed\"}})]}}])},[_c('span',{attrs:{\"slot\":\"loading\"},slot:\"loading\"})])],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500\"},model:{value:(_vm.showGeneratingDialog),callback:function ($$v) {_vm.showGeneratingDialog=$$v},expression:\"showGeneratingDialog\"}},[_c('v-card',[_c('v-container',{attrs:{\"justify-center\":\"\",\"align-center\":\"\"}},[_c('v-layout',[_vm._v(\"\\n          Generating Output Image\\n        \")]),(!_vm.imageGenerationErrorMessage)?_c('v-layout',[_c('v-progress-linear',{attrs:{\"indeterminate\":\"\"}})],1):_c('v-layout',[_c('v-alert',{attrs:{\"value\":true,\"type\":\"error\"}},[_c('span',{domProps:{\"textContent\":_vm._s(_vm.imageGenerationErrorMessage)}})])],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":_vm.cancelImageGeneration}},[_vm._v(\"\\n          Cancel\\n        \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import colors from 'vuetify/es5/util/colors';\nimport { convertCompareCodeToInput } from './compare';\n\nconst DEFAULT_FONT_SIZE = 16;\nconst DEFAULT_FONT_WEIGHT = 'normal';\nconst DEFAULT_TEXT_DECORATION = 'unset';\nconst DEFAULT_FONT_STYLE = 'normal';\nconst SHORTHAND_MAPPINGS = Object.freeze([\n  ['footerLeft', 'fL'],\n  ['titleLeft', 'tL'],\n  ['titleMiddle', 'tM'],\n  ['titleRight', 'tR'],\n  ['unitNumberPosition', 'uNP'],\n  ['unitNumberStroke', 'uNSC'],\n  ['unitNumberFill', 'uNFC'],\n  ['unitNumberSize', 'uNS'],\n  ['imageType', 'iT'],\n  ['scaleFactor', 'sF'],\n  ['maxEntriesPerRow', 'mEPR'],\n]);\nconst FULL_TO_SHORT_FONT_ATTRIBUTE_MAPPINGS = Object.freeze([\n  ['normal', 'n'],\n  ['unset', 'u'],\n  ['bold', 'b'],\n  ['italic', 'i'],\n  ['underline', 'l'],\n]);\nconst SHORT_TO_FULL_FONT_ATTRIBUTE_MAPPINGS = FULL_TO_SHORT_FONT_ATTRIBUTE_MAPPINGS.map(([full, short]) => [short, full]);\n\nexport function convertCodeToCategory (input = '', isUriComponent) {\n  const [name = 'Category', textColor, backgroundColor, fontSize = DEFAULT_FONT_SIZE, fontModifications = 'nun'] = input.split('-');\n  const [fontWeight = DEFAULT_FONT_WEIGHT, textDecoration = DEFAULT_TEXT_DECORATION, fontStyle = DEFAULT_FONT_STYLE] = fontModifications.split('').map((c) => replaceWithMapping(c[0], SHORT_TO_FULL_FONT_ATTRIBUTE_MAPPINGS));\n\n  return {\n    name: isUriComponent ? decodeURIComponent(name) : name,\n    // text and background color are hex values without hashes\n    textColor: textColor ? `#${textColor}` : colors.shades.black,\n    backgroundColor: backgroundColor ? `#${backgroundColor}` : colors.shades.white,\n    fontSize: (!isNaN(fontSize) && +fontSize > 0) ? fontSize : DEFAULT_FONT_SIZE,\n    fontWeight,\n    textDecoration,\n    fontStyle,\n  };\n}\n\nfunction replaceCharacters (str = '', replacementMapping = []) {\n  let currentStr = str.slice();\n  replacementMapping.forEach(([oldChar, newChar]) => {\n    currentStr = currentStr.replace(oldChar, newChar);\n  });\n  return currentStr;\n}\n\nfunction replaceWithMapping (str = '', replacementMapping = []) {\n  const mapPair = replacementMapping.find(([key]) => key === str) || [];\n  return mapPair[1] || str;\n}\n\nexport function convertCategoryToCode ({\n  name = '',\n  textColor,\n  backgroundColor,\n  fontSize = DEFAULT_FONT_SIZE,\n  fontWeight = DEFAULT_FONT_WEIGHT,\n  textDecoration = DEFAULT_TEXT_DECORATION,\n  fontStyle = DEFAULT_FONT_STYLE,\n}) {\n  let textColorCode, backgroundColorCode;\n  if (textColor) {\n    textColorCode = textColor[0] === '#' ? textColor.slice(1): textColor;\n  } else {\n    textColorCode = '';\n  }\n\n  if (backgroundColor) {\n    backgroundColorCode = backgroundColor[0] === '#' ? backgroundColor.slice(1) : backgroundColor;\n  } else {\n    backgroundColorCode = '';\n  }\n\n  const cleanedName = replaceCharacters(name, [[/-/g, ''], [/\\./g, '']]);\n  const fontModifications = [fontWeight, textDecoration, fontStyle]\n    .map((v) => replaceWithMapping(v, FULL_TO_SHORT_FONT_ATTRIBUTE_MAPPINGS))\n    .join('');\n  return `${cleanedName}-${textColorCode}-${backgroundColorCode}-${fontSize}-${fontModifications}`;\n}\n\nexport function convertCodeToEntry (input = '') {\n  const convertedInput = convertCompareCodeToInput(input);\n  let result;\n  if (convertedInput) {\n    result = {\n      type: convertedInput.type,\n      id: convertedInput.id,\n      altArtId: convertedInput.options || '',\n    };\n  }\n  return result;\n}\n\nexport function convertEntryToCode ({ type, id, altArtId }) {\n  const baseCode = `${type}-${id}`;\n  return altArtId\n    ? `${baseCode}_${altArtId}`\n    : baseCode;\n}\n\nexport function generateTierListCode (categories = [], entries = [], config = {}) {\n  const categoriesCode = categories\n    .map(convertCategoryToCode)\n    .join(',');\n  const entriesCode = categories\n    .map((_, i) => (entries[i] || []).map(convertEntryToCode).join(','))\n    .join('!');\n  const configCode = Object.keys(config)\n    .sort()\n    .filter(key => key !== '' && (!!key || key === 0)) // get truthy keys (or 0 for arrays)\n    .map(key => {\n      const value = typeof config[key] === 'object'\n        ? JSON.stringify(config[key])\n        : config[key];\n      const keyMap = SHORTHAND_MAPPINGS.find(([originalKey]) => originalKey === key) || [];\n      const shorthandKey = keyMap[1] || key;\n      return `${shorthandKey}!${value}`;\n    })\n    .join('~');\n  return `${categoriesCode}.${entriesCode}.${configCode}`;\n}\n\nfunction splitOnFirstDelimiter (str = '', delimiter = ',') {\n  const startIndex = str.indexOf(delimiter);\n  let result;\n  if (startIndex > -1) {\n    result = [str.slice(0, startIndex), str.slice(startIndex + 1)];\n  } else {\n    result = [str];\n  }\n  return result;\n}\n\nexport function parseTierListCode (code = '', hasUriComponents = false) {\n  const cleanedCode = hasUriComponents ? decodeURIComponent(code) : code.slice();\n  const [categoriesCode = '', entriesAndConfigCode = ''] = splitOnFirstDelimiter(cleanedCode, '.');\n  const [entriesCode = '', configCode = ''] = splitOnFirstDelimiter(entriesAndConfigCode, '.');\n  const categories = categoriesCode\n    .split(',')\n    .map(categoryCode => convertCodeToCategory(categoryCode))\n    .filter(v => v);\n\n  const rawEntries = entriesCode\n    .split('!');\n  const entries = categories.map((_, i) => {\n    const categoryEntries = rawEntries[i] || '';\n    return categoryEntries\n      .split(',')\n      .map(convertCodeToEntry)\n      .filter(v => v);\n  });\n\n  const config = configCode\n    .split('~')\n    .map((pair = '') => {\n      const [key = '', value = ''] = splitOnFirstDelimiter(pair, '!');\n      let cleanedValue = value;\n      if ((value.includes('{') && value.includes('}')) || (value.includes('[') && value.includes(']'))) {\n        try {\n          cleanedValue = JSON.parse(value);\n        } catch {\n          cleanedValue = value;\n        }\n      } else if (value === 'true' || value === 'false') {\n        cleanedValue = value === 'true';\n      } else if (value === 'null') {\n        cleanedValue = null;\n      } else if (value === 'undefined') {\n        cleanedValue = undefined;\n      } else if (!isNaN(value) && value !== '') {\n        cleanedValue = +value;\n      }\n      return [key, cleanedValue];\n    }).reduce((acc, [key, value]) => {\n      if (key) {\n        const keyMap = SHORTHAND_MAPPINGS.find(([, shorthandKey]) => shorthandKey === key) || [];\n        const originalKey = keyMap[0] || key;\n        acc[originalKey] = value;\n      }\n      return acc;\n    }, {});\n  return {\n    categories,\n    entries,\n    config,\n  };\n}\n\nexport function fetchBase64Png (url = '') {\n  const BASE_URL = 'https://macabre-broomstick-39921.herokuapp.com/getImage';\n  return fetch(`${BASE_URL}/${encodeURIComponent(url)}?format=text/plain`)\n    .then(res => res.ok\n        ? res.text()\n        : Promise.reject(res.statusText)\n    ).then(b64 => `data:image/png;base64,${b64}`);\n}\n\nexport function getDefaultCategories () {\n  return [\n    {\n      name: 'S',\n      backgroundColor: colors.red.accent1,\n      textColor: colors.shades.black,\n    },\n    {\n      name: 'A',\n      backgroundColor: colors.orange.accent1,\n      textColor: colors.shades.black,\n    },\n    {\n      name: 'B',\n      backgroundColor: colors.yellow.lighten1,\n      textColor: colors.shades.black,\n    },\n    {\n      name: 'C',\n      backgroundColor: colors.green.lighten2,\n      textColor: colors.shades.black,\n    },\n    {\n      name: 'D',\n      backgroundColor: colors.blue.lighten2,\n      textColor: colors.shades.black,\n    },\n  ];\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{staticClass:\"tier-list-svg\",style:(_vm.mainSvgStyle),attrs:{\"width\":\"100%\",\"height\":\"100%\",\"viewBox\":_vm.viewBox,\"preserveAspectRatio\":\"xMinYMax meet\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\"}},[(_vm.titleHeight > 0)?_c('g',{staticClass:\"tier-list-title-group\"},[(_vm.titles.left)?_c('text',{style:(_vm.headerFooterTextStyle),attrs:{\"x\":_vm.titleFooterAlignmentConfig.left.x,\"y\":_vm.GENERAL_SVG_CONFIG.PADDING,\"alignment-baseline\":\"hanging\",\"text-anchor\":_vm.titleFooterAlignmentConfig.left.textAnchor,\"font-size\":_vm.GENERAL_SVG_CONFIG.TITLE_FONT_SIZE,\"font-family\":_vm.GENERAL_SVG_CONFIG.FONT_FAMILY},domProps:{\"textContent\":_vm._s(_vm.titles.left)}}):_vm._e(),(_vm.titles.middle)?_c('text',{style:(_vm.headerFooterTextStyle),attrs:{\"x\":_vm.titleFooterAlignmentConfig.middle.x,\"y\":_vm.GENERAL_SVG_CONFIG.PADDING,\"alignment-baseline\":\"hanging\",\"text-anchor\":_vm.titleFooterAlignmentConfig.middle.textAnchor,\"font-size\":_vm.GENERAL_SVG_CONFIG.TITLE_FONT_SIZE,\"font-family\":_vm.GENERAL_SVG_CONFIG.FONT_FAMILY},domProps:{\"textContent\":_vm._s(_vm.titles.middle)}}):_vm._e(),(_vm.titles.right)?_c('text',{style:(_vm.headerFooterTextStyle),attrs:{\"x\":_vm.titleFooterAlignmentConfig.right.x,\"y\":_vm.GENERAL_SVG_CONFIG.PADDING,\"alignment-baseline\":\"hanging\",\"text-anchor\":_vm.titleFooterAlignmentConfig.right.textAnchor,\"font-size\":_vm.GENERAL_SVG_CONFIG.TITLE_FONT_SIZE,\"font-family\":_vm.GENERAL_SVG_CONFIG.FONT_FAMILY},domProps:{\"textContent\":_vm._s(_vm.titles.right)}}):_vm._e()]):_vm._e(),_vm._l((_vm.categoriesConfig),function(category){return _c('g',{key:category.key,staticClass:\"tier-list-row\",attrs:{\"transform\":(\"translate(\" + (_vm.GENERAL_SVG_CONFIG.PADDING) + \", \" + (category.yOffset) + \")\")}},[_c('g',{staticClass:\"tier-list-row__identifier-cell\"},[_c('rect',{style:(_vm.getCategoryCellStyle(category)),attrs:{\"x\":\"0\",\"y\":\"0\",\"width\":_vm.categoryWidth,\"height\":category.trackHeight}}),(!(category.name || '').includes('\\n'))?_c('text',{style:(_vm.getCategoryTextStyle(category)),attrs:{\"x\":_vm.categoryWidth / 2,\"y\":category.trackHeight / 2,\"text-anchor\":\"middle\",\"alignment-baseline\":\"middle\",\"font-size\":category.fontSize || _vm.GENERAL_SVG_CONFIG.FONT_SIZE,\"font-family\":_vm.GENERAL_SVG_CONFIG.FONT_FAMILY,\"font-weight\":category.fontWeight,\"font-style\":category.fontStyle,\"text-decoration\":category.textDecoration},domProps:{\"textContent\":_vm._s(category.name)}}):_c('multi-line-text',{key:JSON.stringify(_vm.value),attrs:{\"text\":category.name,\"containerHeight\":_vm.GENERAL_SVG_CONFIG.BASE_ROW_HEIGHT,\"textAttributes\":{\n          x: _vm.categoryWidth / 2,\n          y: 0,\n          'text-anchor': 'middle',\n          'alignment-baseline': 'hanging',\n          'font-size': category.fontSize || _vm.GENERAL_SVG_CONFIG.FONT_SIZE,\n          'font-family': _vm.GENERAL_SVG_CONFIG.FONT_FAMILY,\n          'font-weight': category.fontWeight,\n          'font-style': category.fontStyle,\n          'text-decoration': category.textDecoration,\n          style: _vm.getCategoryTextStyle(category),\n        }}})],1),_c('g',{staticClass:\"tier-list-row__entry-track\",attrs:{\"transform\":(\"translate(\" + (_vm.GENERAL_SVG_CONFIG.PADDING + _vm.categoryWidth) + \", 0)\")}},[_c('rect',{style:(_vm.baseTrackConfig.style),attrs:{\"x\":\"0\",\"y\":\"0\",\"width\":_vm.baseTrackConfig.width,\"height\":category.trackHeight}}),_vm._l((category.entries),function(entry,j){return [_c('image',{key:((JSON.stringify(entry)) + \"-\" + j + \"-image\"),attrs:{\"x\":_vm.getEntryXOffset(j),\"y\":_vm.getEntryYOffset(j),\"width\":_vm.GENERAL_SVG_CONFIG.ENTRY_SIZE,\"height\":_vm.GENERAL_SVG_CONFIG.ENTRY_SIZE,\"xlink:href\":entry.base64Url || entry.imgUrl,\"href\":entry.base64Url || entry.imgUrl}}),(_vm.showEntryNumber && entry.guideId)?_c('g',{key:((JSON.stringify(entry)) + \"-\" + j + \"-label\")},[_c('text',{attrs:{\"x\":_vm.getEntryXOffset(j) + _vm.GENERAL_SVG_CONFIG.ENTRY_SIZE / 2,\"y\":_vm.getEntryYOffset(j) + _vm.unitNumberConfig.yOffset,\"fill\":_vm.unitNumberConfig.fill,\"stroke\":_vm.unitNumberConfig.stroke,\"font-size\":((_vm.unitNumberConfig.size) + \"px\"),\"text-anchor\":\"middle\",\"alignment-baseline\":\"middle\",\"font-weight\":\"700\",\"font-family\":\"Arial\"},domProps:{\"textContent\":_vm._s((\"#\" + (entry.guideId)))}})]):_vm._e()]})],2)])}),_c('g',{staticClass:\"tier-list-footer-group\"},[(_vm.footers.left)?_c('text',{style:(_vm.headerFooterTextStyle),attrs:{\"x\":_vm.titleFooterAlignmentConfig.left.x,\"y\":_vm.overallHeight - _vm.GENERAL_SVG_CONFIG.PADDING - _vm.GENERAL_SVG_CONFIG.FOOTER_FONT_SIZE,\"alignment-baseline\":\"hanging\",\"text-anchor\":_vm.titleFooterAlignmentConfig.left.textAnchor,\"font-size\":_vm.GENERAL_SVG_CONFIG.FOOTER_FONT_SIZE,\"font-family\":_vm.GENERAL_SVG_CONFIG.FONT_FAMILY},domProps:{\"textContent\":_vm._s(_vm.footers.left)}}):_vm._e(),(_vm.footers.right)?_c('text',{style:(_vm.headerFooterTextStyle),attrs:{\"x\":_vm.titleFooterAlignmentConfig.right.x,\"y\":_vm.overallHeight - _vm.GENERAL_SVG_CONFIG.PADDING - _vm.GENERAL_SVG_CONFIG.FOOTER_FONT_SIZE,\"alignment-baseline\":\"hanging\",\"text-anchor\":_vm.titleFooterAlignmentConfig.right.textAnchor,\"font-size\":_vm.GENERAL_SVG_CONFIG.FOOTER_FONT_SIZE,\"font-family\":_vm.GENERAL_SVG_CONFIG.FONT_FAMILY},domProps:{\"textContent\":_vm._s(_vm.footers.right)}}):_vm._e(),_c('text',{style:(_vm.headerFooterTextStyle),attrs:{\"x\":_vm.titleFooterAlignmentConfig.right.x,\"y\":_vm.overallHeight - _vm.GENERAL_SVG_CONFIG.DISCLAIMER_FONT_SIZE * 1.25,\"alignment-baseline\":\"hanging\",\"text-anchor\":_vm.titleFooterAlignmentConfig.right.textAnchor,\"font-size\":_vm.GENERAL_SVG_CONFIG.DISCLAIMER_FONT_SIZE,\"font-family\":_vm.GENERAL_SVG_CONFIG.FONT_FAMILY},domProps:{\"textContent\":_vm._s('Not affiliated with Gumi or Alim')}})])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('text',_vm._b({},'text',_vm.$attrs,false))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable */\n\n/**\n * Main Source: http://old.carto.net/papers/svg/textFlow/\n */\n\n// source: http://old.carto.net/papers/svg/resources/helper_functions.js\n/**\n * @fileoverview\n * \n * ECMAScript <a href=\"http://www.carto.net/papers/svg/resources/helper_functions.html\">helper functions</a>, main purpose is to serve in SVG mapping or other SVG based web applications\n *\n * This ECMA script library is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 2.1 of the License, or (at your option) any later version.\n *\n * This library is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this library (http://www.carto.net/papers/svg/resources/lesser_gpl.txt); if not, write to the Free Software\n * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n *\n * Please report bugs and send improvements to neumann@karto.baug.ethz.ch\n * If you use these scripts, please link to the original (http://www.carto.net/papers/svg/resources/helper_functions.html)\n * somewhere in the source-code-comment or the \"about\" of your project and give credits, thanks!\n * \n * See <a href=\"js_docs_out/overview-summary-helper_functions.js.html\">documentation</a>. \n * \n * @author Andreas Neumann a.neumann@carto.net\n * @copyright LGPL 2.1 <a href=\"http://www.gnu.org/copyleft/lesser.txt\">Gnu LGPL 2.1</a>\n * @credits Bruce Rindahl, numerous people on svgdevelopers@yahoogroups.com\n */\n\n//global variables necessary to create elements in these namespaces, do not delete them!!!!\n\n/**\n * This variable is a shortcut to the full URL of the SVG namespace\n * @final\n * @type String\n */\nvar svgNS = \"http://www.w3.org/2000/svg\";\n\n/**\n * This variable is a shortcut to the full URL of the XLink namespace\n * @final\n * @type String\n */\nvar xlinkNS = \"http://www.w3.org/1999/xlink\";\n\n/**\n * This variable is a shortcut to the full URL of the attrib namespace\n * @final\n * @type String\n */\nvar cartoNS = \"http://www.carto.net/attrib\";\n\n/**\n * This variable is a alias to the full URL of the attrib namespace\n * @final\n * @type String\n */\nvar attribNS = \"http://www.carto.net/attrib\";\n\n/**\n * This variable is a alias to the full URL of the Batik extension namespace\n * @final\n * @type String\n */\nvar batikNS = \"http://xml.apache.org/batik/ext\";\n\n/**\n * Returns the polar direction from a given vector\n * @param {Number} xdiff\tthe x-part of the vector\n * @param {Number} ydiff\tthe y-part of the vector\n * @return direction\t\tthe direction in radians\n * @type Number\n * @version 1.0 (2007-04-30)\n * @see #toPolarDist\n * @see #toRectX\n * @see #toRectY\n */\nfunction toPolarDir(xdiff,ydiff) {\n   var direction = (Math.atan2(ydiff,xdiff));\n   return(direction);\n}\n\n/**\n * Returns the polar distance from a given vector\n * @param {Number} xdiff\tthe x-part of the vector\n * @param {Number} ydiff\tthe y-part of the vector\n * @return distance\t\t\tthe distance\n * @type Number\n * @version 1.0 (2007-04-30)\n * @see #toPolarDir\n * @see #toRectX\n * @see #toRectY\n */\nfunction toPolarDist(xdiff,ydiff) {\n   var distance = Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n   return(distance);\n}\n\n/**\n * Returns the x-part of a vector from a given direction and distance\n * @param {Number} direction\tthe direction (in radians)\n * @param {Number} distance\t\tthe distance\n * @return x\t\t\t\t\tthe x-part of the vector\n * @type Number\n * @version 1.0 (2007-04-30)\n * @see #toPolarDist\n * @see #toPolarDir\n * @see #toRectY\n */\nfunction toRectX(direction,distance) {\n   var x = distance * Math.cos(direction);\n   return(x);\n}\n\n/**\n * Returns the y-part of the vector from a given direction and distance\n * @param {Number} direction\tthe direction (in radians)\n * @param {Number} distance\t\tthe distance\n * @return y\t\t\t\t\tthe y-part of the vector\n * @type Number\n * @version 1.0 (2007-04-30)\n * @see #toPolarDist\n * @see #toPolarDir\n * @see #toRectX\n */\nfunction toRectY(direction,distance) {\n   y = distance * Math.sin(direction);\n   return(y);\n}\n\n/**\n * Converts degrees to radians\n * @param {Number} deg\tthe degree value\n * @return rad\t\t\tthe radians value\n * @type Number\n * @version 1.0 (2007-04-30)\n * @see #RadToDeg\n */\nfunction DegToRad(deg) {\n     return (deg / 180.0 * Math.PI);\n}\n\n/**\n * Converts radians to degrees\n * @param {Number} rad\tthe radians value\n * @return deg\t\t\tthe degree value\n * @type Number\n * @version 1.0 (2007-04-30)\n * @see #DegToRad\n */\nfunction RadToDeg(rad) {\n     return (rad / Math.PI * 180.0);\n}\n\n/**\n * Converts decimal degrees to degrees, minutes, seconds\n * @param {Number} dd\tthe decimal degree value\n * @return degrees\t\tthe degree values in the following notation: {deg:degrees,min:minutes,sec:seconds}\n * @type literal\n * @version 1.0 (2007-04-30)\n * @see #dms2dd\n */\nfunction dd2dms(dd) {\n        var minutes = (Math.abs(dd) - Math.floor(Math.abs(dd))) * 60;\n        var seconds = (minutes - Math.floor(minutes)) * 60;\n        var minutes = Math.floor(minutes);\n        if (dd >= 0) {\n            var degrees = Math.floor(dd);\n        }\n        else {\n            var degrees = Math.ceil(dd);       \n        }\n        return {deg:degrees,min:minutes,sec:seconds};\n}\n\n/**\n * Converts degrees, minutes and seconds to decimal degrees\n * @param {Number} deg\tthe degree value\n * @param {Number} min\tthe minute value\n * @param {Number} sec\tthe second value\n * @return deg\t\t\tthe decimal degree values\n * @type Number\n * @version 1.0 (2007-04-30)\n * @see #dd2dms\n */\nfunction dms2dd(deg,min,sec) {\n\tif (deg < 0) {\n\t\treturn deg - (min / 60) - (sec / 3600);\n\t}\n\telse {\n\t\treturn deg + (min / 60) + (sec / 3600);\n\t}\n}\n\n/**\n * log function, missing in the standard Math object\n * @param {Number} x\tthe value where the log function should be applied to\n * @param {Number} b\tthe base value for the log function\n * @return logResult\tthe result of the log function\n * @type Number\n * @version 1.0 (2007-04-30)\n */\nfunction log(x,b) {\n\tif(b==null) b=Math.E;\n\treturn Math.log(x)/Math.log(b);\n}\n\n/**\n * interpolates a value (e.g. elevation) bilinearly based on the position within a cell with 4 corner values\n * @param {Number} za\t\tthe value at the upper left corner of the cell\n * @param {Number} zb\t\tthe value at the upper right corner of the cell\n * @param {Number} zc\t\tthe value at the lower right corner of the cell\n * @param {Number} zd\t\tthe value at the lower left corner of the cell\n * @param {Number} xpos\t\tthe x position of the point where a new value should be interpolated\n * @param {Number} ypos\t\tthe y position of the point where a new value should be interpolated\n * @param {Number} ax\t\tthe x position of the lower left corner of the cell\n * @param {Number} ay\t\tthe y position of the lower left corner of the cell\n * @param {Number} cellsize\tthe size of the cell\n * @return interpol_value\tthe result of the bilinear interpolation function\n * @type Number\n * @version 1.0 (2007-04-30)\n */\nfunction intBilinear(za,zb,zc,zd,xpos,ypos,ax,ay,cellsize) { //bilinear interpolation function\n\tvar e = (xpos - ax) / cellsize;\n\tvar f = (ypos - ay) / cellsize;\n\n\t//calculation of weights\n\tvar wa = (1 - e) * (1 - f);\n\tvar wb = e * (1 - f);\n\tvar wc = e * f;\n\tvar wd = f * (1 - e);\n\n\tvar interpol_value = wa * zc + wb * zd + wc * za + wd * zb;\n\treturn interpol_value;\t\n}\n\n/**\n * tests if a given point is left or right of a given line\n * @param {Number} pointx\t\tthe x position of the given point\n * @param {Number} pointy\t\tthe y position of the given point\n * @param {Number} linex1\t\tthe x position of line's start point\n * @param {Number} liney1\t\tthe y position of line's start point\n * @param {Number} linex2\t\tthe x position of line's end point\n * @param {Number} liney2\t\tthe y position of line's end point\n * @return leftof\t\t\t\tthe result of the leftOfTest, 1 means leftOf, 0 means rightOf\n * @type Number (integer, 0|1)\n * @version 1.0 (2007-04-30)\n */\nfunction leftOfTest(pointx,pointy,linex1,liney1,linex2,liney2) {\n\tvar result = (liney1 - pointy) * (linex2 - linex1) - (linex1 - pointx) * (liney2 - liney1);\n\tif (result < 0) {\n\t\tvar leftof = 1; //case left of\n\t}\n\telse {\n\t\tvar leftof = 0; //case left of\t\n\t}\n\treturn leftof;\n}\n\n/**\n * calculates the distance between a given point and a given line\n * @param {Number} pointx\t\tthe x position of the given point\n * @param {Number} pointy\t\tthe y position of the given point\n * @param {Number} linex1\t\tthe x position of line's start point\n * @param {Number} liney1\t\tthe y position of line's start point\n * @param {Number} linex2\t\tthe x position of line's end point\n * @param {Number} liney2\t\tthe y position of line's end point\n * @return distance\t\t\t\tthe result of the leftOfTest, 1 means leftOf, 0 means rightOf\n * @type Number\n * @version 1.0 (2007-04-30)\n */\nfunction distFromLine(xpoint,ypoint,linex1,liney1,linex2,liney2) {\n\tvar dx = linex2 - linex1;\n\tvar dy = liney2 - liney1;\n\tvar distance = (dy * (xpoint - linex1) - dx * (ypoint - liney1)) / Math.sqrt(Math.pow(dx,2) + Math.pow(dy,2));\n\treturn distance;\n}\n\n/**\n * calculates the angle between two vectors (lines)\n * @param {Number} ax\t\tthe x part of vector a\n * @param {Number} ay\t\tthe y part of vector a\n * @param {Number} bx\t\tthe x part of vector b\n * @param {Number} by\t\tthe y part of vector b\n * @return angle\t\t\tthe angle in radians\n * @type Number\n * @version 1.0 (2007-04-30)\n * @credits <a href=\"http://www.mathe-online.at/mathint/vect2/i.html#Winkel\">Mathe Online (Winkel)</a>\n */\nfunction angleBetwTwoLines(ax,ay,bx,by) {\n\tvar angle = Math.acos((ax * bx + ay * by) / (Math.sqrt(Math.pow(ax,2) + Math.pow(ay,2)) * Math.sqrt(Math.pow(bx,2) + Math.pow(by,2))));\n\treturn angle;\n}\n\n/**\n * calculates the bisector vector for two given vectors\n * @param {Number} ax\t\tthe x part of vector a\n * @param {Number} ay\t\tthe y part of vector a\n * @param {Number} bx\t\tthe x part of vector b\n * @param {Number} by\t\tthe y part of vector b\n * @return c\t\t\t\tthe resulting vector as an Array, c[0] is the x part of the vector, c[1] is the y part\n * @type Array\n * @version 1.0 (2007-04-30)\n * @credits <a href=\"http://www.mathe-online.at/mathint/vect1/i.html#Winkelsymmetrale\">Mathe Online (Winkelsymmetrale)</a>\n * see #calcBisectorAngle\n *  */\nfunction calcBisectorVector(ax,ay,bx,by) {\n\tvar betraga = Math.sqrt(Math.pow(ax,2) + Math.pow(ay,2));\n\tvar betragb = Math.sqrt(Math.pow(bx,2) + Math.pow(by,2));\n\tvar c = new Array();\n\tc[0] = ax / betraga + bx / betragb;\n\tc[1] = ay / betraga + by / betragb;\n\treturn c;\n}\n\n/**\n * calculates the bisector angle for two given vectors\n * @param {Number} ax\t\tthe x part of vector a\n * @param {Number} ay\t\tthe y part of vector a\n * @param {Number} bx\t\tthe x part of vector b\n * @param {Number} by\t\tthe y part of vector b\n * @return angle\t\t\tthe bisector angle in radians\n * @type Number\n * @version 1.0 (2007-04-30)\n * @credits <a href=\"http://www.mathe-online.at/mathint/vect1/i.html#Winkelsymmetrale\">Mathe Online (Winkelsymmetrale)</a>\n * see #calcBisectorVector\n * */\nfunction calcBisectorAngle(ax,ay,bx,by) {\n\tvar betraga = Math.sqrt(Math.pow(ax,2) + Math.pow(ay,2));\n\tvar betragb = Math.sqrt(Math.pow(bx,2) + Math.pow(by,2));\n\tvar c1 = ax / betraga + bx / betragb;\n\tvar c2 = ay / betraga + by / betragb;\n\tvar angle = toPolarDir(c1,c2);\n\treturn angle;\n}\n\n/**\n * calculates the intersection point of two given lines\n * @param {Number} line1x1\tthe x the start point of line 1\n * @param {Number} line1y1\tthe y the start point of line 1\n * @param {Number} line1x2\tthe x the end point of line 1\n * @param {Number} line1y2\tthe y the end point of line 1\n * @return interSectPoint\tthe intersection point, interSectPoint.x contains x-part, interSectPoint.y the y-part of the resulting coordinate\n * @type Object\n * @version 1.0 (2007-04-30)\n * @credits <a href=\"http://astronomy.swin.edu.au/~pbourke/geometry/lineline2d/\">P. Bourke</a>\n */\nfunction intersect2lines(line1x1,line1y1,line1x2,line1y2,line2x1,line2y1,line2x2,line2y2) {\n\tvar interSectPoint = new Object();\n\tvar denominator = (line2y2 - line2y1)*(line1x2 - line1x1) - (line2x2 - line2x1)*(line1y2 - line1y1);\n\tif (denominator == 0) {\n\t\talert(\"lines are parallel\");\n\t}\n\telse {\n\t\tvar ua = ((line2x2 - line2x1)*(line1y1 - line2y1) - (line2y2 - line2y1)*(line1x1 - line2x1)) / denominator;\n\t\tvar ub = ((line1x2 - line1x1)*(line1y1 - line2y1) - (line1y2 - line1y1)*(line1x1 - line2x1)) / denominator;\n\t}\n\tinterSectPoint[\"x\"] = line1x1 + ua * (line1x2 - line1x1);\n\tinterSectPoint[\"y\"] = line1y1 + ua * (line1y2 - line1y1);\n\treturn interSectPoint;\n}\n\n/**\n * reformats a given number to a string by adding separators at every third digit\n * @param {String|Number} inputNumber\tthe input number, can be of type number or string\n * @param {String} separator\t\t\tthe separator, e.g. ' or ,\n * @return newString\t\t\t\t\tthe intersection point, interSectPoint.x contains x-part, interSectPoint.y the y-part of the resulting coordinate\n * @type String\n * @version 1.0.1 (2011-10-02)\n */\nfunction formatNumberString(inputNumber,separator) {\n\t//check if of type string, if number, convert it to string\n\tif (typeof(inputNumber) == \"number\") {\n\t\tvar myTempString = inputNumber.toString();\n\t}\n\telse {\n\t\tvar myTempString = inputNumber;\n\t}\n\tvar newString=\"\";\n\t//if it contains a comma, it will be split\n\tvar splitResults = myTempString.split(\".\");\n\tvar myCounter = splitResults[0].length;\n\tif (myCounter > 3) {\n\t\twhile(myCounter > 0) {\n\t\t\tif (myCounter > 3) {\n\t\t\t\tnewString = separator + splitResults[0].substr(myCounter - 3,3) + newString;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tnewString = splitResults[0].substr(0,myCounter) + newString;\n\t\t\t}\n\t\t\tmyCounter -= 3;\n\t\t}\n\t}\n\telse {\n\t\tnewString = splitResults[0];\n\t}\n\t//concatenate if it contains a comma\n\tif (splitResults[1]) {\n\t\tnewString = newString + \".\" + splitResults[1];\n\t}\n\treturn newString;\n}\n\n/**\n * writes a status text message out to a SVG text element's first child\n * @param {String} statusText\tthe text message to be displayed\n * @version 1.0 (2007-04-30)\n */\n function statusChange(statusText) {\n\tdocument.getElementById(\"statusText\").firstChild.nodeValue = \"Statusbar: \" + statusText;\n}\n\n/**\n * scales an SVG element, requires that the element has an x and y attribute (e.g. circle, ellipse, use element, etc.)\n * @param {dom::Event} evt\t\tthe evt object that triggered the scaling\n * @param {Number} factor\tthe scaling factor\n * @version 1.0 (2007-04-30)\n */\nfunction scaleObject(evt,factor) {\n\t//reference to the currently selected object\n\tvar element = evt.currentTarget;\n\tvar myX = element.getAttributeNS(null,\"x\");\n\tvar myY = element.getAttributeNS(null,\"y\");\n\tvar newtransform = \"scale(\" + factor + \") translate(\" + (myX * 1 / factor - myX) + \" \" + (myY * 1 / factor - myY) +\")\";\n\telement.setAttributeNS(null,'transform', newtransform);\n}\n\n/**\n * returns the transformation matrix (ctm) for the given node up to the root element\n * the basic use case is to provide a wrapper function for the missing SVGLocatable.getTransformToElement method (missing in ASV3)\n * @param {svg::SVGTransformable} node\t\tthe node reference for the SVGElement the ctm is queried\n * @return CTM\t\t\t\t\t\t\t\tthe current transformation matrix from the given node to the root element\n * @type svg::SVGMatrix\n * @version 1.0 (2007-05-01)\n * @credits <a href=\"http://www.kevlindev.com/tutorials/basics/transformations/toUserSpace/index.htm\">Kevin Lindsey (toUserSpace)</a>\n * @see #getTransformToElement\n */\nfunction getTransformToRootElement(node) {\n \ttry {\n\t\t//this part is for fully conformant players (like Opera, Batik, Firefox, Safari ...)\n\t\tvar CTM = node.getTransformToElement(document.documentElement);\n\t}\n\tcatch (ex) {\n\t\t//this part is for ASV3 or other non-conformant players\n\t\t// Initialize our CTM the node's Current Transformation Matrix\n\t\tvar CTM = node.getCTM();\n\t\t// Work our way through the ancestor nodes stopping at the SVG Document\n\t\twhile ( ( node = node.parentNode ) != document ) {\n\t\t\t// Multiply the new CTM to the one with what we have accumulated so far\n\t\t\tCTM = node.getCTM().multiply(CTM);\n\t\t}\n\t}\n\treturn CTM;\n}\n\n/**\n * returns the transformation matrix (ctm) for the given dom::Node up to a different dom::Node\n * the basic use case is to provide a wrapper function for the missing SVGLocatable.getTransformToElement method (missing in ASV3)\n * @param {svg::SVGTransformable} node\t\t\tthe node reference for the element the where the ctm should be calculated from\n * @param {svg::SVGTransformable} targetNode\tthe target node reference for the element the ctm should be calculated to\n * @return CTM\t\t\t\t\t\t\t\t\tthe current transformation matrix from the given node to the target element\n * @type svg::SVGMatrix\n * @version 1.0 (2007-05-01)\n * @credits <a href=\"http://www.kevlindev.com/tutorials/basics/transformations/toUserSpace/index.htm\">Kevin Lindsey (toUserSpace)</a>\n * @see #getTransformToRootElement\n */\nfunction getTransformToElement(node,targetNode) {\n    try {\n        //this part is for fully conformant players\n        var CTM = node.getTransformToElement(targetNode);\n    }\n    catch (ex) {\n  \t\t//this part is for ASV3 or other non-conformant players\n\t\t// Initialize our CTM the node's Current Transformation Matrix\n\t\tvar CTM = node.getCTM();\n\t\t// Work our way through the ancestor nodes stopping at the SVG Document\n\t\twhile ( ( node = node.parentNode ) != targetNode ) {\n\t\t\t// Multiply the new CTM to the one with what we have accumulated so far\n\t\t\tCTM = node.getCTM().multiply(CTM);\n\t\t}\n    }\n    return CTM;\n}\n\n/**\n * converts HSV to RGB values\n * @param {Number} hue\t\tthe hue value (between 0 and 360)\n * @param {Number} sat\t\tthe saturation value (between 0 and 1)\n * @param {Number} val\t\tthe value value (between 0 and 1)\n * @return rgbArr\t\t\tthe rgb values (associative array or object, the keys are: red,green,blue), all values are scaled between 0 and 255\n * @type Object\n * @version 1.0 (2007-05-01)\n * @see #rgb2hsv\n */\nfunction hsv2rgb(hue,sat,val) {\n\tvar rgbArr = new Object();\n\tif ( sat == 0) {\n\t\trgbArr[\"red\"] = Math.round(val * 255);\n\t\trgbArr[\"green\"] = Math.round(val * 255);\n\t\trgbArr[\"blue\"] = Math.round(val * 255);\n\t}\n\telse {\n\t\tvar h = hue / 60;\n\t\tvar i = Math.floor(h);\n\t\tvar f = h - i;\n\t\tif (i % 2 == 0) {\n\t\t\tf = 1 - f;\n\t\t}\n\t\tvar m = val * (1 - sat); \n\t\tvar n = val * (1 - sat * f);\n\t\tswitch(i) {\n\t\t\tcase 0:\n\t\t\t\trgbArr[\"red\"] = val;\n\t\t\t\trgbArr[\"green\"] = n;\n\t\t\t\trgbArr[\"blue\"] = m;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\trgbArr[\"red\"] = n;\n\t\t\t\trgbArr[\"green\"] = val;\n\t\t\t\trgbArr[\"blue\"] = m;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\trgbArr[\"red\"] = m;\n\t\t\t\trgbArr[\"green\"] = val;\n\t\t\t\trgbArr[\"blue\"] = n;\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\trgbArr[\"red\"] = m;\n\t\t\t\trgbArr[\"green\"] = n;\n\t\t\t\trgbArr[\"blue\"] = val;\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\trgbArr[\"red\"] = n;\n\t\t\t\trgbArr[\"green\"] = m;\n\t\t\t\trgbArr[\"blue\"] = val;\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\trgbArr[\"red\"] = val;\n\t\t\t\trgbArr[\"green\"] = m;\n\t\t\t\trgbArr[\"blue\"] = n;\n\t\t\t\tbreak;\n\t\t\tcase 6:\n\t\t\t\trgbArr[\"red\"] = val;\n\t\t\t\trgbArr[\"green\"] = n;\n\t\t\t\trgbArr[\"blue\"] = m;\n\t\t\t\tbreak;\n\t\t}\n\t\trgbArr[\"red\"] = Math.round(rgbArr[\"red\"] * 255);\n\t\trgbArr[\"green\"] = Math.round(rgbArr[\"green\"] * 255);\n\t\trgbArr[\"blue\"] = Math.round(rgbArr[\"blue\"] * 255);\n\t}\n\treturn rgbArr;\n}\n\n/**\n * converts RGB to HSV values\n * @param {Number} red\t\tthe hue value (between 0 and 255)\n * @param {Number} green\tthe saturation value (between 0 and 255)\n * @param {Number} blue\t\tthe value value (between 0 and 255)\n * @return hsvArr\t\t\tthe hsv values (associative array or object, the keys are: hue (0-360),sat (0-1),val (0-1))\n * @type Object\n * @version 1.0 (2007-05-01)\n * @see #hsv2rgb\n */\nfunction rgb2hsv(red,green,blue) {\n\tvar hsvArr = new Object();\n\tred = red / 255;\n\tgreen = green / 255;\n\tblue = blue / 255;\n\tmyMax = Math.max(red, Math.max(green,blue));\n\tmyMin = Math.min(red, Math.min(green,blue));\n\tv = myMax;\n\tif (myMax > 0) {\n\t\ts = (myMax - myMin) / myMax;\n\t}\n\telse {\n\t\ts = 0;\n\t}\n\tif (s > 0) {\n\t\tmyDiff = myMax - myMin;\n\t\trc = (myMax - red) / myDiff;\n\t\tgc = (myMax - green) / myDiff;\n\t\tbc = (myMax - blue) / myDiff;\n\t\tif (red == myMax) {\n\t\t\th = (bc - gc) / 6;\n\t\t}\n\t\tif (green == myMax) {\n\t\t\th = (2 + rc - bc) / 6;\n\t\t}\n\t\tif (blue == myMax) {\n\t\t\th = (4 + gc - rc) / 6;\n\t\t}\n\t}\n\telse {\n\t\th = 0;\n\t}\n\tif (h < 0) {\n\t\th += 1;\n\t}\n\thsvArr[\"hue\"] = Math.round(h * 360);\n\thsvArr[\"sat\"] = s;\n\thsvArr[\"val\"] = v;\n\treturn hsvArr;\n}\n\n/**\n * populates an array such that it can be addressed by both a key or an index nr,\n * note that both Arrays need to be of the same length\n * @param {Array} arrayKeys\t\tthe array containing the keys\n * @param {Array} arrayValues\tthe array containing the values\n * @return returnArray\t\t\tthe resulting array containing both associative values and also a regular indexed array\n * @type Array\n * @version 1.0 (2007-05-01)\n */\nfunction arrayPopulate(arrayKeys,arrayValues) {\n\tvar returnArray = new Array();\n\tif (arrayKeys.length != arrayValues.length) {\n\t\talert(\"error: arrays do not have the same length!\");\n\t}\n\telse {\n\t\tfor (var i=0;i<arrayKeys.length;i++) {\n\t\t\treturnArray[arrayKeys[i]] = arrayValues[i];\n\t\t}\n\t}\n\treturn returnArray;\n}\n\n/**\n * Wrapper object for network requests, uses getURL or XMLHttpRequest depending on availability\n * The callBackFunction receives a XML or text node representing the rootElement\n * of the fragment received or the return text, depending on the returnFormat. \n * See also the following <a href=\"http://www.carto.net/papers/svg/network_requests/\">documentation</a>.\n * @class this is a wrapper object to provide network request functionality (get|post)\n * @param {String} url\t\t\t\t\t\t\t\t\t\t\t\tthe URL/IRI of the network resource to be called\n * @param {Function|Object} callBackFunction\t\t\t\t\t\tthe callBack function or object that is called after the data was received, in case of an object, the method 'receiveData' is called; both the function and the object's 'receiveData' method get 2 return parameters: 'node.firstChild'|text (the root element of the XML or text resource), this.additionalParams (if defined) \n * @param {String} returnFormat\t\t\t\t\t\t\t\t\t\tthe return format, either 'xml' or 'json' (or text)\n * @param {String} method\t\t\t\t\t\t\t\t\t\t\tthe method of the network request, either 'get' or 'post'\n * @param {String|Undefined} postText\t\t\t\t\t\t\t\tthe String containing the post text (optional) or Undefined (if not a 'post' request)\n * @param {Object|Array|String|Number|Undefined} additionalParams\tadditional parameters that will be passed to the callBackFunction or object (optional) or Undefined\n * @return a new getData instance\n * @type getData\n * @constructor\n * @version 1.0 (2007-02-23)\n */\nfunction getData(url,callBackFunction,returnFormat,method,postText,additionalParams) {\n\tthis.url = url;\n\tthis.callBackFunction = callBackFunction;\n\tthis.returnFormat = returnFormat;\n\tthis.method = method;\n\tthis.additionalParams = additionalParams;\n\tif (method != \"get\" && method != \"post\") {\n\t\talert(\"Error in network request: parameter 'method' must be 'get' or 'post'\");\n\t}\n\tthis.postText = postText;\n\tthis.xmlRequest = null; //@private reference to the XMLHttpRequest object\n} \n\n/**\n * triggers the network request defined in the constructor\n */\ngetData.prototype.getData = function() {\n\t//call getURL() if available\n\tif (window.getURL) {\n\t\tif (this.method == \"get\") {\n\t\t\tgetURL(this.url,this);\n\t\t}\n\t\tif (this.method == \"post\") {\n\t\t\tpostURL(this.url,this.postText,this);\n\t\t}\n\t}\n\t//or call XMLHttpRequest() if available\n\telse if (window.XMLHttpRequest) {\n\t\tvar _this = this;\n\t\tthis.xmlRequest = new XMLHttpRequest();\n\t\tif (this.method == \"get\") {\n\t\t\tif (this.returnFormat == \"xml\") {\n\t\t\t\tif (this.xmlRequest.overrideMimeType) {\n\t\t\t\t\tthis.xmlRequest.overrideMimeType(\"text/xml\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.xmlRequest.open(\"GET\",this.url,true);\n\t\t}\n\t\tif (this.method == \"post\") {\n\t\t\tthis.xmlRequest.open(\"POST\",this.url,true);\n\t\t}\n\t\tthis.xmlRequest.onreadystatechange = function() {_this.handleEvent()};\n\t\tif (this.method == \"get\") {\n\t\t\tthis.xmlRequest.send(null);\n\t\t}\n\t\tif (this.method == \"post\") {\n\t\t\t//test if postText exists and is of type string\n\t\t\tvar reallyPost = true;\n\t\t\tif (!this.postText) {\n\t\t\t\treallyPost = false;\n\t\t\t\talert(\"Error in network post request: missing parameter 'postText'!\");\n\t\t\t}\n\t\t\tif (typeof(this.postText) != \"string\") {\n\t\t\t\treallyPost = false;\n\t\t\t\talert(\"Error in network post request: parameter 'postText' has to be of type 'string')\");\n\t\t\t}\n\t\t\tif (reallyPost) {\n\t\t\t\tthis.xmlRequest.send(this.postText);\n\t\t\t}\n\t\t}\n\t}\n\t//write an error message if neither method is available\n\telse {\n\t\talert(\"your browser/svg viewer neither supports window.getURL nor window.XMLHttpRequest!\");\n\t}\t\n}\n\n/**\n * this is the callback method for the getURL() or postURL() case\n * @private\n */\ngetData.prototype.operationComplete = function(data) {\n\t//check if data has a success property\n\tif (data.success) {\n\t\t//parse content of the XML format to the variable \"node\"\n\t\tif (this.returnFormat == \"xml\") {\n\t\t\t//convert the text information to an XML node and get the first child\n\t\t\tvar node = parseXML(data.content,document);\n\t\t\t//distinguish between a callback function and an object\n\t\t\tif (typeof(this.callBackFunction) == \"function\") {\n\t\t\t\tthis.callBackFunction(node.firstChild,this.additionalParams);\n\t\t\t}\n\t\t\tif (typeof(this.callBackFunction) == \"object\") {\n\t\t\t\tthis.callBackFunction.receiveData(node.firstChild,this.additionalParams);\n\t\t\t}\n\t\t}\n\t\tif (this.returnFormat == \"json\") {\n\t\t\tif (typeof(this.callBackFunction) == \"function\") {\n\t\t\t\tthis.callBackFunction(data.content,this.additionalParams);\n\t\t\t}\n\t\t\tif (typeof(this.callBackFunction) == \"object\") {\n\t\t\t\tthis.callBackFunction.receiveData(data.content,this.additionalParams);\n\t\t\t}\t\t\t\n\t\t}\n\t}\n\telse {\n\t\talert(\"something went wrong with dynamic loading of geometry!\");\n\t}\n}\n\n/**\n * this is the callback method for the XMLHttpRequest case\n * @private\n */\ngetData.prototype.handleEvent = function() {\n\tif (this.xmlRequest.readyState == 4) {\n\t\tif (this.returnFormat == \"xml\") {\n\t\t\t//we need to import the XML node first\n\t\t\tvar parser = new DOMParser();\n\t\t\tvar doc = parser.parseFromString(this.xmlRequest.responseText,\"text/xml\");\n\t\t\tvar importedNode = document.importNode(doc.documentElement,true);\n\t\t\tif (typeof(this.callBackFunction) == \"function\") {\n\t\t\t\tthis.callBackFunction(importedNode,this.additionalParams);\n\t\t\t}\n\t\t\tif (typeof(this.callBackFunction) == \"object\") {\n\t\t\t\tthis.callBackFunction.receiveData(importedNode,this.additionalParams);\n\t\t\t}\t\t\t\n\t\t}\n\t\tif (this.returnFormat == \"json\") {\n\t\t\tif (typeof(this.callBackFunction) == \"function\") {\n\t\t\t\tthis.callBackFunction(this.xmlRequest.responseText,this.additionalParams);\n\t\t\t}\n\t\t\tif (typeof(this.callBackFunction) == \"object\") {\n\t\t\t\tthis.callBackFunction.receiveData(this.xmlRequest.responseText,this.additionalParams);\n\t\t\t}\t\t\t\n\t\t}\t\t\n\t}\t\n}\n\n/**\n * Serializes an XML node and returns a string representation. Wrapper function to hide implementation differences. \n * This can be used for debugging purposes or to post data to a server or network resource.\n * @param {dom::Node} node\t\tthe DOM node reference\n * @return textRepresentation\tthe String representation of the XML node\n * @type String\n * @version 1.0 (2007-05-01)\n * @see getData\n */\nfunction serializeNode(node) {\n  if (typeof XMLSerializer != 'undefined') {\n    return new XMLSerializer().serializeToString(node);\n  }\n  else if (typeof node.xml != 'undefined') {\n    return node.xml;\n  }\n  else if (typeof printNode != 'undefined') {\n    return printNode(node);\n  }\n  else if (typeof Packages != 'undefined') {\n    try {\n      var stringWriter = new java.io.StringWriter();\n      Packages.org.apache.batik.dom.util.DOMUtilities.writeNode(node,stringWriter);\n      return stringWriter.toString();\n    }\n    catch (e) {\n       alert(\"Sorry, your SVG viewer does not support the printNode/serialize function.\");\n       return '';\n    }\n  }\n  else {\n    alert(\"Sorry, your SVG viewer does not support the printNode/serialize function.\");\n    return '';\n  }\n}\n\n/**\n * Starts a SMIL animation element with the given id by triggering the '.beginElement()' method. \n * This is a convenience (shortcut) function. \n * @param {String} id\t\ta valid id of a valid SMIL animation element\n * @version 1.0 (2007-05-01)\n */\n//starts an animtion with the given id\n//this function is useful in combination with window.setTimeout()\nfunction startAnimation(id) {\n\t\tdocument.getElementById(id).beginElement();\n}\n\n// source: http://old.carto.net/papers/svg/textFlow/textFlow.js\n/*\nScripts to create flowText (rectangular) in SVG 1.1 UAs\nCopyright (C) <2007>  <Andreas Neumann>\nVersion 1.0, 2007-02-26\nneumann@karto.baug.ethz.ch\nhttp://www.carto.net/\nhttp://www.carto.net/neumann/\n\n----\n\nDocumentation: http://www.carto.net/papers/svg/textFlow/\n\n----\n\ncurrent version: 1.0.\n\n1.0 (2007-02-26)\ninitial release\n\n-------\n\nThis ECMA script library is free software; you can redistribute it and/or\nmodify it under the terms of the GNU Lesser General Public\nLicense as published by the Free Software Foundation; either\nversion 2.1 of the License, or (at your option) any later version.\n\nThis library is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\nLesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public\nLicense along with this library (lesser_gpl.txt); if not, write to the Free Software\nFoundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n\n----\n\noriginal document site: http://www.carto.net/papers/svg/textFlow/\nPlease contact the author in case you want to use code or ideas commercially.\nIf you use this code, please include this copyright header, the included full\nLGPL 2.1 text and read the terms provided in the LGPL 2.1 license\n(http://www.gnu.org/copyleft/lesser.txt)\n\n-------------------------------\n\nPlease report bugs and send improvements to neumann@karto.baug.ethz.ch\nIf you use this control, please link to the original (http://www.carto.net/papers/svg/textFlow/)\nsomewhere in the source-code-comment or the \"about\" of your project and give credits, thanks!\n\n*/\n\n//main function\nexport function textFlow(myText, textToAppend, maxWidth, x, ddy, justified) {\n  //extract and add line breaks for start\n  var dashArray = new Array();\n  var dashFound = true;\n  var indexPos = 0;\n  var cumulY = 0;\n  while (dashFound == true) {\n    var result = myText.indexOf(\"-\", indexPos);\n    if (result == -1) {\n      //could not find a dash\n      dashFound = false;\n    } else {\n      dashArray.push(result);\n      indexPos = result + 1;\n    }\n  }\n  //split the text at all spaces and dashes\n  var words = myText.split(/[\\s-]/);\n  var line = \"\";\n  var dy = 0;\n  var curNumChars = 0;\n  var computedTextLength = 0;\n  var myTextNode;\n  var tspanEl;\n  var lastLineBreak = 0;\n\n  for (var i = 0; i < words.length; i++) {\n    var word = words[i];\n    curNumChars += word.length + 1;\n    if (computedTextLength > maxWidth || i == 0) {\n      if (computedTextLength > maxWidth) {\n        var tempText = tspanEl.firstChild.nodeValue;\n        tempText = tempText.slice(0, (tempText.length - words[i - 1].length - 2)); //the -2 is because we also strip off white space\n        tspanEl.firstChild.nodeValue = tempText;\n        if (justified) {\n          //determine the number of words in this line\n          var nrWords = tempText.split(/\\s/).length;\n          computedTextLength = tspanEl.getComputedTextLength();\n          var additionalWordSpacing = (maxWidth - computedTextLength) / (nrWords - 1);\n          tspanEl.setAttributeNS(null, \"word-spacing\", additionalWordSpacing);\n          //alternatively one could use textLength and lengthAdjust, however, currently this is not too well supported in SVG UA's\n        }\n      }\n      tspanEl = document.createElementNS(svgNS, \"tspan\");\n      tspanEl.setAttributeNS(null, \"x\", x);\n      tspanEl.setAttributeNS(null, \"dy\", dy);\n      myTextNode = document.createTextNode(line);\n      tspanEl.appendChild(myTextNode);\n      textToAppend.appendChild(tspanEl);\n\n      if (checkDashPosition(dashArray, curNumChars - 1)) {\n        line = word + \"-\";\n      } else {\n        line = word + \" \";\n      }\n      if (i != 0) {\n        line = words[i - 1] + \" \" + line;\n      }\n      dy = ddy;\n      cumulY += dy;\n    } else {\n      if (checkDashPosition(dashArray, curNumChars - 1)) {\n        line += word + \"-\";\n      } else {\n        line += word + \" \";\n      }\n    }\n    tspanEl.firstChild.nodeValue = line;\n    computedTextLength = tspanEl.getComputedTextLength();\n    if (i == words.length - 1) {\n      if (computedTextLength > maxWidth) {\n        var tempText = tspanEl.firstChild.nodeValue;\n        tspanEl.firstChild.nodeValue = tempText.slice(0, (tempText.length - words[i].length - 1));\n        tspanEl = document.createElementNS(svgNS, \"tspan\");\n        tspanEl.setAttributeNS(null, \"x\", x);\n        tspanEl.setAttributeNS(null, \"dy\", dy);\n        myTextNode = document.createTextNode(words[i]);\n        tspanEl.appendChild(myTextNode);\n        textToAppend.appendChild(tspanEl);\n      }\n\n    }\n  }\n  return cumulY;\n}\n\n//this function checks if there should be a dash at the given position, instead of a blank\nexport function checkDashPosition(dashArray, pos) {\n  var result = false;\n  for (var i = 0; i < dashArray.length; i++) {\n    if (dashArray[i] == pos) {\n      result = true;\n    }\n  }\n  return result;\n}\n","<template>\n  <text v-bind=\"$attrs\"/>\n</template>\n\n<script>\nimport { textFlow } from '@/modules/TextFlow';\n\nexport default {\n  props: {\n    flowText: {\n      type: String,\n      required: true,\n    },\n    flowMaxWidth: {\n      type: Number,\n      required: true,\n    },\n    flowX: {\n      type: Number,\n      default: 0,\n    },\n    flowLineHeight: {\n      type: Number,\n      required: true,\n    },\n    flowJustified: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  mounted () {\n    this.runTextFlow();\n  },\n  methods: {\n    runTextFlow () {\n      this.$el.innerHTML = ''; // clear old text on re-run\n      const height = textFlow(this.flowText, this.$el, this.flowMaxWidth, this.flowX, this.flowLineHeight, this.flowJustified);\n      this.$emit('height', height);\n    },\n  },\n  watch: {\n    flowText () {\n      this.runTextFlow();\n    },\n    flowMaxWidth () {\n      this.runTextFlow();\n    },\n    flowX () {\n      this.runTextFlow();\n    },\n    flowLineHeight () {\n      this.runTextFlow();\n    },\n    flowJustified () {\n      this.runTextFlow();\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgFlowText.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgFlowText.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SvgFlowText.vue?vue&type=template&id=a71e570a&\"\nimport script from \"./SvgFlowText.vue?vue&type=script&lang=js&\"\nexport * from \"./SvgFlowText.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',_vm._b({},'g',_vm.$attrs,false),_vm._l((_vm.lines),function(line,i){return _c('text',_vm._b({key:(line + \"-\" + i),domProps:{\"textContent\":_vm._s(line)}},'text',_vm.getTextAttributes(i),false))}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <g v-bind=\"$attrs\">\n    <text\n      v-for=\"(line, i) in lines\"\n      :key=\"`${line}-${i}`\"\n      v-bind=\"getTextAttributes(i)\"\n      v-text=\"line\"\n    />\n  </g>\n</template>\n\n<script>\nexport default {\n  props: {\n    text: {\n      type: String,\n      default: '',\n    },\n    textAttributes: {\n      type: Object,\n      default: () => {},\n    },\n    containerHeight: {\n      type: Number,\n      default: 100,\n    },\n  },\n  computed: {\n    lines () {\n      return this.text.split('\\n');\n    },\n    fontSize () {\n      const { textAttributes = {} } = this;\n      return !isNaN(textAttributes['font-size'])\n        ? +textAttributes['font-size']\n        : 16;\n    },\n  },\n  methods: {\n    getTextAttributes (index) {\n      const { textAttributes = {}, fontSize } = this;\n      return {\n        ...textAttributes,\n        y: (textAttributes.y || 0) + (index * fontSize),\n      };\n    },\n    centerText () {\n      const group = this.$el;\n      const groupHeight = group.getBBox().height;\n      const parent = group.parentNode;\n      const parentHeight = (parent && parent.getBBox && parent.getBBox().height) || this.containerHeight;\n      const yOffset = parentHeight > groupHeight\n        ? (parentHeight - groupHeight) / 2\n        : 0;\n      group.setAttribute('transform', `translate(0,${yOffset})`);\n    },\n  },\n  async mounted () {\n    await new Promise(fulfill => setTimeout(fulfill, 50));\n    this.centerText();\n  },\n  watch: {\n    async text () {\n      this.$el.setAttribute('transform', '');\n      await new Promise(fulfill => setTimeout(fulfill, 50));\n      this.centerText();\n    },\n  },\n};\n</script>\n\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiLineSvgText.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiLineSvgText.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MultiLineSvgText.vue?vue&type=template&id=440b631b&\"\nimport script from \"./MultiLineSvgText.vue?vue&type=script&lang=js&\"\nexport * from \"./MultiLineSvgText.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <svg\n    width=\"100%\" height=\"100%\"\n    :viewBox=\"viewBox\"\n    preserveAspectRatio=\"xMinYMax meet\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n    class=\"tier-list-svg\"\n    :style=\"mainSvgStyle\"\n  >\n    <g class=\"tier-list-title-group\" v-if=\"titleHeight > 0\">\n      <text\n        v-if=\"titles.left\"\n        :x=\"titleFooterAlignmentConfig.left.x\" :y=\"GENERAL_SVG_CONFIG.PADDING\"\n        alignment-baseline=\"hanging\"\n        :text-anchor=\"titleFooterAlignmentConfig.left.textAnchor\"\n        :font-size=\"GENERAL_SVG_CONFIG.TITLE_FONT_SIZE\"\n        :font-family=\"GENERAL_SVG_CONFIG.FONT_FAMILY\"\n        :style=\"headerFooterTextStyle\"\n        v-text=\"titles.left\"\n      />\n      <text\n        v-if=\"titles.middle\"\n        :x=\"titleFooterAlignmentConfig.middle.x\" :y=\"GENERAL_SVG_CONFIG.PADDING\"\n        alignment-baseline=\"hanging\"\n        :text-anchor=\"titleFooterAlignmentConfig.middle.textAnchor\"\n        :font-size=\"GENERAL_SVG_CONFIG.TITLE_FONT_SIZE\"\n        :font-family=\"GENERAL_SVG_CONFIG.FONT_FAMILY\"\n        :style=\"headerFooterTextStyle\"\n        v-text=\"titles.middle\"\n      />\n      <text\n        v-if=\"titles.right\"\n        :x=\"titleFooterAlignmentConfig.right.x\" :y=\"GENERAL_SVG_CONFIG.PADDING\"\n        alignment-baseline=\"hanging\"\n        :text-anchor=\"titleFooterAlignmentConfig.right.textAnchor\"\n        :font-size=\"GENERAL_SVG_CONFIG.TITLE_FONT_SIZE\"\n        :font-family=\"GENERAL_SVG_CONFIG.FONT_FAMILY\"\n        :style=\"headerFooterTextStyle\"\n        v-text=\"titles.right\"\n      />\n    </g>\n    <g\n      class=\"tier-list-row\"\n      v-for=\"category in categoriesConfig\"\n      :key=\"category.key\"\n      :transform=\"`translate(${GENERAL_SVG_CONFIG.PADDING}, ${category.yOffset})`\"\n    >\n      <g class=\"tier-list-row__identifier-cell\">\n        <rect\n          x=\"0\" y=\"0\"\n          :width=\"categoryWidth\" :height=\"category.trackHeight\"\n          :style=\"getCategoryCellStyle(category)\"\n        />\n        <text\n          v-if=\"!(category.name || '').includes('\\n')\"\n          :x=\"categoryWidth / 2\" :y=\"category.trackHeight / 2\"\n          text-anchor=\"middle\"\n          alignment-baseline=\"middle\"\n          :font-size=\"category.fontSize || GENERAL_SVG_CONFIG.FONT_SIZE\"\n          :font-family=\"GENERAL_SVG_CONFIG.FONT_FAMILY\"\n          :font-weight=\"category.fontWeight\"\n          :font-style=\"category.fontStyle\"\n          :text-decoration=\"category.textDecoration\"\n          :style=\"getCategoryTextStyle(category)\"\n          v-text=\"category.name\"\n        />\n        <multi-line-text\n          v-else\n          :key=\"JSON.stringify(value)\"\n          :text=\"category.name\"\n          :containerHeight=\"GENERAL_SVG_CONFIG.BASE_ROW_HEIGHT\"\n          :textAttributes=\"{\n            x: categoryWidth / 2,\n            y: 0,\n            'text-anchor': 'middle',\n            'alignment-baseline': 'hanging',\n            'font-size': category.fontSize || GENERAL_SVG_CONFIG.FONT_SIZE,\n            'font-family': GENERAL_SVG_CONFIG.FONT_FAMILY,\n            'font-weight': category.fontWeight,\n            'font-style': category.fontStyle,\n            'text-decoration': category.textDecoration,\n            style: getCategoryTextStyle(category),\n          }\"\n        />\n      </g>\n      <g class=\"tier-list-row__entry-track\" :transform=\"`translate(${GENERAL_SVG_CONFIG.PADDING + categoryWidth}, 0)`\">\n        <rect\n          x=\"0\" y=\"0\"\n          :width=\"baseTrackConfig.width\" :height=\"category.trackHeight\"\n          :style=\"baseTrackConfig.style\"\n        />\n        <template v-for=\"(entry, j) in category.entries\">\n          <image\n            :key=\"`${JSON.stringify(entry)}-${j}-image`\"\n            :x=\"getEntryXOffset(j)\" :y=\"getEntryYOffset(j)\"\n            :width=\"GENERAL_SVG_CONFIG.ENTRY_SIZE\" :height=\"GENERAL_SVG_CONFIG.ENTRY_SIZE\"\n            :xlink:href=\"entry.base64Url || entry.imgUrl\"\n            :href=\"entry.base64Url || entry.imgUrl\"\n          />\n          <g v-if=\"showEntryNumber && entry.guideId\" :key=\"`${JSON.stringify(entry)}-${j}-label`\">\n            <text\n              :x=\"getEntryXOffset(j) + GENERAL_SVG_CONFIG.ENTRY_SIZE / 2\" :y=\"getEntryYOffset(j) + unitNumberConfig.yOffset\"\n              :fill=\"unitNumberConfig.fill\"\n              :stroke=\"unitNumberConfig.stroke\"\n              :font-size=\"`${unitNumberConfig.size}px`\"\n              text-anchor=\"middle\"\n              alignment-baseline=\"middle\"\n              font-weight=\"700\"\n              font-family=\"Arial\"\n              v-text=\"`#${entry.guideId}`\"\n            />\n          </g>\n        </template>\n      </g>\n    </g>\n    <g class=\"tier-list-footer-group\">\n      <text\n        v-if=\"footers.left\"\n        :x=\"titleFooterAlignmentConfig.left.x\" :y=\"overallHeight - GENERAL_SVG_CONFIG.PADDING - GENERAL_SVG_CONFIG.FOOTER_FONT_SIZE\"\n        alignment-baseline=\"hanging\"\n        :text-anchor=\"titleFooterAlignmentConfig.left.textAnchor\"\n        :font-size=\"GENERAL_SVG_CONFIG.FOOTER_FONT_SIZE\"\n        :font-family=\"GENERAL_SVG_CONFIG.FONT_FAMILY\"\n        :style=\"headerFooterTextStyle\"\n        v-text=\"footers.left\"\n      />\n      <text\n        v-if=\"footers.right\"\n        :x=\"titleFooterAlignmentConfig.right.x\" :y=\"overallHeight - GENERAL_SVG_CONFIG.PADDING - GENERAL_SVG_CONFIG.FOOTER_FONT_SIZE\"\n        alignment-baseline=\"hanging\"\n        :text-anchor=\"titleFooterAlignmentConfig.right.textAnchor\"\n        :font-size=\"GENERAL_SVG_CONFIG.FOOTER_FONT_SIZE\"\n        :font-family=\"GENERAL_SVG_CONFIG.FONT_FAMILY\"\n        :style=\"headerFooterTextStyle\"\n        v-text=\"footers.right\"\n      />\n      <text\n        :x=\"titleFooterAlignmentConfig.right.x\" :y=\"overallHeight - GENERAL_SVG_CONFIG.DISCLAIMER_FONT_SIZE * 1.25\"\n        alignment-baseline=\"hanging\"\n        :text-anchor=\"titleFooterAlignmentConfig.right.textAnchor\"\n        :font-size=\"GENERAL_SVG_CONFIG.DISCLAIMER_FONT_SIZE\"\n        :font-family=\"GENERAL_SVG_CONFIG.FONT_FAMILY\"\n        :style=\"headerFooterTextStyle\"\n        v-text=\"'Not affiliated with Gumi or Alim'\"\n      />\n    </g>\n  </svg>\n</template>\n\n<script>\nimport colors from 'vuetify/es5/util/colors';\nimport { getDefaultCategories } from '@/modules/core/tier-list-creator';\nimport FlowText from '@/components/SvgFlowText';\nimport MultiLineText from './MultiLineSvgText';\n\nconst GENERAL_SVG_CONFIG = {\n  ENTRY_SIZE: 70,\n  MAX_ENTRIES_PER_ROW: 8,\n  BASE_ROW_HEIGHT: 70,\n  CATEGORY_WIDTH: 100,\n  PADDING: 10,\n  FONT_SIZE: 16, // 1em\n  FONT_FAMILY: 'Arial',\n  FONT_STYLE: 'normal',\n  FONT_WEIGHT: 'normal',\n  TEXT_DECORATION: 'unset',\n  TITLE_FONT_SIZE: 16 * 1.25, // 1.25em\n  FOOTER_FONT_SIZE: 16 * 0.75, // 0.75em\n  DISCLAIMER_FONT_SIZE: 16 * 0.5, // 0.5em\n};\n\nexport default {\n  props: {\n    value: {\n      type: Object,\n      required: true,\n    },\n  },\n  components: {\n    FlowText,\n    MultiLineText,\n  },\n  computed: {\n    mainSvgStyle () {\n      return {\n        'background-color': colors.grey.darken4,\n      };\n    },\n    showEntryNumber () {\n      return !!this.value.unitNumberPosition && this.value.unitNumberPosition !== 'None';\n      // return !!this.value.showEntryNumber;\n    },\n    categories () {\n      return Array.isArray(this.value.categories)\n        ? this.value.categories\n        : getDefaultCategories();\n    },\n    titles () {\n      return {\n        left: this.value.titleLeft || '',\n        middle: this.value.titleMiddle || '',\n        right: this.value.titleRight || '',\n      };\n    },\n    titleFooterAlignmentConfig () {\n      const { getTitleFooterConfigForAlignment } = this;\n      return {\n        left: getTitleFooterConfigForAlignment(-1),\n        middle: getTitleFooterConfigForAlignment(0),\n        right: getTitleFooterConfigForAlignment(1),\n      };\n    },\n    categoryWidth () {\n      return !isNaN(this.value.categoryWidth)\n        ? +this.value.categoryWidth\n        : GENERAL_SVG_CONFIG.CATEGORY_WIDTH;\n    },\n    GENERAL_SVG_CONFIG: () => GENERAL_SVG_CONFIG,\n    maxEntriesPerRow () {\n      return !isNaN(this.value.maxEntriesPerRow)\n        ? +this.value.maxEntriesPerRow\n        : GENERAL_SVG_CONFIG.MAX_ENTRIES_PER_ROW;\n    },\n    overallWidth () {\n      return [\n        GENERAL_SVG_CONFIG.PADDING,\n        this.categoryWidth,\n        GENERAL_SVG_CONFIG.PADDING,\n        this.maxEntriesPerRow * GENERAL_SVG_CONFIG.ENTRY_SIZE,\n        GENERAL_SVG_CONFIG.PADDING,\n      ].reduce((acc, val) => acc + val, 0);\n    },\n    titleHeight () {\n      const titles = this.titles;\n      return (!titles.left && !titles.middle && !titles.right)\n        ? 0\n        : [\n          GENERAL_SVG_CONFIG.TITLE_FONT_SIZE,\n          GENERAL_SVG_CONFIG.PADDING,\n        ].reduce((acc, val) => acc + val, 0);\n    },\n    overallHeight () {\n      const { categoriesConfig } = this;\n      const categoryHeight = categoriesConfig.reduce((acc, val) => acc + val.trackHeight, 0);\n      const paddingForCategories = Math.max(categoriesConfig.length - 1, 0) * GENERAL_SVG_CONFIG.PADDING;\n      return [\n        GENERAL_SVG_CONFIG.PADDING,\n        this.titleHeight,\n        categoryHeight + paddingForCategories,\n        GENERAL_SVG_CONFIG.PADDING,\n        GENERAL_SVG_CONFIG.FOOTER_FONT_SIZE,\n        GENERAL_SVG_CONFIG.PADDING,\n      ].reduce((acc, val) => acc + val, 0);\n    },\n    viewBox () {\n      return `0 0 ${this.overallWidth} ${this.overallHeight}`;\n    },\n    baseTrackConfig () {\n      return {\n        width: this.overallWidth - this.categoryWidth - 3 * GENERAL_SVG_CONFIG.PADDING, // fill width - category cell width - 3x padding (left padding of category + left and right padding of track)\n        style: {\n          fill: colors.grey.darken3,\n        },\n      };\n    },\n    categoriesConfig () {\n      let extraHeight = 0;\n      const { titleHeight } = this;\n      let previousYOffset = 0;\n      return this.categories.map((c, i) => {\n        const name = c.name || `Category ${i + 1}`;\n        // entries are keyed by index of category\n        const associatedInput = (this.value.entries && Array.isArray(this.value.entries[i]))\n          ? this.value.entries[i]\n          : [];\n\n        const yOffset = this.getEntryYOffset(Math.max(0, associatedInput.length - 1));\n        if (previousYOffset > 0) {\n          extraHeight += previousYOffset;\n        }\n        previousYOffset = yOffset;\n        return {\n          name,\n          backgroundColor: c.backgroundColor || colors.grey.lighten1,\n          textColor: c.textColor || colors.shades.black,\n          key: `${name}-${i}`,\n          entries: associatedInput,\n          trackHeight: yOffset + GENERAL_SVG_CONFIG.BASE_ROW_HEIGHT,\n          yOffset: i * GENERAL_SVG_CONFIG.BASE_ROW_HEIGHT + (i + 1) * GENERAL_SVG_CONFIG.PADDING + titleHeight + extraHeight,\n          fontSize: !isNaN(c.fontSize) ? +c.fontSize : GENERAL_SVG_CONFIG.FONT_SIZE,\n          fontWeight: c.fontWeight || GENERAL_SVG_CONFIG.FONT_WEIGHT,\n          fontStyle: c.fontStyle || GENERAL_SVG_CONFIG.FONT_STYLE,\n          textDecoration: c.textDecoration || GENERAL_SVG_CONFIG.TEXT_DECORATION,\n        };\n      });\n    },\n    headerFooterTextStyle () {\n      return {\n        fill: '#fff',\n      };\n    },\n    footers () {\n      return {\n        left: this.value.footerLeft || '',\n        right: this.value.footerRight || 'Made with the Brave Frontier Multi-Tool',\n      };\n    },\n    unitNumberConfig () {\n      const position = this.value.unitNumberPosition;\n      const size = this.value.unitNumberSize;\n      let yOffset = 0;\n      if (position === 'Top') {\n        yOffset = size;\n      } else if (position === 'Middle') {\n        yOffset = GENERAL_SVG_CONFIG.ENTRY_SIZE / 2;\n      } else if (position === 'Bottom') {\n        yOffset = GENERAL_SVG_CONFIG.ENTRY_SIZE - size / 2;\n      }\n      return {\n        yOffset,\n        stroke: this.value.unitNumberStroke,\n        fill: this.value.unitNumberFill,\n        size,\n      };\n    },\n  },\n  methods: {\n    getCategoryCellStyle (category) {\n      return {\n        fill: category.backgroundColor,\n      };\n    },\n    getCategoryTextStyle (category) {\n      return {\n        fill: category.textColor,\n      };\n    },\n    getTitleFooterConfigForAlignment (alignment) {\n      let leftOffset = GENERAL_SVG_CONFIG.PADDING;\n      let textAnchor = 'start'; // left justify by default\n      if (alignment === 0) { // center justify\n        textAnchor = 'middle';\n        leftOffset += this.overallWidth / 2;\n      } else if (alignment > 0) { // right justify\n        textAnchor = 'end';\n        leftOffset = this.overallWidth - GENERAL_SVG_CONFIG.PADDING;\n      }\n      return {\n        x: leftOffset,\n        textAnchor,\n      };\n    },\n    getEntryYOffset (index) {\n      return GENERAL_SVG_CONFIG.ENTRY_SIZE * Math.floor(index / this.maxEntriesPerRow);\n    },\n    getEntryXOffset (index) {\n      const distanceIndex = index % this.maxEntriesPerRow;\n      return GENERAL_SVG_CONFIG.ENTRY_SIZE * distanceIndex;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TierListMainSvg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TierListMainSvg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TierListMainSvg.vue?vue&type=template&id=ec3e5150&\"\nimport script from \"./TierListMainSvg.vue?vue&type=script&lang=js&\"\nexport * from \"./TierListMainSvg.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"category-order-config\"},[_vm._l((_vm.categories),function(category,c){return _c('li',{key:((category.name) + \"-\" + c),staticClass:\"category-order-config--category-entry\"},[_c('div',{staticClass:\"category-order-config--category-entry-header\"},[_c('v-btn',{class:{ 'entry-expansion-icon': true, active: _vm.expandedEntries.includes(c) },attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.toggleExpandedEntry(c)}}},[_c('v-icon',[_vm._v(\"keyboard_arrow_right\")])],1),_c('div',{staticClass:\"category-order-config--category-entry-header-config\"},[_c('v-layout',[_c('category-text-config',{attrs:{\"value\":_vm.editableNameValues[c] || category.name},on:{\"change\":function ($v) { return _vm.updateCategoryValue(c, { name: $v }); }}})],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"align-baseline\":\"\"}},[_c('v-flex',[_c('v-btn-toggle',{attrs:{\"multiple\":\"\",\"value\":_vm.getFontModificationMappingForCategory(category)},on:{\"change\":function ($v) { return _vm.handleModificationMappingUpdate(c, $v); }}},[_c('v-btn',{attrs:{\"flat\":\"\",\"value\":\"bold\"}},[_c('v-icon',[_vm._v(\"format_bold\")])],1),_c('v-btn',{attrs:{\"flat\":\"\",\"value\":\"italic\"}},[_c('v-icon',[_vm._v(\"format_italic\")])],1),_c('v-btn',{attrs:{\"flat\":\"\",\"value\":\"underline\"}},[_c('v-icon',[_vm._v(\"format_underlined\")])],1)],1)],1),_c('v-flex',[_c('label',[_vm._v(\"\\n              Text Color\\n              \"),_c('input',{attrs:{\"type\":\"color\"},domProps:{\"value\":category.textColor},on:{\"input\":function ($v) { return _vm.updateCategoryValue(c, { textColor: $v.target.value }); }}})])]),_c('v-flex',[_c('label',[_vm._v(\"\\n              Background Color\\n              \"),_c('input',{attrs:{\"type\":\"color\"},domProps:{\"value\":category.backgroundColor},on:{\"input\":function ($v) { return _vm.updateCategoryValue(c, { backgroundColor: $v.target.value }); }}})])]),_c('v-flex',[_c('v-text-field',{attrs:{\"label\":\"Font Size\",\"value\":category.fontSize || 16,\"hint\":\"Default: 16\",\"persistent-hint\":\"\"},on:{\"change\":function ($v) { return _vm.updateCategoryValue(c, { fontSize: +$v }); }}})],1)],1)],1),_c('v-spacer'),_c('div',[_c('v-btn',{attrs:{\"block\":\"\",\"flat\":\"\",\"disabled\":c === 0},on:{\"click\":function($event){return _vm.swapOrderForCategory(c, c - 1)}}},[_c('v-icon',[_vm._v(\"keyboard_arrow_up\")])],1),_c('v-btn',{attrs:{\"block\":\"\",\"flat\":\"\"},on:{\"click\":function($event){return _vm.deleteCategory(c)}}},[_c('v-icon',[_vm._v(\"close\")])],1),_c('v-btn',{attrs:{\"block\":\"\",\"flat\":\"\",\"disabled\":c === _vm.categories.length - 1},on:{\"click\":function($event){return _vm.swapOrderForCategory(c, c + 1)}}},[_c('v-icon',[_vm._v(\"keyboard_arrow_down\")])],1)],1)],1),_c('v-expansion-panel',{attrs:{\"value\":_vm.expandedEntries.includes(c) ? 0 : -1}},[_c('v-expansion-panel-content',[_c('ul',{staticClass:\"entry-order-config mx-2\"},[_vm._l((_vm.getEntriesForCategory(c)),function(entry,e){return _c('li',{key:((entry.id || entry.name || entry.imgUrl) + \"-\" + e)},[_c('individual-entry-config',{attrs:{\"entry\":entry,\"entryIndex\":e,\"categories\":_vm.categories,\"numEntries\":_vm.getEntriesForCategory(c).length,\"currentCategoryIndex\":c},on:{\"indexchange\":function (newIndex) { return _vm.swapOrderForEntry(e, newIndex, c); },\"delete\":function($event){return _vm.deleteEntry(entry, c)},\"entry\":function (newEntry) { return _vm.replaceEntry(e, newEntry, c); },\"movecategory\":function (newIndex) { return _vm.moveEntryToCategory(entry, c, newIndex); }}})],1)}),_c('li',[_c('v-btn',{attrs:{\"flat\":\"\",\"large\":\"\"},on:{\"click\":function () { _vm.categoryToAddTo = c; _vm.activeDialog = 'unit'; }}},[_c('v-icon',[_vm._v(\"add\")]),_vm._v(\"\\n              Add Entry\\n            \")],1)],1)],2)])],1)],1)}),_c('li',[_c('v-btn',{attrs:{\"flat\":\"\",\"large\":\"\"},on:{\"click\":_vm.addCategory}},[_c('v-icon',[_vm._v(\"add\")]),_vm._v(\"\\n      Add Category\\n    \")],1),_c('v-dialog',{attrs:{\"value\":!!_vm.activeDialog,\"lazy\":\"\"},on:{\"input\":function($event){_vm.activeDialog = ''}}},[(_vm.activeDialog === 'unit')?_c('unit-selector',{on:{\"input\":function ($d) { return _vm.addEntry($d.data, _vm.categoryToAddTo); },\"cancel\":function($event){_vm.activeDialog = ''}}}):_vm._e()],1)],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"align-center\":\"\"}},[_c('v-layout',{attrs:{\"column\":\"\"}},[_c('v-layout',{attrs:{\"align-center\":\"\"}},[_c('img',{staticClass:\"ma-2\",staticStyle:{\"max-height\":\"70px\"},attrs:{\"src\":_vm.entry.base64Url || _vm.entry.imgUrl,\"width\":\"70\"}}),_c('v-layout',{attrs:{\"column\":\"\"}},[_c('v-flex',[_c('span',{staticClass:\"subheading\"},[_c('b',{domProps:{\"textContent\":_vm._s(_vm.entry.name)}})])]),_c('v-layout',{attrs:{\"wrap\":\"\",\"align-baseline\":\"\"}},[_c('v-flex',[_c('v-text-field',{attrs:{\"label\":\"Alternate Art ID\",\"persistent-hint\":\"\",\"hint\":\"Apply a blank ID to reset to default art\"},model:{value:(_vm.alternateArtId),callback:function ($$v) {_vm.alternateArtId=$$v},expression:\"alternateArtId\"}})],1),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":_vm.applyNewAlternateId}},[_vm._v(\"Apply\")])],1)],1)],1),_c('v-layout',[_c('v-dialog',{attrs:{\"lazy\":\"\",\"scrollable\":\"\",\"max-width\":\"500\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"outline\":\"\",\"block\":\"\"}},on),[_vm._v(\"\\n            Move to Category\\n          \")])]}}]),model:{value:(_vm.showCategoriesDialog),callback:function ($$v) {_vm.showCategoriesDialog=$$v},expression:\"showCategoriesDialog\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"\\n            Select New Category for \"+_vm._s(_vm.entry.name)+\"\\n          \")]),_c('v-divider'),_c('v-card-text',{staticStyle:{\"max-height\":\"300px\"}},[_c('v-list',[_vm._l((_vm.categories),function(category,c){return [_c('v-list-tile',{key:((category.name) + \"-\" + c),attrs:{\"disabled\":c === _vm.currentCategoryIndex},on:{\"click\":function($event){return _vm.moveToNewCategory(c)}}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n                      \"+_vm._s(category.name)+\"\\n                    \")])],1)],1),(c < _vm.numCategories + 1)?_c('v-divider',{key:c}):_vm._e()]})],2)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.showCategoriesDialog = false}}},[_vm._v(\"\\n              Cancel\\n            \")])],1)],1)],1)],1)],1),_c('div',[_c('v-btn',{attrs:{\"block\":\"\",\"flat\":\"\",\"disabled\":_vm.entryIndex === 0},on:{\"click\":function($event){return _vm.$emit('indexchange', _vm.entryIndex - 1)}}},[_c('v-icon',[_vm._v(\"keyboard_arrow_up\")])],1),_c('v-btn',{attrs:{\"block\":\"\",\"flat\":\"\"},on:{\"click\":function($event){return _vm.$emit('delete')}}},[_c('v-icon',[_vm._v(\"close\")])],1),_c('v-btn',{attrs:{\"block\":\"\",\"flat\":\"\",\"disabled\":_vm.entryIndex === _vm.numEntries - 1},on:{\"click\":function($event){return _vm.$emit('indexchange', _vm.entryIndex + 1)}}},[_c('v-icon',[_vm._v(\"keyboard_arrow_down\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-layout align-center>\n    <v-layout column>\n      <v-layout align-center>\n        <img\n          :src=\"entry.base64Url || entry.imgUrl\"\n          width=\"70\"\n          style=\"max-height: 70px\"\n          class=\"ma-2\"\n        />\n        <v-layout column>\n          <v-flex>\n            <span class=\"subheading\">\n              <b v-text=\"entry.name\"/>\n            </span>\n          </v-flex>\n          <v-layout wrap align-baseline>\n            <v-flex>\n              <v-text-field\n                label=\"Alternate Art ID\"\n                persistent-hint\n                hint=\"Apply a blank ID to reset to default art\"\n                v-model=\"alternateArtId\"\n              />\n            </v-flex>\n            <v-btn flat @click=\"applyNewAlternateId\">Apply</v-btn>\n          </v-layout>\n        </v-layout>\n      </v-layout>\n      <v-layout>\n        <v-dialog\n          v-model=\"showCategoriesDialog\"\n          lazy\n          scrollable\n          max-width=\"500\"\n        >\n          <template slot=\"activator\" slot-scope=\"{ on }\">\n            <v-btn outline block v-on=\"on\">\n              Move to Category\n            </v-btn>\n          </template>\n          <v-card>\n            <v-card-title>\n              Select New Category for {{ entry.name }}\n            </v-card-title>\n            <v-divider/>\n            <v-card-text style=\"max-height: 300px;\">\n              <v-list>\n                <template v-for=\"(category, c) in categories\">\n                  <v-list-tile\n                    :disabled=\"c === currentCategoryIndex\"\n                    @click=\"moveToNewCategory(c)\"\n                    :key=\"`${category.name}-${c}`\"\n                  >\n                    <v-list-tile-content>\n                      <v-list-tile-title>\n                        {{ category.name }}\n                      </v-list-tile-title>\n                    </v-list-tile-content>\n                  </v-list-tile>\n                  <v-divider\n                    v-if=\"c < numCategories + 1\"\n                    :key=\"c\"\n                  />\n                </template>\n              </v-list>\n            </v-card-text>\n            <v-card-actions>\n              <v-spacer/>\n              <v-btn flat @click=\"showCategoriesDialog = false\">\n                Cancel\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-layout>\n    </v-layout>\n    <div>\n      <v-btn block flat :disabled=\"entryIndex === 0\" @click=\"$emit('indexchange', entryIndex - 1)\">\n        <v-icon>keyboard_arrow_up</v-icon>\n      </v-btn>\n      <v-btn block flat @click=\"$emit('delete')\">\n        <v-icon>close</v-icon>\n      </v-btn>\n      <v-btn block flat :disabled=\"entryIndex === numEntries - 1\" @click=\"$emit('indexchange', entryIndex + 1)\">\n        <v-icon>keyboard_arrow_down</v-icon>\n      </v-btn>\n    </div>\n  </v-layout>\n</template>\n\n<script>\nexport default {\n  props: {\n    entry: {\n      type: Object,\n      required: true,\n    },\n    numEntries: {\n      type: Number,\n      default: 0,\n    },\n    categories: {\n      type: Array,\n      default: () => [],\n    },\n    entryIndex: {\n      type: Number,\n      default: 0,\n    },\n    currentCategoryIndex: {\n      type: Number,\n      default: 0,\n    },\n  },\n  computed: {\n    numCategories () {\n      return this.categories.length;\n    },\n  },\n  data () {\n    return {\n      alternateArtId: '',\n      showCategoriesDialog: false,\n    };\n  },\n  methods: {\n    applyNewAlternateId () {\n      this.$emit('entry', {\n        ...this.entry,\n        altArtId: this.alternateArtId || '',\n      });\n    },\n    moveToNewCategory (newIndex)  {\n      this.showCategoriesDialog = false;\n      this.$emit('movecategory', newIndex);\n    },\n  },\n  watch: {\n    entry: {\n      immediate: true,\n      handler (newValue) {\n        this.alternateArtId = newValue.altArtId || '';\n      },\n    },\n  },\n};\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IndividualEntryConfig.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IndividualEntryConfig.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IndividualEntryConfig.vue?vue&type=template&id=74a4833a&\"\nimport script from \"./IndividualEntryConfig.vue?vue&type=script&lang=js&\"\nexport * from \"./IndividualEntryConfig.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"column\":\"\"}},[_c('v-layout',{attrs:{\"align-baseline\":\"\",\"justify-space-between\":\"\"}},[_c('h3',[_vm._v(\"Category Name\")]),_c('v-flex',{staticStyle:{\"flex\":\"none\"}},[_c('v-switch',{staticClass:\"mt-0\",attrs:{\"hide-details\":\"\",\"label\":\"Multi-line\"},model:{value:(_vm.isMultiLine),callback:function ($$v) {_vm.isMultiLine=$$v},expression:\"isMultiLine\"}})],1)],1),(!_vm.isMultiLine)?_c('v-layout',{attrs:{\"align-baseline\":\"\"}},[_c('v-text-field',{model:{value:(_vm.localValue),callback:function ($$v) {_vm.localValue=$$v},expression:\"localValue\"}}),_c('v-btn',{attrs:{\"flat\":\"\",\"outline\":_vm.hasDirtyInput},on:{\"click\":function($event){return _vm.emitChange(_vm.localValue)}}},[_vm._v(\"\\n      Apply\\n    \")])],1):_c('v-layout',{attrs:{\"column\":\"\"}},[_c('v-textarea',{attrs:{\"hide-details\":\"\"},model:{value:(_vm.localValue),callback:function ($$v) {_vm.localValue=$$v},expression:\"localValue\"}}),_c('v-btn',{attrs:{\"flat\":\"\",\"outline\":_vm.hasDirtyInput},on:{\"click\":function($event){return _vm.emitChange(_vm.localValue)}}},[_vm._v(\"\\n      Apply\\n    \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-layout column>\n    <v-layout align-baseline justify-space-between>\n      <h3>Category Name</h3>\n      <v-flex style=\"flex: none;\">\n        <v-switch\n          class=\"mt-0\"\n          hide-details\n          v-model=\"isMultiLine\"\n          label=\"Multi-line\"\n        />\n      </v-flex>\n    </v-layout>\n    <v-layout v-if=\"!isMultiLine\" align-baseline>\n      <v-text-field v-model=\"localValue\"/>\n      <v-btn flat :outline=\"hasDirtyInput\" @click=\"emitChange(localValue)\">\n        Apply\n      </v-btn>\n    </v-layout>\n    <v-layout v-else column>\n      <v-textarea v-model=\"localValue\" hide-details/>\n      <v-btn flat :outline=\"hasDirtyInput\" @click=\"emitChange(localValue)\">\n        Apply\n      </v-btn>\n    </v-layout>\n  </v-layout>\n</template>\n\n<script>\nexport default {\n  props: {\n    value: {\n      type: String,\n      default: '',\n    },\n  },\n  data () {\n    return {\n      isMultiLine: false,\n      localValue: '',\n    };\n  },\n  computed: {\n    hasDirtyInput () {\n      return this.value !== this.localValue;\n    },\n  },\n  methods: {\n    emitChange (newValue) {\n      this.$emit('change', newValue);\n    },\n  },\n  watch: {\n    value: {\n      immediate: true,\n      handler (newValue) {\n        this.localValue = newValue.slice();\n        if (newValue && newValue.includes('\\n')) {\n          this.isMultiLine = true;\n        }\n      },\n    },\n    isMultiLine (newValue) {\n      if (!newValue) {\n        this.localValue = this.localValue.replace(/\\n/g, ' ');\n      }\n    },\n  },\n};\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryTextConfig.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryTextConfig.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CategoryTextConfig.vue?vue&type=template&id=91cc79ea&\"\nimport script from \"./CategoryTextConfig.vue?vue&type=script&lang=js&\"\nexport * from \"./CategoryTextConfig.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <ul class=\"category-order-config\">\n    <!-- overall config -->\n    <li\n      v-for=\"(category, c) in categories\"\n      :key=\"`${category.name}-${c}`\"\n      class=\"category-order-config--category-entry\"\n    >\n      <div class=\"category-order-config--category-entry-header\">\n        <v-btn\n          icon\n          :class=\"{ 'entry-expansion-icon': true, active: expandedEntries.includes(c) }\"\n          @click=\"toggleExpandedEntry(c)\"\n        >\n          <v-icon>keyboard_arrow_right</v-icon>\n        </v-btn>\n        <div class=\"category-order-config--category-entry-header-config\">\n          <v-layout>\n            <category-text-config\n              :value=\"editableNameValues[c] || category.name\"\n              @change=\"$v => updateCategoryValue(c, { name: $v })\"\n            />\n          </v-layout>\n          <v-layout row wrap align-baseline>\n            <v-flex>\n              <v-btn-toggle\n                multiple\n                :value=\"getFontModificationMappingForCategory(category)\"\n                @change=\"$v => handleModificationMappingUpdate(c, $v)\"\n              >\n                <v-btn flat value=\"bold\">\n                  <v-icon>format_bold</v-icon>\n                </v-btn>\n                <v-btn flat value=\"italic\">\n                  <v-icon>format_italic</v-icon>\n                </v-btn>\n                <v-btn flat value=\"underline\">\n                  <v-icon>format_underlined</v-icon>\n                </v-btn>\n              </v-btn-toggle>\n            </v-flex>\n            <v-flex>\n              <label>\n                Text Color\n                <input\n                  type=\"color\"\n                  :value=\"category.textColor\"\n                  @input=\"$v => updateCategoryValue(c, { textColor: $v.target.value })\"\n                />\n              </label>\n            </v-flex>\n            <v-flex>\n              <label>\n                Background Color\n                <input\n                  type=\"color\"\n                  :value=\"category.backgroundColor\"\n                  @input=\"$v => updateCategoryValue(c, { backgroundColor: $v.target.value })\"\n                />\n              </label>\n            </v-flex>\n            <v-flex>\n              <v-text-field\n                label=\"Font Size\"\n                :value=\"category.fontSize || 16\"\n                @change=\"$v => updateCategoryValue(c, { fontSize: +$v })\"\n                hint=\"Default: 16\"\n                persistent-hint\n              />\n            </v-flex>\n          </v-layout>\n        </div>\n        <v-spacer/>\n        <div>\n          <v-btn\n            block flat\n            :disabled=\"c === 0\"\n            @click=\"swapOrderForCategory(c, c - 1)\"\n          >\n            <v-icon>keyboard_arrow_up</v-icon>\n          </v-btn>\n          <v-btn\n            block flat\n            @click=\"deleteCategory(c)\"\n          >\n            <v-icon>close</v-icon>\n          </v-btn>\n          <v-btn\n            block flat\n            :disabled=\"c === categories.length - 1\"\n            @click=\"swapOrderForCategory(c, c + 1)\"\n          >\n            <v-icon>keyboard_arrow_down</v-icon>\n          </v-btn>\n        </div>\n      </div>\n      <v-expansion-panel :value=\"expandedEntries.includes(c) ? 0 : -1\">\n        <v-expansion-panel-content>\n          <ul class=\"entry-order-config mx-2\">\n            <li\n              v-for=\"(entry, e) in getEntriesForCategory(c)\"\n              :key=\"`${entry.id || entry.name || entry.imgUrl}-${e}`\"\n            >\n              <individual-entry-config\n                :entry=\"entry\"\n                :entryIndex=\"e\"\n                :categories=\"categories\"\n                :numEntries=\"getEntriesForCategory(c).length\"\n                :currentCategoryIndex=\"c\"\n                @indexchange=\"newIndex => swapOrderForEntry(e, newIndex, c)\"\n                @delete=\"deleteEntry(entry, c)\"\n                @entry=\"newEntry => replaceEntry(e, newEntry, c)\"\n                @movecategory=\"newIndex => moveEntryToCategory(entry, c, newIndex)\"\n              />\n            </li>\n            <li>\n              <v-btn flat large @click=\"() => { categoryToAddTo = c; activeDialog = 'unit'; }\">\n                <v-icon>add</v-icon>\n                Add Entry\n              </v-btn>\n            </li>\n          </ul>\n        </v-expansion-panel-content>\n      </v-expansion-panel>\n    </li>\n    <li>\n      <v-btn flat large @click=\"addCategory\">\n        <v-icon>add</v-icon>\n        Add Category\n      </v-btn>\n      <v-dialog\n        :value=\"!!activeDialog\"\n        @input=\"activeDialog = ''\"\n        lazy\n      >\n        <unit-selector\n          v-if=\"activeDialog === 'unit'\"\n          @input=\"$d => addEntry($d.data, categoryToAddTo)\"\n          @cancel=\"activeDialog = ''\"\n        />\n      </v-dialog>\n    </li>\n  </ul>\n</template>\n\n<script>\nimport { convertCodeToCategory } from '@/modules/core/tier-list-creator';\nimport UnitSelector from '@/components/Tools/Squads/MultidexSelectors/UnitSelector';\nimport IndividualEntryConfig from './IndividualEntryConfig';\nimport CategoryTextConfig from './CategoryTextConfig';\nimport throttle from 'lodash/throttle';\n\nexport default {\n  components: {\n    IndividualEntryConfig,\n    CategoryTextConfig,\n    UnitSelector,\n  },\n  props: {\n    value: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    categories () {\n      return Array.isArray(this.value.categories)\n        ? this.value.categories\n        : [];\n    },\n    hasEntries () {\n      return Array.isArray(this.value.entries);\n    },\n    allEntries () {\n      return this.value.entries;\n    },\n  },\n  data () {\n    return {\n      expandedEntries: [],\n      activeDialog: '',\n      categoryToAddTo: -1,\n      editableNameValues: {},\n    };\n  },\n  methods: {\n    toggleExpandedEntry (index) {\n      if (this.expandedEntries.includes(index)) {\n        this.expandedEntries = this.expandedEntries.filter(e => e !== index);\n      } else {\n        this.expandedEntries.push(index);\n      }\n    },\n    getEntriesForCategory (index) {\n      return this.hasEntries && Array.isArray(this.allEntries[index])\n        ? this.allEntries[index]\n        : [];\n    },\n    emitNewValue (newValue = {}) {\n      this.$emit('input', {\n        ...this.value,\n        ...newValue,\n      });\n    },\n    emitNewEntriesForCategory (newEntries, categoryIndex) {\n      if (this.allEntries[categoryIndex]) {\n        const newFullEntries = this.allEntries.slice();\n        newFullEntries[categoryIndex] = newEntries;\n        this.emitNewValue({\n          entries: newFullEntries,\n        });\n      }\n    },\n    swapOrderForEntry (newIndex, oldIndex, categoryIndex) {\n      const categoryEntries = this.getEntriesForCategory(categoryIndex);\n      if (categoryEntries[oldIndex] && categoryEntries[newIndex]) {\n        const currentEntry = categoryEntries[oldIndex];\n        const entryToSwap = categoryEntries[newIndex];\n\n        this.emitNewEntriesForCategory(\n          categoryEntries.map(entry => {\n            if (entry === currentEntry) {\n              return entryToSwap;\n            } else if (entry === entryToSwap) {\n              return currentEntry;\n            } else {\n              return entry;\n            }\n          }),\n          categoryIndex,\n        );\n      }\n    },\n    deleteEntry (entryToDelete, categoryIndex) {\n      if (this.allEntries[categoryIndex]) {\n        const categoryEntries = this.getEntriesForCategory(categoryIndex);\n        this.emitNewEntriesForCategory(\n          categoryEntries.filter(e => e !== entryToDelete),\n          categoryIndex,\n        );\n      }\n    },\n    replaceEntry (entryIndex, newEntry, categoryIndex) {\n      if (this.allEntries[categoryIndex]) {\n        const categoryEntries = this.getEntriesForCategory(categoryIndex);\n        this.emitNewEntriesForCategory(\n          categoryEntries.map((e, i) => i !== entryIndex ? e : newEntry),\n          categoryIndex,\n        );\n      }\n    },\n    moveEntryToCategory (entry, oldCategoryIndex, newCategoryIndex) {\n      if (this.allEntries[oldCategoryIndex] && this.allEntries[newCategoryIndex]) {\n        const oldCategoryEntries = this.getEntriesForCategory(oldCategoryIndex);\n        const newCategoryEntries = this.getEntriesForCategory(newCategoryIndex);\n        const newFullEntries = this.allEntries.slice();\n        newFullEntries[oldCategoryIndex] = oldCategoryEntries.filter(e => e !== entry);\n        newFullEntries[newCategoryIndex] = newCategoryEntries.concat([entry]);\n        this.emitNewValue({\n          entries: newFullEntries,\n        });\n      }\n    },\n    async addEntry (unitPromise, categoryIndex) {\n      if (this.allEntries[categoryIndex]) {\n        const categoryEntries = this.getEntriesForCategory(categoryIndex);\n        const data = await unitPromise;\n        this.activeDialog = '';\n        this.emitNewEntriesForCategory(\n          categoryEntries.concat([{\n            type: \"unit\",\n            name: data.name,\n            id: `${data.id}`,\n          }]),\n          categoryIndex,\n        );\n      }\n    },\n    addCategory () {\n      const newCategory = convertCodeToCategory('Category');\n      this.emitNewValue({\n        categories: this.categories.concat([newCategory]),\n        entries: this.allEntries.concat([]),\n      });\n    },\n    deleteCategory (categoryIndex) {\n      const { categories } = this;\n      if (categories[categoryIndex]) {\n        const newCategories = categories.filter((_, i) => i !== categoryIndex);\n        const newEntries = this.allEntries.filter((_, i) => i !== categoryIndex);\n        this.emitNewValue({\n          categories: newCategories,\n          entries: newEntries,\n        });\n      }\n    },\n    swapOrderForCategory (oldIndex, newIndex) {\n      const { categories } = this;\n      if (categories[oldIndex] && categories[newIndex]) {\n        const categoryAtOldIndex = categories[oldIndex];\n        const categoryAtNewIndex = categories[newIndex];\n        const entriesAtOldIndex = this.getEntriesForCategory(oldIndex);\n        const entriesAtNewIndex = this.getEntriesForCategory(newIndex);\n\n        const newCategories = categories.slice();\n        const newEntries = this.allEntries.slice();\n\n        newCategories[oldIndex] = categoryAtNewIndex;\n        newCategories[newIndex] = categoryAtOldIndex;\n        newEntries[oldIndex] = entriesAtNewIndex;\n        newEntries[newIndex] = entriesAtOldIndex;\n\n        this.emitNewValue({\n          categories: newCategories,\n          entries: newEntries,\n        });\n      }\n    },\n    updateCategoryValue (categoryIndex, newValue = {}) {\n      const { categories } = this;\n      if (categories[categoryIndex]) {\n        const newCategories = categories.slice();\n        newCategories[categoryIndex] = {\n          ...categories[categoryIndex],\n          ...newValue,\n        };\n\n        this.emitNewValue({\n          categories: newCategories,\n        });\n      }\n    },\n    throttledUpdateCategoryValue: throttle(function(index, value) {\n      this.updateCategoryValue(index, value);\n    }, 500),\n    getFontModificationMappingForCategory (category) {\n      return [\n        category.fontWeight === 'bold' && 'bold',\n        category.fontStyle === 'italic' && 'italic',\n        category.textDecoration === 'underline' && 'underline',\n      ].filter((v) => v);\n    },\n    handleModificationMappingUpdate (categoryIndex, values = []) {\n      const fontModificationValues = {\n        fontWeight: values.includes('bold') ? 'bold' : 'normal',\n        fontStyle: values.includes('italic') ? 'italic' : 'normal',\n        textDecoration: values.includes('underline') ? 'underline' : 'unset',\n      };\n      this.updateCategoryValue(categoryIndex, fontModificationValues);\n    },\n  },\n  watch: {\n    value () {\n      // reset name fields on new config\n      this.editableNameValues = {};\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.entry-order-config {\n  list-style-type: none;\n  padding-left: 0;\n}\n\n.category-order-config {\n  list-style-type: none;\n  padding-left: 0;\n\n  &--category-entry-header {\n    display: flex;\n    align-items: center;\n    padding: 1em 0;\n\n    .entry-expansion-icon.active {\n      transform: rotate(90deg);\n    }\n\n    &-config {\n      width: 100%;\n\n      label {\n        display: flex;\n        align-items: center;\n      }\n    }\n\n    &:not(:last-child) {\n      border-bottom: 1px solid var(--background-color-alt);\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryConfig.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryConfig.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CategoryConfig.vue?vue&type=template&id=a325d5d4&\"\nimport script from \"./CategoryConfig.vue?vue&type=script&lang=js&\"\nexport * from \"./CategoryConfig.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CategoryConfig.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"tier-list-multidex-links\"},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[(_vm.entryIdSet.length === 0)?_c('v-flex',{staticClass:\"pa-2\"},[_vm._v(\"\\n      No entries found.\\n    \")]):_vm._e(),_vm._l((_vm.entryIdSet),function(entry){return _c('v-flex',{key:entry,staticClass:\"pa-2\",attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('unit-entry-card',{attrs:{\"entry\":_vm.dataByEntry.get(entry),\"to\":_vm.linkByEntry.get(entry)}})],1)})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"tier-list-multidex-links\">\n    <v-layout row wrap>\n      <v-flex v-if=\"entryIdSet.length === 0\" class=\"pa-2\">\n        No entries found.\n      </v-flex>\n      <v-flex\n        v-for=\"entry in entryIdSet\"\n        :key=\"entry\"\n        xs12 sm6\n        class=\"pa-2\"\n      >\n        <unit-entry-card\n          :entry=\"dataByEntry.get(entry)\"\n          :to=\"linkByEntry.get(entry)\"\n        />\n      </v-flex>\n    </v-layout>\n  </section>\n</template>\n\n<script>\nimport UnitEntryCard from '@/components/Multidex/Units/EntryCard';\n// TODO: support other types besides unit?\n\nexport default {\n  props: {\n    entries: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  components: {\n    UnitEntryCard,\n  },\n  computed: {\n    entryIdSet () {\n      const units = new Set();\n      this.entries.forEach(categoryEntries => {\n        categoryEntries.forEach(entry => {\n          units.add(entry.id);\n        });\n      });\n      return Array.from(units);\n    },\n    dataByEntry () {\n      const mapping = new Map();\n      const getUnit = this.$store.getters['units/getById'];\n      this.entryIdSet.forEach(entry => {\n        mapping.set(entry, getUnit(entry) || { id: entry });\n      });\n      return mapping;\n    },\n    linkByEntry () {\n      const mapping = new Map();\n      const getUrl = this.$store.getters['units/getMultidexPathTo'];\n      this.entryIdSet.forEach(entry => {\n        mapping.set(entry, getUrl(entry));\n      });\n      return mapping;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultidexLinks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultidexLinks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MultidexLinks.vue?vue&type=template&id=3bdc6555&\"\nimport script from \"./MultidexLinks.vue?vue&type=script&lang=js&\"\nexport * from \"./MultidexLinks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section class=\"tier-list-input-area\">\n    <section class=\"tier-list-svg-container\">\n      <tier-list-svg v-model=\"svgConfig\" id=\"tier-list-svg\"/>\n    </section>\n    <!-- <div class=\"text-xs-center\" style=\"margin-top: -26px;\">\n      <v-btn fab small>\n        <v-icon>keyboard_arrow_up</v-icon>\n      </v-btn>\n      <v-btn fab small>\n        <v-icon>keyboard_arrow_down</v-icon>\n      </v-btn>\n    </div> -->\n    <card-tabs-container\n      v-model=\"currentTabIndex\"\n      :tabs=\"tabs\"\n      containerClass=\"pt-1 px-0\"\n    >\n      <v-container fluid class=\"py-0 px-1\" slot=\"general\" grid-list-md>\n        <v-layout align-baseline>\n          <v-text-field\n            v-model=\"importCode\"\n            label=\"Import Code\"\n            persistent-hint\n            hint=\"Apply an empty code to reset the tier list\"\n          />\n          <v-btn :flat=\"!importCode\" @click=\"applyImportCode\">\n            {{ importCode ? 'Import' : 'Reset' }}\n          </v-btn>\n        </v-layout>\n        <v-layout align-baseline>\n          <h3>Header Text</h3>\n          <v-switch class=\"px-2 mt-0\" hide-details v-model=\"showTitles\"/>\n        </v-layout>\n        <v-layout row wrap>\n          <v-flex xs12 sm4>\n            <v-text-field\n              label=\"Left Title\"\n              :disabled=\"!showTitles\"\n              v-model=\"titleLeft\"\n            />\n          </v-flex>\n          <v-flex xs12 sm4>\n            <v-text-field\n              label=\"Middle Title\"\n              :disabled=\"!showTitles\"\n              v-model=\"titleMiddle\"\n            />\n          </v-flex>\n          <v-flex xs12 sm4>\n            <v-text-field\n              label=\"Right Title\"\n              :disabled=\"!showTitles\"\n              v-model=\"titleRight\"\n            />\n          </v-flex>\n        </v-layout>\n        <v-layout>\n          <h3>Footer Text</h3>\n        </v-layout>\n        <v-flex>\n          <v-text-field\n            label=\"Left Footer\"\n            v-model=\"footerLeft\"\n          />\n        </v-flex>\n      </v-container>\n      <section slot=\"links\">\n        <multidex-links :entries=\"svgConfig.entries\"/>\n      </section>\n      <section slot=\"entries\">\n        <v-layout wrap align-baseline class=\"px-2\">\n          <v-flex xs12 md3>\n            <label :class=\"{\n              'v-label': true,\n              'theme--dark': !$store.state.settings.lightMode,\n              'theme--light': $store.state.settings.lightMode\n            }\">Image Type</label>\n          </v-flex>\n          <v-flex\n            v-for=\"type in IMAGE_TYPES\"\n            :key=\"type.key\"\n            md3 xs12\n          >\n            <v-btn\n              :outline=\"activeImageType === type.key\"\n              flat block\n              @click=\"activeImageType = type.key\"\n            >\n              {{ type.name }}\n            </v-btn>\n          </v-flex>\n        </v-layout>\n        <v-layout column align-baseline class=\"px-2\">\n          <v-layout align-baseline style=\"width: 100%\">\n            <label :class=\"{\n              'v-label': true,\n              'theme--dark': !$store.state.settings.lightMode,\n              'theme--light': $store.state.settings.lightMode\n            }\">Unit Numbers</label>\n            <v-select\n              class=\"px-2\"\n              :items=\"unitNumberPositionKeys\"\n              :value=\"svgConfig.unitNumberPosition\"\n              @input=\"getSetterForSvgProperty('unitNumberPosition')($event)\"\n            />\n          </v-layout>\n          <v-layout row wrap align-baseline style=\"width: 100%\" class=\"px-2\">\n            <v-flex>\n              <label>\n                Text Fill Color\n                <input\n                  type=\"color\"\n                  :disabled=\"!showUnitNumbers\"\n                  :value=\"svgConfig.unitNumberFill\"\n                  @input=\"getSetterForSvgProperty('unitNumberFill')($event)\"\n                />\n              </label>\n            </v-flex>\n            <v-flex>\n              <label>\n                Text Stroke Color\n                <input\n                  type=\"color\"\n                  :disabled=\"!showUnitNumbers\"\n                  :value=\"svgConfig.unitNumberStroke\"\n                  @input=\"getSetterForSvgProperty('unitNumberStroke')($event)\"\n                />\n              </label>\n            </v-flex>\n            <v-flex>\n              <v-text-field\n                class=\"px-1\"\n                label=\"Font Size\"\n                :disabled=\"!showUnitNumbers\"\n                :value=\"svgConfig.unitNumberSize\"\n                @change=\"getSetterForSvgProperty('unitNumberSize')($event)\"\n                hint=\"Default: 20\"\n                persistent-hint\n              />\n            </v-flex>\n          </v-layout>\n        </v-layout>\n        <v-layout wrap align-baseline class=\"px-2\">\n          <v-btn flat @click=\"categoryWidth = categoryWidth - 10\">\n            -10\n          </v-btn>\n          <v-btn flat @click=\"categoryWidth = categoryWidth - 1\">\n            -1\n          </v-btn>\n          <v-flex>\n            <v-text-field\n              label=\"Category Width\"\n              :value=\"categoryWidth\"\n              @change=\"$v => categoryWidth = +$v >= 0 ? +$v : 100\"\n              hide-details\n            />\n          </v-flex>\n          <v-btn flat @click=\"categoryWidth = categoryWidth + 1\">\n            +1\n          </v-btn>\n          <v-btn flat @click=\"categoryWidth = categoryWidth + 10\">\n            +10\n          </v-btn>\n        </v-layout>\n        <v-layout class=\"px-2\">\n          <v-slider\n            v-model=\"maxEntriesPerRow\"\n            label=\"Max Entries per Row\"\n            thumb-label=\"always\"\n            thumb-size=\"24\"\n            hide-details\n            min=\"3\" max=\"20\"\n            @change=\"updateMaxEntries\"\n          />\n        </v-layout>\n        <category-config v-model=\"svgConfig\"/>\n      </section>\n      <v-layout slot=\"export\" column>\n        <v-layout>\n          <v-text-field\n            :key=\"shareableConfigCode\"\n            label=\"Scale Factor\"\n            :value=\"scaleFactor\"\n            @change=\"$v => scaleFactor = +$v > 0 ? +$v : 1\"\n            :hint=\"getEstimatedDimensionsText()\"\n            persistent-hint\n          />\n        </v-layout>\n        <v-layout>\n          <v-flex xs6>\n            <v-btn\n              @click=\"onGenerateButtonClick\"\n              block\n              class=\"mr-2\"\n            >\n              Generate Image\n            </v-btn>\n          </v-flex>\n          <v-flex xs6>\n            <promise-wait :promise=\"generateImageLinkPromise\">\n              <template slot=\"loading\">\n                <v-btn\n                  block\n                  class=\"ml-2\"\n                  disabled\n                  loading\n                />\n              </template>\n              <template slot-scope=\"{ result }\">\n                <v-btn\n                  block\n                  class=\"ml-2\"\n                  :color=\"(result.downloadLink && 'primary') || undefined\"\n                  :disabled=\"!result.downloadLink\"\n                  :href=\"result.downloadLink\"\n                  target=\"_blank\"\n                >\n                  Download Image\n                </v-btn>\n              </template>\n            </promise-wait>\n          </v-flex>\n        </v-layout>\n        <v-flex>\n          <one-line-text-viewer\n            :inputText=\"shareableConfigCode\"\n            label=\"Code\"\n            :value=\"shareableConfigCode\"\n          />\n        </v-flex>\n      </v-layout>\n    </card-tabs-container>\n    <div v-show=\"showGeneratedSvg\" style=\"position: absolute; left: -100%; top: -100%;\">\n      <promise-wait :promise=\"transformedSvgConfigPromise\">\n        <span slot=\"loading\"/>\n        <template slot-scope=\"{ result }\">\n          <tier-list-svg :value=\"result\" id=\"tier-list-svg-transformed\"/>\n        </template>\n      </promise-wait>\n    </div>\n    <v-dialog\n      v-model=\"showGeneratingDialog\"\n      persistent\n      max-width=\"500\"\n    >\n      <v-card>\n        <v-container justify-center align-center>\n          <v-layout>\n            Generating Output Image\n          </v-layout>\n          <v-layout v-if=\"!imageGenerationErrorMessage\">\n            <v-progress-linear indeterminate/>\n          </v-layout>\n          <v-layout v-else>\n            <v-alert :value=\"true\" type=\"error\">\n              <span v-text=\"imageGenerationErrorMessage\"/>\n            </v-alert>\n          </v-layout>\n        </v-container>\n        <v-card-actions>\n          <v-spacer/>\n          <v-btn flat @click=\"cancelImageGeneration\">\n            Cancel\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </section>\n</template>\n\n<script>\nimport { fetchBase64Png, generateTierListCode, getDefaultCategories, parseTierListCode } from '@/modules/core/tier-list-creator';\nimport { getUnitImageUrls } from '@/modules/core/units';\nimport PromiseWait from '@/components/PromiseWait';\nimport CardTabsContainer from '@/components/CardTabsContainer';\nimport OneLineTextViewer from '@/components/OneLineTextViewer';\nimport TierListSvg from './TierListMainSvg';\nimport CategoryConfig from './CategoryConfig';\nimport MultidexLinks from './MultidexLinks';\nimport throttle from 'lodash/throttle';\n\nconst IMAGE_TYPES = [\n  { name: 'Elemental Thumbnail', key: 'ills_thum' },\n  { name: 'Battle Thumbnail', key: 'ills_battle' },\n  { name: 'Full Illustration', key: 'ills_full' },\n  // TODO: support idle sprites\n];\n\nconst generateDefaultSvgConfig = () => ({\n  categories: [],\n  entries: [],\n  titleMiddle: 'My Tier List',\n  imageType: 'ills_thum',\n  scaleFactor: 1,\n  maxEntriesPerRow: 8,\n  footerLeft: `Created ${new Date().toDateString()}`,\n  unitNumberPosition: 'None',\n  unitNumberStroke: '#000000',\n  unitNumberFill: '#ffffff',\n  unitNumberSize: 20,\n});\n\nexport default {\n  props: {\n    inputCategories: {\n      type: Array,\n      default: () => [],\n    },\n    inputEntries: {\n      type: Array,\n      default: () => [],\n    },\n    inputConfig: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  components: {\n    PromiseWait,\n    CardTabsContainer,\n    TierListSvg,\n    CategoryConfig,\n    OneLineTextViewer,\n    MultidexLinks,\n  },\n  computed: {\n    tabs: () => Object.freeze(['General', 'Entries', 'Export', 'Links'].map(name => ({ name, slot: name.toLowerCase() }))),\n    titleKeys: () => Object.freeze(['titleLeft', 'titleMiddle', 'titleRight']),\n    unitNumberPositionKeys: () => Object.freeze(['None', 'Top', 'Middle', 'Bottom']),\n    currentConfigCode () {\n      const { categories, entries, ...config } = this.svgConfig;\n      return generateTierListCode(categories, entries, config);\n    },\n    shareableConfigCode () {\n      return encodeURIComponent(this.currentConfigCode);\n    },\n    hasEntriesWithoutUrl () {\n      return this.svgConfig.entries.some(categoryEntries => {\n        return categoryEntries.some(entry => !entry.imgUrl);\n      });\n    },\n    defaultCode () {\n      return generateTierListCode(getDefaultCategories());\n    },\n    IMAGE_TYPES: () => IMAGE_TYPES,\n    showUnitNumbers () {\n      return this.svgConfig && this.svgConfig.unitNumberPosition !== 'None';\n    },\n  },\n  data () {\n    return {\n      currentTabIndex: 0,\n      svgConfig: generateDefaultSvgConfig(),\n      transformedSvgConfigPromise: Promise.resolve({}),\n      generateImageLinkPromise: Promise.resolve(''),\n      downloadLink: '',\n      urlToBase64Mapping: new Map(),\n      showTitles: true,\n      titleLeft: '',\n      titleMiddle: '',\n      titleRight: '',\n      footerLeft: '',\n      showGeneratedSvg: false,\n      showGeneratingDialog: false,\n      importCode: '',\n      activeImageType: 'ills_thum',\n      maxEntriesPerRow: 8,\n      scaleFactor: 1,\n      categoryWidth: 100,\n      cancelImageGeneration: () => {},\n      imageGenerationErrorMessage: '',\n      svgPropertySetters: new Map(),\n    };\n  },\n  methods: {\n    getEstimatedDimensionsText () {\n      const svg = this.$el && this.$el.querySelector('svg#tier-list-svg');\n      if (svg) {\n        const { scaleFactor } = this; // eslint-disable-line no-unused-vars\n        const [x, y, width, height] = svg.getAttribute('viewBox').split(' '); // eslint-disable-line no-unused-vars\n        const newWidth = width * scaleFactor;\n        const newHeight = height * scaleFactor;\n        return `Estimated Dimensions: ${newWidth} x ${newHeight}`;\n      } else {\n        return '';\n      }\n    },\n    async generateDownloadLink () {\n      // convert SVG to image\n      const svg = this.$el.querySelector('svg#tier-list-svg-transformed');\n      const blob = new Blob([svg.outerHTML], { type: 'image/svg+xml' });\n      const svgUrl = URL.createObjectURL(blob);\n      const image = await new Promise((fulfill, reject) => {\n        const tempImage = new Image();\n        tempImage.addEventListener('load', () => fulfill(tempImage), { once: true });\n        tempImage.addEventListener('error', (e) => reject(e), { once: true });\n        tempImage.src = svgUrl;\n      });\n\n      // apply image to a canvas\n      const [x, y, width, height] = svg.getAttribute('viewBox').split(' '); // eslint-disable-line no-unused-vars\n      const canvas = document.createElement('canvas');\n      canvas.width = width * this.scaleFactor;\n      canvas.height = height * this.scaleFactor;\n      canvas.getContext('2d').drawImage(image, 0, 0, canvas.width, canvas.height);\n\n      // convert canvas to PNG URL and clean up\n      const pngUrl = await new Promise((fulfill, reject) => {\n        canvas.toBlob((blob) => {\n          try {\n            fulfill(URL.createObjectURL(blob));\n          } catch (e) {\n            reject(e);\n          }\n        }, 'image/png');\n      });\n      image.remove();\n      canvas.remove();\n      URL.revokeObjectURL(svgUrl);\n      return pngUrl;\n    },\n    async waitUntilTrue (fn = () => true, maxAttempts = 100, timeoutLength = 1000) {\n      let currentAttempt = 0;\n      const delay = () => new Promise(fulfill => {\n        setTimeout(() => fulfill(), timeoutLength);\n      });\n\n      let success = false;\n      while (currentAttempt < maxAttempts && !(success = !!fn())) {\n        currentAttempt++;\n        await delay();\n      }\n\n      if (!success) {\n        throw new Error(`Max failed attempts reached (${maxAttempts})`);\n      }\n    },\n    onGenerateButtonClick () {\n      this.generateImageLinkPromise = this.generateImageLink();\n    },\n    async generateImageLink () {\n      let generationCanceled = false;\n      this.cancelImageGeneration = () => {\n        this.showGeneratingDialog = false;\n        this.imageGenerationErrorMessage = '';\n        generationCanceled = true;\n      };\n\n      this.transformedSvgConfigPromise = this.transformSvgConfig(this.svgConfig);\n\n      this.imageGenerationErrorMessage = '';\n      this.showGeneratedSvg = true;\n      this.showGeneratingDialog = true;\n      await this.transformedSvgConfigPromise;\n      // allow time for SVG to render\n      await new Promise(fulfill => setTimeout(() => fulfill(), 1000))\n        .then(() => this.waitUntilTrue(() => !!this.$el.querySelector('svg#tier-list-svg-transformed')))\n        .then(() => new Promise(fulfill => setTimeout(() => fulfill(), 1000)));\n      try {\n        this.downloadLink = await this.generateDownloadLink();\n        this.showGeneratingDialog = false;\n      } catch (e) {\n        this.imageGenerationErrorMessage = (e && e.toString()) || 'An error occurred generating the image.';\n      } finally {\n        this.showGeneratedSvg = false;\n      }\n      if (generationCanceled && this.downloadLink) {\n        URL.revokeObjectURL(this.downloadLink);\n        this.downloadLink = '';\n      }\n      return {\n        downloadLink: this.downloadLink,\n      };\n    },\n    async transformSvgConfig (config = {}) {\n      const initialEntries = Array.isArray(config.entries) ? config.entries : [];\n      const transformedEntries = [];\n      const urlMap = this.urlToBase64Mapping;\n      for (const categoryEntries of initialEntries) {\n        const newCategoryEntries = [];\n        for (const entry of categoryEntries) {\n          let base64Url = entry.base64Url || urlMap.get(entry.imgUrl);\n          if (!base64Url && entry.imgUrl) {\n            base64Url = await fetchBase64Png(entry.imgUrl);\n            urlMap.set(entry.imgUrl, base64Url);\n          }\n          newCategoryEntries.push({\n            ...entry,\n            base64Url,\n          });\n        }\n        transformedEntries.push(newCategoryEntries);\n      }\n      return {\n        ...config,\n        entries: transformedEntries,\n      };\n    },\n    updateKeyInSvgConfig (key, value) {\n      this.svgConfig = {\n        ...this.svgConfig,\n        [key]: value,\n      };\n    },\n    throttledUpdateKeyInSvgConfig: throttle(function(key, value) {\n      this.updateKeyInSvgConfig(key, value);\n    }, 500),\n    getExpandedInputEntries (entries = []) {\n      // TODO: support other types besides unit\n      const getUnit = this.$store.getters['units/getById'];\n      return entries.map(categoryEntries => {\n        return categoryEntries.map(entry => {\n          const urls = getUnitImageUrls({\n            id: entry.id,\n            server: this.$store.state.settings.activeServer,\n            suffix: entry.altArtId ? `_${entry.altArtId}` : '',\n          });\n\n          return {\n            ...entry,\n            imgUrl: urls[this.activeImageType] || urls.ills_thum,\n            name: (getUnit(entry.id) || {}).name || entry.id,\n            guideId: (getUnit(entry.id) || {}).guide_id || entry.id,\n          };\n        });\n      });\n    },\n    applyImportCode () {\n      const { categories, entries, config } = parseTierListCode(this.importCode || this.defaultCode, true);\n      this.svgConfig = {\n        ...this.svgConfig,\n        ...generateDefaultSvgConfig(),\n        ...config,\n        categories,\n        entries,\n      };\n      this.importCode = '';\n    },\n    ensureOverflowIsOff () {\n      if (this.$store.state.disableHtmlOverflow) {\n        this.$store.commit('setHtmlOverflowDisableState', false);\n      }\n    },\n    getSetterForSvgProperty (propertyName) {\n      let setter = this.svgPropertySetters.get(propertyName);\n      if (!setter) {\n        let defaultValue;\n        switch (propertyName) {\n          case 'unitNumberPosition':\n            defaultValue = 'None';\n            break;\n          case 'unitNumberFill':\n            defaultValue = '#ffffff';\n            break;\n          case 'unitNumberStroke':\n            defaultValue = '#000000';\n            break;\n          case 'unitNumberSize':\n            defaultValue = 20;\n            break;\n        }\n        if (typeof defaultValue === 'number') {\n          setter = (newValue) => {\n            const value = (newValue && newValue.target) ? newValue.target.value : newValue;\n            this.updateKeyInSvgConfig(propertyName, +value || defaultValue);\n          };\n        } else {\n          setter = (newValue) => {\n            const value = (newValue && newValue.target) ? newValue.target.value : newValue;\n            this.updateKeyInSvgConfig(propertyName, defaultValue ? (value || defaultValue) : value);\n          };\n        }\n        this.svgPropertySetters.set(propertyName, setter);\n      }\n      return setter;\n    },\n    updateMaxEntries () {\n      this.updateKeyInSvgConfig('maxEntriesPerRow', this.maxEntriesPerRow);\n    },\n  },\n  watch: {\n    currentTabIndex: {\n      immediate: true,\n      handler () {\n        this.ensureOverflowIsOff();\n      },\n    },\n    downloadLink (newValue, oldValue) {\n      // clean up old object URL\n      if (oldValue) {\n        URL.revokeObjectURL(oldValue);\n      }\n    },\n    footerLeft (newValue) {\n      this.throttledUpdateKeyInSvgConfig('footerLeft', this.showTitles ? (newValue || ' ') : '');\n    },\n    titleLeft (newValue) {\n      this.throttledUpdateKeyInSvgConfig('titleLeft', this.showTitles ? (newValue || ' ') : '');\n    },\n    titleMiddle (newValue) {\n      this.throttledUpdateKeyInSvgConfig('titleMiddle', this.showTitles ? (newValue || ' ') : '');\n    },\n    titleRight (newValue) {\n      this.throttledUpdateKeyInSvgConfig('titleRight', this.showTitles ? (newValue || ' ') : '');\n    },\n    showTitles (newValue) {\n      this.titleKeys.forEach(titleKey => {\n        this.updateKeyInSvgConfig(titleKey, newValue ? (this[titleKey] || ' ') : '');\n      });\n    },\n    svgConfig: {\n      immediate: true,\n      handler (newValue) {\n        if (newValue) {\n          // sync with new config\n          this.titleKeys.concat(['footerLeft']).forEach(svgConfigKey => {\n            if (newValue[svgConfigKey] !== this[svgConfigKey]) {\n              this[svgConfigKey] = newValue[svgConfigKey] || '';\n            }\n          });\n        }\n      },\n    },\n    inputCategories (newVal) {\n      this.updateKeyInSvgConfig('categories', newVal);\n    },\n    inputEntries (newVal) {\n      this.updateKeyInSvgConfig('entries', this.getExpandedInputEntries(newVal));\n    },\n    inputConfig (newVal) {\n      this.svgConfig = {\n        ...this.svgConfig,\n        ...newVal,\n      };\n\n      if (!isNaN(newVal.maxEntriesPerRow) && +newVal.maxEntriesPerRow !== this.maxEntriesPerRow) {\n        this.maxEntriesPerRow = +newVal.maxEntriesPerRow;\n      }\n\n      if (!isNaN(newVal.scaleFactor) && +newVal.scaleFactor !== this.scaleFactor) {\n        this.scaleFactor = +newVal.scaleFactor;\n      }\n\n      if (newVal.imageType && newVal.imageType !== this.activeImageType) {\n        this.activeImageType = newVal.imageType;\n      }\n\n      if (!isNaN(newVal.categoryWidth) && +newVal.categoryWidth !== this.categoryWidth) {\n        this.categoryWidth = +newVal.categoryWidth;\n      }\n    },\n    activeImageType (newVal) {\n      this.updateKeyInSvgConfig('entries', this.getExpandedInputEntries(this.svgConfig.entries));\n      this.updateKeyInSvgConfig('imageType', newVal);\n    },\n    currentConfigCode (newVal) {\n      if (newVal !== this.$route.query.code) {\n        this.$router.replace({\n          path: this.$route.path,\n          query: {\n            ...this.$route.query,\n            code: newVal,\n          },\n        });\n      }\n    },\n    hasEntriesWithoutUrl (newValue) {\n      if (newValue) {\n        this.updateKeyInSvgConfig('entries', this.getExpandedInputEntries(this.svgConfig.entries));\n      }\n    },\n    scaleFactor (newVal) {\n      this.updateKeyInSvgConfig('scaleFactor', newVal);\n    },\n    categoryWidth (newWidth) {\n      let actualNewWidth = 100;\n      if (!isNaN(newWidth) && +newWidth >= 0) {\n        actualNewWidth = +newWidth;\n      }\n      if (actualNewWidth !== newWidth) {\n        this.categoryWidth = actualNewWidth;\n      } else if (this.svgConfig.categoryWidth !== actualNewWidth) {\n        this.updateKeyInSvgConfig('categoryWidth', actualNewWidth);\n      }\n    },\n  },\n  mounted () {\n    setTimeout(() => {\n      this.svgConfig = {\n        ...this.svgConfig,\n        ...this.inputConfig,\n        categories: this.inputCategories,\n        entries: this.getExpandedInputEntries(this.inputEntries),\n      };\n    }, 50);\n  },\n};\n</script>\n\n<style lang=\"less\">\n.tier-list-input-area {\n  display: flex;\n  flex-direction: column;\n\n  .v-tabs__bar {\n    background-color: transparent;\n  }\n}\n\n.tier-list-svg-container {\n  overflow: auto;\n  max-height: 60vh;\n  svg {\n    min-width: 768px;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TierListInputArea.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TierListInputArea.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TierListInputArea.vue?vue&type=template&id=da9048e2&\"\nimport script from \"./TierListInputArea.vue?vue&type=script&lang=js&\"\nexport * from \"./TierListInputArea.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TierListInputArea.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-container fluid>\n    <v-layout column>\n      <p>Create and share your own tier list for Brave Frontier! Use the configuration controls below to setup categories and entries per category. Once you're ready, go to the <b>Export</b> tab to generate and download the image. Note that even if you're able to download the resulting image here, it is not hosted anywhere; you will need to upload the image on your preferred image host or host the image yourself.</p>\n      <p><strong>Note:</strong> This only works in Chrome and Chromium-based browsers.</p>\n    </v-layout>\n    <tier-list-input-area\n      class=\"flex\"\n      :inputCategories=\"categories\"\n      :inputEntries=\"entries\"\n      :inputConfig=\"config\"\n    />\n  </v-container>\n</template>\n\n<script>\nimport TierListInputArea from './TierListInputArea';\n\nexport default {\n  props: {\n    categories: {\n      type: Array,\n      defalt: () => [],\n    },\n    entries: {\n      type: Array,\n      default: () => [],\n    },\n    config: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  components: {\n    TierListInputArea,\n  },\n};\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Main.vue?vue&type=template&id=6fe19002&\"\nimport script from \"./Main.vue?vue&type=script&lang=js&\"\nexport * from \"./Main.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <module-checker\n    :requiredModules=\"requiredModules\"\n    :ensureDbSync=\"true\"\n  >\n    <tier-list-creator-page\n      :categories=\"parsedConfiguration.categories\"\n      :entries=\"parsedConfiguration.entries\"\n      :config=\"parsedConfiguration.config\"\n    />\n  </module-checker>\n</template>\n\n<script>\nimport ModuleChecker from '@/components/ModuleChecker';\nimport TierListCreatorPage from '@/components/Tools/TierListCreator/Main';\nimport { parseTierListCode } from '@/modules/core/tier-list-creator';\nimport debounce from 'lodash/debounce';\n\nconst DEFAULT_CODE = 'S-000000-ff8a80,A-000000-ffd180,B-000000-ffee58,C-000000-81c784,D-000000-64b5f6';\nexport default {\n  props: {\n    code: {\n      type: String,\n      default: '',\n    },\n  },\n  components: {\n    ModuleChecker,\n    TierListCreatorPage,\n  },\n  data () {\n    return {\n      isFirstLoad: true,\n    };\n  },\n  computed: {\n    requiredModules: () => Object.freeze([\n      'units',\n    ]),\n    parsedConfiguration () {\n      return parseTierListCode(this.code || (this.isFirstLoad &&  DEFAULT_CODE) || '');\n    },\n  },\n  methods: {\n    storeCode () {\n      if (this.code) {\n        this.$store.commit('tierList/setCurrentCode', this.code);\n      }\n    },\n    debouncedCodeUpdate: debounce(function () {\n      this.storeCode();\n    }, 1000),\n  },\n  watch: {\n    code () {\n      this.isFirstLoad = false;\n      this.debouncedCodeUpdate();\n    },\n  },\n  beforeRouteLeave (to, from, next) {\n    if (this.debouncedCodeUpdate && typeof this.debouncedCodeUpdate.cancel === 'function') {\n      this.debouncedCodeUpdate.cancel();\n    }\n    this.storeCode();\n    next();\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TierListCreator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TierListCreator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TierListCreator.vue?vue&type=template&id=558ab63c&\"\nimport script from \"./TierListCreator.vue?vue&type=script&lang=js&\"\nexport * from \"./TierListCreator.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text-field',{attrs:{\"value\":_vm.inputText,\"label\":_vm.label,\"readonly\":\"\"}}),_c('copy-button',{staticClass:\"mb-0\",attrs:{\"block\":\"\",\"textToCopy\":_vm.inputText,\"value\":_vm.value}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-text-field :value=\"inputText\" :label=\"label\" readonly/>\n    <copy-button block :textToCopy=\"inputText\" :value=\"value\" class=\"mb-0\"/>\n  </div>\n</template>\n\n<script>\nimport CopyButton from '@/components/CopyButton';\nexport default {\n  props: {\n    inputText: {\n      type: String,\n      default: '',\n    },\n    label: {\n      type: String,\n      default: '',\n    },\n    // resets button text on change\n    value: {\n      default: undefined,\n    },\n  },\n  components: {\n    CopyButton,\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OneLineTextViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OneLineTextViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OneLineTextViewer.vue?vue&type=template&id=74910ad5&\"\nimport script from \"./OneLineTextViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./OneLineTextViewer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('module-checker',{attrs:{\"requiredModules\":_vm.requiredModules,\"ensureDbSync\":true,\"useUpdateDialog\":false}},[_c('v-container',{attrs:{\"fluid\":\"\"}},[(_vm.hasSelection)?_c('v-layout',[_c('loading-indicator',{attrs:{\"loadingMessage\":\"Processing selection...\"}})],1):[_c('v-layout',{attrs:{\"row\":\"\",\"align-center\":\"\"}},[_c('v-flex',[_c('v-text-field',{attrs:{\"label\":\"Search\",\"persistent-hint\":\"\",\"hint\":_vm.searchHint},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.sendQuery($event)}},model:{value:(_vm.query),callback:function ($$v) {_vm.query=$$v},expression:\"query\"}})],1),_c('v-flex',{staticStyle:{\"flex-grow\":\"0\"}},[_c('v-btn',{staticClass:\"mr-0\",attrs:{\"icon\":\"\",\"flat\":\"\",\"outline\":_vm.hasDirtyQuery},on:{\"click\":_vm.sendQuery}},[_c('v-icon',[_vm._v(\"search\")])],1)],1)],1),_c('v-layout',{staticStyle:{\"min-height\":\"0\",\"max-height\":\"55vh\",\"flex\":\"1\"}},[_c('div',{staticClass:\"py-2 px-1\",staticStyle:{\"overflow\":\"auto\",\"flex\":\"1\"}},[_vm._t(\"entries\",[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_vm._v(\"\\n                  \"+_vm._s(_vm.entriesToShow)+\"\\n              \")])],{\"entries\":_vm.entriesToShow})],2)]),(_vm.numPages > 1)?_c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\",\"align-center\":\"\"}},[_c('v-pagination',{attrs:{\"total-visible\":_vm.$vuetify.breakpoint.mdAndUp ? 20 : undefined,\"length\":_vm.numPages},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1):_vm._e()],(_vm.showCancelButton)?[_c('v-layout',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.hasSelection),expression:\"!hasSelection\"}],staticStyle:{\"justify-content\":\"flex-end\"},attrs:{\"row\":\"\"}},[_c('v-flex',{staticStyle:{\"flex\":\"none\"}},[_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_vm._v(\"Cancel\")])],1)],1)]:_vm._e()],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card>\n    <module-checker\n      :requiredModules=\"requiredModules\"\n      :ensureDbSync=\"true\"\n      :useUpdateDialog=\"false\"\n    >\n      <v-container fluid>\n        <v-layout v-if=\"hasSelection\">\n          <loading-indicator loadingMessage=\"Processing selection...\"/>\n        </v-layout>\n        <template v-else>\n          <v-layout row align-center>\n            <v-flex>\n              <v-text-field\n                label=\"Search\"\n                v-model=\"query\"\n                @keydown.enter=\"sendQuery\"\n                persistent-hint\n                :hint=\"searchHint\"/>\n            </v-flex>\n            <v-flex style=\"flex-grow: 0;\">\n              <v-btn\n                icon flat\n                :outline=\"hasDirtyQuery\"\n                @click=\"sendQuery\"\n                class=\"mr-0\">\n                <v-icon>search</v-icon>\n              </v-btn>\n            </v-flex>\n          </v-layout>\n          <v-layout style=\"min-height: 0; max-height: 55vh; flex: 1;\">\n            <div style=\"overflow: auto; flex: 1;\" class=\"py-2 px-1\">\n              <slot name=\"entries\" :entries=\"entriesToShow\">\n                <v-layout row wrap>\n                    {{ entriesToShow }}\n                </v-layout>\n              </slot>\n            </div>\n          </v-layout>\n          <v-layout row justify-center align-center v-if=\"numPages > 1\">\n            <v-pagination\n              v-model=\"currentPage\"\n              :total-visible=\"$vuetify.breakpoint.mdAndUp ? 20 : undefined\"\n              :length=\"numPages\"/>\n          </v-layout>\n        </template>\n        <template v-if=\"showCancelButton\">\n          <v-layout row style=\"justify-content: flex-end;\" v-show=\"!hasSelection\">\n            <v-flex style=\"flex: none;\">\n              <v-btn flat @click=\"$emit('cancel')\">Cancel</v-btn>\n            </v-flex>\n          </v-layout>\n        </template>\n      </v-container>\n    </module-checker>\n  </v-card>\n</template>\n\n<script>\nimport LoadingIndicator from '@/components/LoadingIndicator';\nimport ModuleChecker from '@/components/ModuleChecker';\n\nexport default {\n  props: {\n    allEntryIds: {\n      type: Array,\n      default: () => [],\n    },\n    value: {\n      type: String,\n      default: '',\n    },\n    entriesPerPage: {\n      type: Number,\n      default: 24,\n    },\n    hasSelection: {\n      type: Boolean,\n      default: false,\n    },\n    requiredModules: {\n      type: Array,\n      default: () => [],\n    },\n    showCancelButton: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  components: {\n    LoadingIndicator,\n    ModuleChecker,\n  },\n  computed: {\n    numPages () {\n      return Math.ceil(this.allEntryIds.length / this.entriesPerPage);\n    },\n    entriesToShow () {\n      const startIndex = Math.max((this.currentPage - 1) * this.entriesPerPage, 0);\n      return this.allEntryIds.slice(startIndex, startIndex + this.entriesPerPage);\n    },\n    hasDirtyQuery () {\n      return this.query !== this.value;\n    },\n    searchHint () {\n      return [\n        `${this.allEntryIds.length} results`,\n        this.hasDirtyQuery && '*',\n      ].filter(v => v).join('');\n    },\n  },\n  data () {\n    return {\n      currentPage: 1,\n      query: '',\n    };\n  },\n  methods: {\n    sendQuery () {\n      this.$emit('input', this.query);\n    },\n  },\n  watch: {\n    value: {\n      immediate: true,\n      handler (v) {\n        this.query = v || '';\n      },\n    },\n  },\n};\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BaseSelector.vue?vue&type=template&id=4c5972a8&\"\nimport script from \"./BaseSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./BaseSelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TierListInputArea.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TierListInputArea.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}